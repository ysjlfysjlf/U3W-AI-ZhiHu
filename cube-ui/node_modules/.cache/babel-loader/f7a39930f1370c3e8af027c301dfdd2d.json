{"remainingRequest":"D:\\U3W-AIProject_false\\U3W-AI\\cube-ui\\node_modules\\babel-loader\\lib\\index.js!D:\\U3W-AIProject_false\\U3W-AI\\cube-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\U3W-AIProject_false\\U3W-AI\\cube-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\U3W-AIProject_false\\U3W-AI\\cube-ui\\src\\views\\wechat\\chrome\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\U3W-AIProject_false\\U3W-AI\\cube-ui\\src\\views\\wechat\\chrome\\index.vue","mtime":1752933087403},{"path":"D:\\U3W-AIProject_false\\U3W-AI\\cube-ui\\babel.config.js","mtime":1752382983593},{"path":"D:\\U3W-AIProject_false\\U3W-AI\\cube-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1752387764959},{"path":"D:\\U3W-AIProject_false\\U3W-AI\\cube-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1752387764613},{"path":"D:\\U3W-AIProject_false\\U3W-AI\\cube-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1752387764959},{"path":"D:\\U3W-AIProject_false\\U3W-AI\\cube-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1752387756652}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJEOi9VM1ctQUlQcm9qZWN0X2ZhbHNlL1UzVy1BSS9jdWJlLXVpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdC5qcyIpLmRlZmF1bHQ7Ck9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwOwp2YXIgX3JlZ2VuZXJhdG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiRDovVTNXLUFJUHJvamVjdF9mYWxzZS9VM1ctQUkvY3ViZS11aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9yZWdlbmVyYXRvci5qcyIpKTsKdmFyIF9hc3luY1RvR2VuZXJhdG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiRDovVTNXLUFJUHJvamVjdF9mYWxzZS9VM1ctQUkvY3ViZS11aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hc3luY1RvR2VuZXJhdG9yLmpzIikpOwp2YXIgX3RvQ29uc3VtYWJsZUFycmF5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiRDovVTNXLUFJUHJvamVjdF9mYWxzZS9VM1ctQUkvY3ViZS11aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy90b0NvbnN1bWFibGVBcnJheS5qcyIpKTsKdmFyIF9vYmplY3RTcHJlYWQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJEOi9VM1ctQUlQcm9qZWN0X2ZhbHNlL1UzVy1BSS9jdWJlLXVpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL29iamVjdFNwcmVhZDIuanMiKSk7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleC5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4uanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNvcnQuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuanNvbi5zdHJpbmdpZnkuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudmFsdWVzLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0uanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC5pdGVyYXRvci5jb25zdHJ1Y3Rvci5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXNuZXh0Lml0ZXJhdG9yLmZpbHRlci5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXNuZXh0Lml0ZXJhdG9yLmZpbmQuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC5pdGVyYXRvci5mb3ItZWFjaC5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXNuZXh0Lml0ZXJhdG9yLm1hcC5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXNuZXh0Lml0ZXJhdG9yLnNvbWUuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwudG8tanNvbi5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvd2ViLnVybC1zZWFyY2gtcGFyYW1zLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLXNlYXJjaC1wYXJhbXMuZGVsZXRlLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLXNlYXJjaC1wYXJhbXMuaGFzLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLXNlYXJjaC1wYXJhbXMuc2l6ZS5qcyIpOwp2YXIgX21hcmtlZCA9IHJlcXVpcmUoIm1hcmtlZCIpOwp2YXIgX2FpZ2MgPSByZXF1aXJlKCJAL2FwaS93ZWNoYXQvYWlnYyIpOwp2YXIgX3V1aWQgPSByZXF1aXJlKCJ1dWlkIik7CnZhciBfd2Vic29ja2V0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJAL3V0aWxzL3dlYnNvY2tldCIpKTsKdmFyIF9zdG9yZSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiQC9zdG9yZSIpKTsKdmFyIF90dXJuZG93biA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgidHVybmRvd24iKSk7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCnZhciBfZGVmYXVsdCA9IGV4cG9ydHMuZGVmYXVsdCA9IHsKICBuYW1lOiAnQUlNYW5hZ2VtZW50UGxhdGZvcm0nLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VySWQ6IF9zdG9yZS5kZWZhdWx0LnN0YXRlLnVzZXIuaWQsCiAgICAgIGNvcnBJZDogX3N0b3JlLmRlZmF1bHQuc3RhdGUudXNlci5jb3JwX2lkLAogICAgICBjaGF0SWQ6ICgwLCBfdXVpZC52NCkoKSwKICAgICAgZXhwYW5kZWRIaXN0b3J5SXRlbXM6IHt9LAogICAgICB1c2VySW5mb1JlcTogewogICAgICAgIHVzZXJQcm9tcHQ6ICcnLAogICAgICAgIHVzZXJJZDogJycsCiAgICAgICAgY29ycElkOiAnJywKICAgICAgICB0YXNrSWQ6ICcnLAogICAgICAgIHJvbGVzOiAnJywKICAgICAgICB0b25lQ2hhdElkOiAnJywKICAgICAgICB5YkRzQ2hhdElkOiAnJywKICAgICAgICBkYkNoYXRJZDogJycsCiAgICAgICAgaXNOZXdDaGF0OiB0cnVlCiAgICAgIH0sCiAgICAgIGpzb25ScGNSZXFlc3Q6IHsKICAgICAgICBqc29ucnBjOiAnMi4wJywKICAgICAgICBpZDogKDAsIF91dWlkLnY0KSgpLAogICAgICAgIG1ldGhvZDogJycsCiAgICAgICAgcGFyYW1zOiB7fQogICAgICB9LAogICAgICBhaUxpc3Q6IFt7CiAgICAgICAgbmFtZTogJ+efpeS5juebtOetlCcsCiAgICAgICAgYXZhdGFyOiByZXF1aXJlKCcuLi8uLi8uLi9hc3NldHMvYWkvWmhpaHUucG5nJyksCiAgICAgICAgY2FwYWJpbGl0aWVzOiBbewogICAgICAgICAgbGFiZWw6ICfmt7HluqbmgJ3ogIMnLAogICAgICAgICAgdmFsdWU6ICdkZWVwX3RoaW5raW5nJwogICAgICAgIH1dLAogICAgICAgIHNlbGVjdGVkQ2FwYWJpbGl0aWVzOiBbJ2RlZXBfdGhpbmtpbmcnXSwKICAgICAgICBlbmFibGVkOiB0cnVlLAogICAgICAgIHN0YXR1czogJ2lkbGUnLAogICAgICAgIHByb2dyZXNzTG9nczogW10sCiAgICAgICAgaXNFeHBhbmRlZDogdHJ1ZQogICAgICB9LCB7CiAgICAgICAgbmFtZTogJ0RlZXBTZWVrJywKICAgICAgICBhdmF0YXI6IHJlcXVpcmUoJy4uLy4uLy4uL2Fzc2V0cy9sb2dvL0RlZXBzZWVrLnBuZycpLAogICAgICAgIGNhcGFiaWxpdGllczogW3sKICAgICAgICAgIGxhYmVsOiAn5rex5bqm5oCd6ICDJywKICAgICAgICAgIHZhbHVlOiAnZGVlcF90aGlua2luZycKICAgICAgICB9LCB7CiAgICAgICAgICBsYWJlbDogJ+iBlOe9keaQnOe0oicsCiAgICAgICAgICB2YWx1ZTogJ3dlYl9zZWFyY2gnCiAgICAgICAgfV0sCiAgICAgICAgc2VsZWN0ZWRDYXBhYmlsaXRpZXM6IFsnZGVlcF90aGlua2luZycsICd3ZWJfc2VhcmNoJ10sCiAgICAgICAgZW5hYmxlZDogdHJ1ZSwKICAgICAgICBzdGF0dXM6ICdpZGxlJywKICAgICAgICBwcm9ncmVzc0xvZ3M6IFtdLAogICAgICAgIGlzRXhwYW5kZWQ6IHRydWUKICAgICAgfSwgewogICAgICAgIG5hbWU6ICfosYbljIUnLAogICAgICAgIGF2YXRhcjogcmVxdWlyZSgnLi4vLi4vLi4vYXNzZXRzL2FpL+ixhuWMhS5wbmcnKSwKICAgICAgICBjYXBhYmlsaXRpZXM6IFt7CiAgICAgICAgICBsYWJlbDogJ+a3seW6puaAneiAgycsCiAgICAgICAgICB2YWx1ZTogJ2RlZXBfdGhpbmtpbmcnCiAgICAgICAgfV0sCiAgICAgICAgc2VsZWN0ZWRDYXBhYmlsaXRpZXM6IFsnZGVlcF90aGlua2luZyddLAogICAgICAgIGVuYWJsZWQ6IHRydWUsCiAgICAgICAgc3RhdHVzOiAnaWRsZScsCiAgICAgICAgcHJvZ3Jlc3NMb2dzOiBbXSwKICAgICAgICBpc0V4cGFuZGVkOiB0cnVlCiAgICAgIH1dLAogICAgICBwcm9tcHRJbnB1dDogJycsCiAgICAgIHRhc2tTdGFydGVkOiBmYWxzZSwKICAgICAgYXV0b1BsYXk6IGZhbHNlLAogICAgICBzY3JlZW5zaG90czogW10sCiAgICAgIHJlc3VsdHM6IFtdLAogICAgICBhY3RpdmVSZXN1bHRUYWI6ICdyZXN1bHQtMCcsCiAgICAgIGFjdGl2ZUNvbGxhcHNlczogWydhaS1zZWxlY3Rpb24nLCAncHJvbXB0LWlucHV0J10sCiAgICAgIC8vIOm7mOiupOWxleW8gOi/meS4pOS4quWMuuWfnwogICAgICBzaG93SW1hZ2VEaWFsb2c6IGZhbHNlLAogICAgICBjdXJyZW50TGFyZ2VJbWFnZTogJycsCiAgICAgIGVuYWJsZWRBSXM6IFtdLAogICAgICB0dXJuZG93blNlcnZpY2U6IG5ldyBfdHVybmRvd24uZGVmYXVsdCh7CiAgICAgICAgaGVhZGluZ1N0eWxlOiAnYXR4JywKICAgICAgICBjb2RlQmxvY2tTdHlsZTogJ2ZlbmNlZCcsCiAgICAgICAgZW1EZWxpbWl0ZXI6ICcqJwogICAgICB9KSwKICAgICAgc2NvcmVEaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgc2VsZWN0ZWRSZXN1bHRzOiBbXSwKICAgICAgc2NvcmVQcm9tcHQ6ICJcdThCRjdcdTRGNjBcdTZERjFcdTVFQTZcdTk2MDVcdThCRkJcdTRFRTVcdTRFMEJcdTUxRTBcdTdCQzdcdTUxODVcdTVCQjlcdUZGMENcdTRFQ0VcdTU5MUFcdTRFMkFcdTdFRjRcdTVFQTZcdThGREJcdTg4NENcdTkwMTBcdTk4NzlcdTYyNTNcdTUyMDZcdUZGMENcdThGOTNcdTUxRkFcdThCQzRcdTUyMDZcdTdFRDNcdTY3OUNcdTMwMDJcdTVFNzZcdTU3MjhcdTRFRTVcdTRFMEJcdTU0MDRcdTdCQzdcdTY1ODdcdTdBRTBcdTc2ODRcdTU3RkFcdTc4NDBcdTRFMEFcdTUzNUFcdTkxQzdcdTRGMTdcdTk1N0ZcdUZGMENcdTdFRkNcdTU0MDhcdTY1NzRcdTc0MDZcdTRFMDBcdTdCQzdcdTY2RjRcdTUxNjhcdTk3NjJcdTc2ODRcdTY1ODdcdTdBRTBcdTMwMDIiLAogICAgICBsYXlvdXREaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgbGF5b3V0UHJvbXB0OiAnJywKICAgICAgY3VycmVudExheW91dFJlc3VsdDogbnVsbCwKICAgICAgLy8g5b2T5YmN6KaB5o6S54mI55qE57uT5p6cCiAgICAgIGhpc3RvcnlEcmF3ZXJWaXNpYmxlOiBmYWxzZSwKICAgICAgY2hhdEhpc3Rvcnk6IFtdLAogICAgICBwdXNoT2ZmaWNlTnVtOiAwLAogICAgICAvLyDmipXpgJLliLDlhazkvJflj7fnmoTpgJLlop7nvJblj7cKICAgICAgcHVzaGluZ1RvV2VjaGF0OiBmYWxzZSAvLyDmipXpgJLliLDlhazkvJflj7fnmoRsb2FkaW5n54q25oCBCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGNhblNlbmQ6IGZ1bmN0aW9uIGNhblNlbmQoKSB7CiAgICAgIHJldHVybiB0aGlzLnByb21wdElucHV0LnRyaW0oKS5sZW5ndGggPiAwICYmIHRoaXMuYWlMaXN0LnNvbWUoZnVuY3Rpb24gKGFpKSB7CiAgICAgICAgcmV0dXJuIGFpLmVuYWJsZWQ7CiAgICAgIH0pOwogICAgfSwKICAgIGNhblNjb3JlOiBmdW5jdGlvbiBjYW5TY29yZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWRSZXN1bHRzLmxlbmd0aCA+IDAgJiYgdGhpcy5zY29yZVByb21wdC50cmltKCkubGVuZ3RoID4gMDsKICAgIH0sCiAgICBjYW5MYXlvdXQ6IGZ1bmN0aW9uIGNhbkxheW91dCgpIHsKICAgICAgcmV0dXJuIHRoaXMubGF5b3V0UHJvbXB0LnRyaW0oKS5sZW5ndGggPiAwOwogICAgfSwKICAgIGdyb3VwZWRIaXN0b3J5OiBmdW5jdGlvbiBncm91cGVkSGlzdG9yeSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgdmFyIGdyb3VwcyA9IHt9OwogICAgICB2YXIgY2hhdEdyb3VwcyA9IHt9OwoKICAgICAgLy8g6aaW5YWI5oyJY2hhdElk5YiG57uECiAgICAgIHRoaXMuY2hhdEhpc3RvcnkuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIGlmICghY2hhdEdyb3Vwc1tpdGVtLmNoYXRJZF0pIHsKICAgICAgICAgIGNoYXRHcm91cHNbaXRlbS5jaGF0SWRdID0gW107CiAgICAgICAgfQogICAgICAgIGNoYXRHcm91cHNbaXRlbS5jaGF0SWRdLnB1c2goaXRlbSk7CiAgICAgIH0pOwoKICAgICAgLy8g54S25ZCO5oyJ5pel5pyf5YiG57uE77yM5bm25aSE55CG54i25a2Q5YWz57O7CiAgICAgIE9iamVjdC52YWx1ZXMoY2hhdEdyb3VwcykuZm9yRWFjaChmdW5jdGlvbiAoY2hhdEdyb3VwKSB7CiAgICAgICAgLy8g5oyJ5pe26Ze05o6S5bqPCiAgICAgICAgY2hhdEdyb3VwLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICAgIHJldHVybiBuZXcgRGF0ZShhLmNyZWF0ZVRpbWUpIC0gbmV3IERhdGUoYi5jcmVhdGVUaW1lKTsKICAgICAgICB9KTsKCiAgICAgICAgLy8g6I635Y+W5pyA5pep55qE6K6w5b2V5L2c5Li654i257qnCiAgICAgICAgdmFyIHBhcmVudEl0ZW0gPSBjaGF0R3JvdXBbMF07CiAgICAgICAgdmFyIGRhdGUgPSBfdGhpcy5nZXRIaXN0b3J5RGF0ZShwYXJlbnRJdGVtLmNyZWF0ZVRpbWUpOwogICAgICAgIGlmICghZ3JvdXBzW2RhdGVdKSB7CiAgICAgICAgICBncm91cHNbZGF0ZV0gPSBbXTsKICAgICAgICB9CgogICAgICAgIC8vIOa3u+WKoOeItue6p+iusOW9lQogICAgICAgIGdyb3Vwc1tkYXRlXS5wdXNoKCgwLCBfb2JqZWN0U3ByZWFkMi5kZWZhdWx0KSgoMCwgX29iamVjdFNwcmVhZDIuZGVmYXVsdCkoe30sIHBhcmVudEl0ZW0pLCB7fSwgewogICAgICAgICAgaXNQYXJlbnQ6IHRydWUsCiAgICAgICAgICBpc0V4cGFuZGVkOiBfdGhpcy5leHBhbmRlZEhpc3RvcnlJdGVtc1twYXJlbnRJdGVtLmNoYXRJZF0gfHwgZmFsc2UsCiAgICAgICAgICBjaGlsZHJlbjogY2hhdEdyb3VwLnNsaWNlKDEpLm1hcChmdW5jdGlvbiAoY2hpbGQpIHsKICAgICAgICAgICAgcmV0dXJuICgwLCBfb2JqZWN0U3ByZWFkMi5kZWZhdWx0KSgoMCwgX29iamVjdFNwcmVhZDIuZGVmYXVsdCkoe30sIGNoaWxkKSwge30sIHsKICAgICAgICAgICAgICBpc1BhcmVudDogZmFsc2UKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KQogICAgICAgIH0pKTsKICAgICAgfSk7CiAgICAgIHJldHVybiBncm91cHM7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgY29uc29sZS5sb2codGhpcy51c2VySWQpOwogICAgY29uc29sZS5sb2codGhpcy5jb3JwSWQpOwogICAgdGhpcy5pbml0V2ViU29ja2V0KHRoaXMudXNlcklkKTsKICAgIHRoaXMubG9hZENoYXRIaXN0b3J5KDApOyAvLyDliqDovb3ljoblj7LorrDlvZUKICAgIHRoaXMubG9hZExhc3RDaGF0KCk7IC8vIOWKoOi9veS4iuasoeS8muivnQogIH0sCiAgbWV0aG9kczogewogICAgc2VuZFByb21wdDogZnVuY3Rpb24gc2VuZFByb21wdCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIGlmICghdGhpcy5jYW5TZW5kKSByZXR1cm47CiAgICAgIHRoaXMuc2NyZWVuc2hvdHMgPSBbXTsKICAgICAgLy8g5oqY5Y+g5omA5pyJ5Yy65Z+fCiAgICAgIHRoaXMuYWN0aXZlQ29sbGFwc2VzID0gW107CiAgICAgIHRoaXMudGFza1N0YXJ0ZWQgPSB0cnVlOwogICAgICB0aGlzLnJlc3VsdHMgPSBbXTsgLy8g5riF56m65LmL5YmN55qE57uT5p6cCgogICAgICB0aGlzLnVzZXJJbmZvUmVxLnJvbGVzID0gJyc7CiAgICAgIHRoaXMudXNlckluZm9SZXEudGFza0lkID0gKDAsIF91dWlkLnY0KSgpOwogICAgICB0aGlzLnVzZXJJbmZvUmVxLnVzZXJJZCA9IHRoaXMudXNlcklkOwogICAgICB0aGlzLnVzZXJJbmZvUmVxLmNvcnBJZCA9IHRoaXMuY29ycElkOwogICAgICB0aGlzLnVzZXJJbmZvUmVxLnVzZXJQcm9tcHQgPSB0aGlzLnByb21wdElucHV0OwoKICAgICAgLy8g6I635Y+W5ZCv55So55qEQUnliJfooajlj4rlhbbnirbmgIEKICAgICAgdGhpcy5lbmFibGVkQUlzID0gdGhpcy5haUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChhaSkgewogICAgICAgIHJldHVybiBhaS5lbmFibGVkOwogICAgICB9KTsKCiAgICAgIC8vIOWwhuaJgOacieWQr+eUqOeahEFJ54q25oCB6K6+572u5Li66L+Q6KGM5LitCiAgICAgIHRoaXMuZW5hYmxlZEFJcy5mb3JFYWNoKGZ1bmN0aW9uIChhaSkgewogICAgICAgIF90aGlzMi4kc2V0KGFpLCAnc3RhdHVzJywgJ3J1bm5pbmcnKTsKICAgICAgfSk7CiAgICAgIHRoaXMuZW5hYmxlZEFJcy5mb3JFYWNoKGZ1bmN0aW9uIChhaSkgewogICAgICAgIGlmIChhaS5uYW1lID09PSAn55+l5LmO55u0562UJykgewogICAgICAgICAgX3RoaXMyLnVzZXJJbmZvUmVxLnJvbGVzID0gX3RoaXMyLnVzZXJJbmZvUmVxLnJvbGVzICsgJ3poaWh1LCc7CiAgICAgICAgICBpZiAoYWkuc2VsZWN0ZWRDYXBhYmlsaXRpZXMuaW5jbHVkZXMoImRlZXBfdGhpbmtpbmciKSkgewogICAgICAgICAgICBfdGhpczIudXNlckluZm9SZXEucm9sZXMgPSBfdGhpczIudXNlckluZm9SZXEucm9sZXMgKyAnemhpaHUtZGVlcHNlZWstc2RzaywnOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAoYWkubmFtZSA9PT0gJ0RlZXBTZWVrJyAmJiBhaS5lbmFibGVkKSB7CiAgICAgICAgICBfdGhpczIudXNlckluZm9SZXEucm9sZXMgPSBfdGhpczIudXNlckluZm9SZXEucm9sZXMgKyAnZGVlcHNlZWssJzsKICAgICAgICAgIGlmIChhaS5zZWxlY3RlZENhcGFiaWxpdGllcy5pbmNsdWRlcygiZGVlcF90aGlua2luZyIpKSB7CiAgICAgICAgICAgIF90aGlzMi51c2VySW5mb1JlcS5yb2xlcyA9IF90aGlzMi51c2VySW5mb1JlcS5yb2xlcyArICdkcy1zZHNrLCc7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoYWkuc2VsZWN0ZWRDYXBhYmlsaXRpZXMuaW5jbHVkZXMoIndlYl9zZWFyY2giKSkgewogICAgICAgICAgICBfdGhpczIudXNlckluZm9SZXEucm9sZXMgPSBfdGhpczIudXNlckluZm9SZXEucm9sZXMgKyAnZHMtbHdzcywnOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAoYWkubmFtZSA9PT0gJ+ixhuWMhScpIHsKICAgICAgICAgIF90aGlzMi51c2VySW5mb1JlcS5yb2xlcyA9IF90aGlzMi51c2VySW5mb1JlcS5yb2xlcyArICd6ai1kYiwnOwogICAgICAgICAgaWYgKGFpLnNlbGVjdGVkQ2FwYWJpbGl0aWVzLmluY2x1ZGVzKCJkZWVwX3RoaW5raW5nIikpIHsKICAgICAgICAgICAgX3RoaXMyLnVzZXJJbmZvUmVxLnJvbGVzID0gX3RoaXMyLnVzZXJJbmZvUmVxLnJvbGVzICsgJ3pqLWRiLXNkc2ssJzsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgICBjb25zb2xlLmxvZygi5Y+C5pWw77yaIiwgdGhpcy51c2VySW5mb1JlcSk7CgogICAgICAvL+iwg+eUqOWQjuerr+aOpeWPowogICAgICB0aGlzLmpzb25ScGNSZXFlc3QubWV0aG9kID0gIuS9v+eUqEY4UyI7CiAgICAgIHRoaXMuanNvblJwY1JlcWVzdC5wYXJhbXMgPSB0aGlzLnVzZXJJbmZvUmVxOwogICAgICB0aGlzLm1lc3NhZ2UodGhpcy5qc29uUnBjUmVxZXN0KTsKICAgICAgdGhpcy51c2VySW5mb1JlcS5pc05ld0NoYXQgPSBmYWxzZTsKICAgIH0sCiAgICBtZXNzYWdlOiBmdW5jdGlvbiBtZXNzYWdlKGRhdGEpIHsKICAgICAgKDAsIF9haWdjLm1lc3NhZ2UpKGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuY29kZSA9PSAyMDEpIHsKICAgICAgICAgIHVuaS5zaG93VG9hc3QoewogICAgICAgICAgICB0aXRsZTogcmVzLm1lc3NhZ2VzLAogICAgICAgICAgICBpY29uOiAnbm9uZScsCiAgICAgICAgICAgIGR1cmF0aW9uOiAxNTAwCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHRvZ2dsZUNhcGFiaWxpdHk6IGZ1bmN0aW9uIHRvZ2dsZUNhcGFiaWxpdHkoYWksIGNhcGFiaWxpdHlWYWx1ZSkgewogICAgICBpZiAoIWFpLmVuYWJsZWQpIHJldHVybjsKICAgICAgdmFyIGluZGV4ID0gYWkuc2VsZWN0ZWRDYXBhYmlsaXRpZXMuaW5kZXhPZihjYXBhYmlsaXR5VmFsdWUpOwogICAgICBjb25zb2xlLmxvZygn5YiH5o2i5YmNOicsIGFpLnNlbGVjdGVkQ2FwYWJpbGl0aWVzKTsKICAgICAgaWYgKGluZGV4ID09PSAtMSkgewogICAgICAgIC8vIOWmguaenOS4jeWtmOWcqO+8jOWImea3u+WKoAogICAgICAgIHRoaXMuJHNldChhaS5zZWxlY3RlZENhcGFiaWxpdGllcywgYWkuc2VsZWN0ZWRDYXBhYmlsaXRpZXMubGVuZ3RoLCBjYXBhYmlsaXR5VmFsdWUpOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIOWmguaenOW3suWtmOWcqO+8jOWImeenu+mZpAogICAgICAgIHZhciBuZXdDYXBhYmlsaXRpZXMgPSAoMCwgX3RvQ29uc3VtYWJsZUFycmF5Mi5kZWZhdWx0KShhaS5zZWxlY3RlZENhcGFiaWxpdGllcyk7CiAgICAgICAgbmV3Q2FwYWJpbGl0aWVzLnNwbGljZShpbmRleCwgMSk7CiAgICAgICAgdGhpcy4kc2V0KGFpLCAnc2VsZWN0ZWRDYXBhYmlsaXRpZXMnLCBuZXdDYXBhYmlsaXRpZXMpOwogICAgICB9CiAgICAgIGNvbnNvbGUubG9nKCfliIfmjaLlkI46JywgYWkuc2VsZWN0ZWRDYXBhYmlsaXRpZXMpOwogICAgICB0aGlzLiRmb3JjZVVwZGF0ZSgpOyAvLyDlvLrliLbmm7TmlrDop4blm74KICAgIH0sCiAgICBnZXRTdGF0dXNUZXh0OiBmdW5jdGlvbiBnZXRTdGF0dXNUZXh0KHN0YXR1cykgewogICAgICBzd2l0Y2ggKHN0YXR1cykgewogICAgICAgIGNhc2UgJ2lkbGUnOgogICAgICAgICAgcmV0dXJuICfnrYnlvoXkuK0nOwogICAgICAgIGNhc2UgJ3J1bm5pbmcnOgogICAgICAgICAgcmV0dXJuICfmraPlnKjmiafooYwnOwogICAgICAgIGNhc2UgJ2NvbXBsZXRlZCc6CiAgICAgICAgICByZXR1cm4gJ+W3suWujOaIkCc7CiAgICAgICAgY2FzZSAnZmFpbGVkJzoKICAgICAgICAgIHJldHVybiAn5omn6KGM5aSx6LSlJzsKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgcmV0dXJuICfmnKrnn6XnirbmgIEnOwogICAgICB9CiAgICB9LAogICAgZ2V0U3RhdHVzSWNvbjogZnVuY3Rpb24gZ2V0U3RhdHVzSWNvbihzdGF0dXMpIHsKICAgICAgc3dpdGNoIChzdGF0dXMpIHsKICAgICAgICBjYXNlICdpZGxlJzoKICAgICAgICAgIHJldHVybiAnZWwtaWNvbi10aW1lJzsKICAgICAgICBjYXNlICdydW5uaW5nJzoKICAgICAgICAgIHJldHVybiAnZWwtaWNvbi1sb2FkaW5nJzsKICAgICAgICBjYXNlICdjb21wbGV0ZWQnOgogICAgICAgICAgcmV0dXJuICdlbC1pY29uLWNoZWNrIHN1Y2Nlc3MtaWNvbic7CiAgICAgICAgY2FzZSAnZmFpbGVkJzoKICAgICAgICAgIHJldHVybiAnZWwtaWNvbi1jbG9zZSBlcnJvci1pY29uJzsKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgcmV0dXJuICdlbC1pY29uLXF1ZXN0aW9uJzsKICAgICAgfQogICAgfSwKICAgIHJlbmRlck1hcmtkb3duOiBmdW5jdGlvbiByZW5kZXJNYXJrZG93bih0ZXh0KSB7CiAgICAgIHJldHVybiAoMCwgX21hcmtlZC5tYXJrZWQpKHRleHQpOwogICAgfSwKICAgIC8vIEhUTUzovaznuq/mlofmnKwKICAgIGh0bWxUb1RleHQ6IGZ1bmN0aW9uIGh0bWxUb1RleHQoaHRtbCkgewogICAgICB2YXIgdGVtcERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICB0ZW1wRGl2LmlubmVySFRNTCA9IGh0bWw7CiAgICAgIHJldHVybiB0ZW1wRGl2LnRleHRDb250ZW50IHx8IHRlbXBEaXYuaW5uZXJUZXh0IHx8ICcnOwogICAgfSwKICAgIC8vIEhUTUzovaxNYXJrZG93bgogICAgaHRtbFRvTWFya2Rvd246IGZ1bmN0aW9uIGh0bWxUb01hcmtkb3duKGh0bWwpIHsKICAgICAgcmV0dXJuIHRoaXMudHVybmRvd25TZXJ2aWNlLnR1cm5kb3duKGh0bWwpOwogICAgfSwKICAgIGNvcHlSZXN1bHQ6IGZ1bmN0aW9uIGNvcHlSZXN1bHQoY29udGVudCkgewogICAgICAvLyDlsIZIVE1M6L2s5o2i5Li657qv5paH5pysCiAgICAgIHZhciBwbGFpblRleHQgPSB0aGlzLmh0bWxUb1RleHQoY29udGVudCk7CiAgICAgIHZhciB0ZXh0YXJlYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7CiAgICAgIHRleHRhcmVhLnZhbHVlID0gcGxhaW5UZXh0OwogICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRleHRhcmVhKTsKICAgICAgdGV4dGFyZWEuc2VsZWN0KCk7CiAgICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKCdjb3B5Jyk7CiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGV4dGFyZWEpOwogICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+W3suWkjeWItue6r+aWh+acrOWIsOWJqui0tOadvycpOwogICAgfSwKICAgIGV4cG9ydFJlc3VsdDogZnVuY3Rpb24gZXhwb3J0UmVzdWx0KHJlc3VsdCkgewogICAgICAvLyDlsIZIVE1M6L2s5o2i5Li6TWFya2Rvd24KICAgICAgdmFyIG1hcmtkb3duID0gcmVzdWx0LmNvbnRlbnQ7CiAgICAgIHZhciBibG9iID0gbmV3IEJsb2IoW21hcmtkb3duXSwgewogICAgICAgIHR5cGU6ICd0ZXh0L21hcmtkb3duJwogICAgICB9KTsKICAgICAgdmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7CiAgICAgIGxpbmsuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7CiAgICAgIGxpbmsuZG93bmxvYWQgPSAiIi5jb25jYXQocmVzdWx0LmFpTmFtZSwgIl9cdTdFRDNcdTY3OUNfIikuY29uY2F0KG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCksICIubWQiKTsKICAgICAgbGluay5jbGljaygpOwogICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKGxpbmsuaHJlZik7CiAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5bey5a+85Ye6TWFya2Rvd27mlofku7YnKTsKICAgIH0sCiAgICBvcGVuU2hhcmVVcmw6IGZ1bmN0aW9uIG9wZW5TaGFyZVVybChzaGFyZVVybCkgewogICAgICBpZiAoc2hhcmVVcmwpIHsKICAgICAgICB3aW5kb3cub3BlbihzaGFyZVVybCwgJ19ibGFuaycpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZygn5pqC5peg5Y6f6ZO+5o6lJyk7CiAgICAgIH0KICAgIH0sCiAgICBzaG93TGFyZ2VJbWFnZTogZnVuY3Rpb24gc2hvd0xhcmdlSW1hZ2UoaW1hZ2VVcmwpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIHRoaXMuY3VycmVudExhcmdlSW1hZ2UgPSBpbWFnZVVybDsKICAgICAgdGhpcy5zaG93SW1hZ2VEaWFsb2cgPSB0cnVlOwogICAgICAvLyDmib7liLDlvZPliY3lm77niYfnmoTntKLlvJXvvIzorr7nva7ova7mkq3lm77nmoTliJ3lp4vkvY3nva4KICAgICAgdmFyIGN1cnJlbnRJbmRleCA9IHRoaXMuc2NyZWVuc2hvdHMuaW5kZXhPZihpbWFnZVVybCk7CiAgICAgIGlmIChjdXJyZW50SW5kZXggIT09IC0xKSB7CiAgICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIGNhcm91c2VsID0gX3RoaXMzLiRlbC5xdWVyeVNlbGVjdG9yKCcuaW1hZ2UtZGlhbG9nIC5lbC1jYXJvdXNlbCcpOwogICAgICAgICAgaWYgKGNhcm91c2VsICYmIGNhcm91c2VsLl9fdnVlX18pIHsKICAgICAgICAgICAgY2Fyb3VzZWwuX192dWVfXy5zZXRBY3RpdmVJdGVtKGN1cnJlbnRJbmRleCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBjbG9zZUxhcmdlSW1hZ2U6IGZ1bmN0aW9uIGNsb3NlTGFyZ2VJbWFnZSgpIHsKICAgICAgdGhpcy5zaG93SW1hZ2VEaWFsb2cgPSBmYWxzZTsKICAgICAgdGhpcy5jdXJyZW50TGFyZ2VJbWFnZSA9ICcnOwogICAgfSwKICAgIC8vIFdlYlNvY2tldCDnm7jlhbPmlrnms5UKICAgIGluaXRXZWJTb2NrZXQ6IGZ1bmN0aW9uIGluaXRXZWJTb2NrZXQoaWQpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CiAgICAgIHZhciB3c1VybCA9IHByb2Nlc3MuZW52LlZVRV9BUFBfV1NfQVBJICsgIm15cGMtIi5jb25jYXQoaWQpOwogICAgICBjb25zb2xlLmxvZygnV2ViU29ja2V0IFVSTDonLCBwcm9jZXNzLmVudi5WVUVfQVBQX1dTX0FQSSk7CiAgICAgIF93ZWJzb2NrZXQuZGVmYXVsdC5jb25uZWN0KHdzVXJsLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICBzd2l0Y2ggKGV2ZW50LnR5cGUpIHsKICAgICAgICAgIGNhc2UgJ29wZW4nOgogICAgICAgICAgICAvLyB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJycpOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgJ21lc3NhZ2UnOgogICAgICAgICAgICBfdGhpczQuaGFuZGxlV2ViU29ja2V0TWVzc2FnZShldmVudC5kYXRhKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlICdjbG9zZSc6CiAgICAgICAgICAgIF90aGlzNC4kbWVzc2FnZS53YXJuaW5nKCdXZWJTb2NrZXTov57mjqXlt7LlhbPpl60nKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlICdlcnJvcic6CiAgICAgICAgICAgIF90aGlzNC4kbWVzc2FnZS5lcnJvcignV2ViU29ja2V06L+e5o6l6ZSZ6K+vJyk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAncmVjb25uZWN0X2ZhaWxlZCc6CiAgICAgICAgICAgIF90aGlzNC4kbWVzc2FnZS5lcnJvcignV2ViU29ja2V06YeN6L+e5aSx6LSl77yM6K+35Yi35paw6aG16Z2i6YeN6K+VJyk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlV2ViU29ja2V0TWVzc2FnZTogZnVuY3Rpb24gaGFuZGxlV2ViU29ja2V0TWVzc2FnZShkYXRhKSB7CiAgICAgIHZhciBkYXRhc3RyID0gZGF0YTsKICAgICAgdmFyIGRhdGFPYmogPSBKU09OLnBhcnNlKGRhdGFzdHIpOwoKICAgICAgLy8g5aSE55CGY2hhdElk5raI5oGvCiAgICAgIGlmIChkYXRhT2JqLnR5cGUgPT09ICdSRVRVUk5fWUJUMV9DSEFUSUQnICYmIGRhdGFPYmouY2hhdElkKSB7CiAgICAgICAgdGhpcy51c2VySW5mb1JlcS50b25lQ2hhdElkID0gZGF0YU9iai5jaGF0SWQ7CiAgICAgIH0gZWxzZSBpZiAoZGF0YU9iai50eXBlID09PSAnUkVUVVJOX1lCRFNfQ0hBVElEJyAmJiBkYXRhT2JqLmNoYXRJZCkgewogICAgICAgIHRoaXMudXNlckluZm9SZXEueWJEc0NoYXRJZCA9IGRhdGFPYmouY2hhdElkOwogICAgICB9IGVsc2UgaWYgKGRhdGFPYmoudHlwZSA9PT0gJ1JFVFVSTl9EQl9DSEFUSUQnICYmIGRhdGFPYmouY2hhdElkKSB7CiAgICAgICAgdGhpcy51c2VySW5mb1JlcS5kYkNoYXRJZCA9IGRhdGFPYmouY2hhdElkOwogICAgICB9CgogICAgICAvLyDlpITnkIbov5vluqbml6Xlv5fmtojmga8KICAgICAgaWYgKGRhdGFPYmoudHlwZSA9PT0gJ1JFVFVSTl9QQ19UQVNLX0xPRycgJiYgZGF0YU9iai5haU5hbWUpIHsKICAgICAgICB2YXIgX3RhcmdldEFJID0gdGhpcy5lbmFibGVkQUlzLmZpbmQoZnVuY3Rpb24gKGFpKSB7CiAgICAgICAgICByZXR1cm4gYWkubmFtZSA9PT0gZGF0YU9iai5haU5hbWU7CiAgICAgICAgfSk7CiAgICAgICAgaWYgKF90YXJnZXRBSSkgewogICAgICAgICAgLy8g5bCG5paw6L+b5bqm5re75Yqg5Yiw5pWw57uE5byA5aS0CiAgICAgICAgICBfdGFyZ2V0QUkucHJvZ3Jlc3NMb2dzLnVuc2hpZnQoewogICAgICAgICAgICBjb250ZW50OiBkYXRhT2JqLmNvbnRlbnQsCiAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSwKICAgICAgICAgICAgaXNDb21wbGV0ZWQ6IGZhbHNlCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICAvLyDlpITnkIbmiKrlm77mtojmga8KICAgICAgaWYgKGRhdGFPYmoudHlwZSA9PT0gJ1JFVFVSTl9QQ19UQVNLX0lNRycgJiYgZGF0YU9iai51cmwpIHsKICAgICAgICAvLyDlsIbmlrDnmoTmiKrlm77mt7vliqDliLDmlbDnu4TlvIDlpLQKICAgICAgICB0aGlzLnNjcmVlbnNob3RzLnVuc2hpZnQoZGF0YU9iai51cmwpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgLy8g5aSE55CG5pm66IO96K+E5YiG57uT5p6cCiAgICAgIGlmIChkYXRhT2JqLnR5cGUgPT09ICdSRVRVUk5fV0tQRl9SRVMnKSB7CiAgICAgICAgdmFyIHdrcGZBSSA9IHRoaXMuZW5hYmxlZEFJcy5maW5kKGZ1bmN0aW9uIChhaSkgewogICAgICAgICAgcmV0dXJuIGFpLm5hbWUgPT09ICfmmbrog73or4TliIYnOwogICAgICAgIH0pOwogICAgICAgIGlmICh3a3BmQUkpIHsKICAgICAgICAgIHRoaXMuJHNldCh3a3BmQUksICdzdGF0dXMnLCAnY29tcGxldGVkJyk7CiAgICAgICAgICBpZiAod2twZkFJLnByb2dyZXNzTG9ncy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIHRoaXMuJHNldCh3a3BmQUkucHJvZ3Jlc3NMb2dzWzBdLCAnaXNDb21wbGV0ZWQnLCB0cnVlKTsKICAgICAgICAgIH0KICAgICAgICAgIC8vIOa3u+WKoOivhOWIhue7k+aenOWIsHJlc3VsdHPmnIDliY3pnaIKICAgICAgICAgIHRoaXMucmVzdWx0cy51bnNoaWZ0KHsKICAgICAgICAgICAgYWlOYW1lOiAn5pm66IO96K+E5YiGJywKICAgICAgICAgICAgY29udGVudDogZGF0YU9iai5kcmFmdENvbnRlbnQsCiAgICAgICAgICAgIHNoYXJlVXJsOiBkYXRhT2JqLnNoYXJlVXJsIHx8ICcnLAogICAgICAgICAgICBzaGFyZUltZ1VybDogZGF0YU9iai5zaGFyZUltZ1VybCB8fCAnJywKICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpCiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMuYWN0aXZlUmVzdWx0VGFiID0gJ3Jlc3VsdC0wJzsKCiAgICAgICAgICAvLyDmmbrog73or4TliIblrozmiJDml7bvvIzlho3mrKHkv53lrZjljoblj7LorrDlvZUKICAgICAgICAgIHRoaXMuc2F2ZUhpc3RvcnkoKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICAvLyDlpITnkIbmmbrog73mjpLniYjnu5PmnpwKICAgICAgaWYgKGRhdGFPYmoudHlwZSA9PT0gJ1JFVFVSTl9aTlBCX1JFUycpIHsKICAgICAgICB2YXIgem5wYkFJID0gdGhpcy5lbmFibGVkQUlzLmZpbmQoZnVuY3Rpb24gKGFpKSB7CiAgICAgICAgICByZXR1cm4gYWkubmFtZSA9PT0gJ+aZuuiDveaOkueJiCc7CiAgICAgICAgfSk7CiAgICAgICAgaWYgKHpucGJBSSkgewogICAgICAgICAgdGhpcy4kc2V0KHpucGJBSSwgJ3N0YXR1cycsICdjb21wbGV0ZWQnKTsKICAgICAgICAgIGlmICh6bnBiQUkucHJvZ3Jlc3NMb2dzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgdGhpcy4kc2V0KHpucGJBSS5wcm9ncmVzc0xvZ3NbMF0sICdpc0NvbXBsZXRlZCcsIHRydWUpOwogICAgICAgICAgfQoKICAgICAgICAgIC8vIOebtOaOpeiwg+eUqOaKlemAkuWIsOWFrOS8l+WPt+eahOaWueazle+8jOS4jea3u+WKoOWIsOe7k+aenOWxleekugogICAgICAgICAgdGhpcy5wdXNoVG9XZWNoYXRXaXRoQ29udGVudChkYXRhT2JqLmRyYWZ0Q29udGVudCk7CgogICAgICAgICAgLy8g5pm66IO95o6S54mI5a6M5oiQ5pe277yM5L+d5a2Y5Y6G5Y+y6K6w5b2VCiAgICAgICAgICB0aGlzLnNhdmVIaXN0b3J5KCk7CiAgICAgICAgfQogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgLy8g5qC55o2u5raI5oGv57G75Z6L5pu05paw5a+55bqUQUnnmoTnirbmgIHlkoznu5PmnpwKICAgICAgdmFyIHRhcmdldEFJID0gbnVsbDsKICAgICAgc3dpdGNoIChkYXRhT2JqLnR5cGUpIHsKICAgICAgICBjYXNlICdSRVRVUk5fWkhfUkVTJzoKICAgICAgICAgIGNvbnNvbGUubG9nKCfmlLbliLDnn6XkuY7nm7TnrZTmtojmga86JywgZGF0YSk7CiAgICAgICAgICB0YXJnZXRBSSA9IHRoaXMuZW5hYmxlZEFJcy5maW5kKGZ1bmN0aW9uIChhaSkgewogICAgICAgICAgICByZXR1cm4gYWkubmFtZSA9PT0gJ+efpeS5juebtOetlCc7CiAgICAgICAgICB9KTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ1JFVFVSTl9ZQlQxX1JFUyc6CiAgICAgICAgY2FzZSAnUkVUVVJOX1RVUkJPU19SRVMnOgogICAgICAgIGNhc2UgJ1JFVFVSTl9UVVJCT1NfTEFSR0VfUkVTJzoKICAgICAgICBjYXNlICdSRVRVUk5fREVFUFNFRUtfUkVTJzoKICAgICAgICAgIGNvbnNvbGUubG9nKCfmlLbliLBEZWVwU2Vla+a2iOaBrzonLCBkYXRhT2JqKTsKICAgICAgICAgIHRhcmdldEFJID0gdGhpcy5lbmFibGVkQUlzLmZpbmQoZnVuY3Rpb24gKGFpKSB7CiAgICAgICAgICAgIHJldHVybiBhaS5uYW1lID09PSAnRGVlcFNlZWsnOwogICAgICAgICAgfSk7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdSRVRVUk5fWUJEU19SRVMnOgogICAgICAgIGNhc2UgJ1JFVFVSTl9EQl9SRVMnOgogICAgICAgICAgY29uc29sZS5sb2coJ+aUtuWIsOixhuWMhea2iOaBrzonLCBkYXRhT2JqKTsKICAgICAgICAgIHRhcmdldEFJID0gdGhpcy5lbmFibGVkQUlzLmZpbmQoZnVuY3Rpb24gKGFpKSB7CiAgICAgICAgICAgIHJldHVybiBhaS5uYW1lID09PSAn6LGG5YyFJzsKICAgICAgICAgIH0pOwogICAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgICAgaWYgKHRhcmdldEFJKSB7CiAgICAgICAgLy8g5pu05pawQUnnirbmgIHkuLrlt7LlrozmiJAKICAgICAgICB0aGlzLiRzZXQodGFyZ2V0QUksICdzdGF0dXMnLCAnY29tcGxldGVkJyk7CgogICAgICAgIC8vIOWwhuacgOWQjuS4gOadoei/m+W6pua2iOaBr+agh+iusOS4uuW3suWujOaIkAogICAgICAgIGlmICh0YXJnZXRBSS5wcm9ncmVzc0xvZ3MubGVuZ3RoID4gMCkgewogICAgICAgICAgdGhpcy4kc2V0KHRhcmdldEFJLnByb2dyZXNzTG9nc1swXSwgJ2lzQ29tcGxldGVkJywgdHJ1ZSk7CiAgICAgICAgfQoKICAgICAgICAvLyDmt7vliqDnu5PmnpzliLDmlbDnu4TlvIDlpLQKICAgICAgICB2YXIgcmVzdWx0SW5kZXggPSB0aGlzLnJlc3VsdHMuZmluZEluZGV4KGZ1bmN0aW9uIChyKSB7CiAgICAgICAgICByZXR1cm4gci5haU5hbWUgPT09IHRhcmdldEFJLm5hbWU7CiAgICAgICAgfSk7CiAgICAgICAgaWYgKHJlc3VsdEluZGV4ID09PSAtMSkgewogICAgICAgICAgdGhpcy5yZXN1bHRzLnVuc2hpZnQoewogICAgICAgICAgICBhaU5hbWU6IHRhcmdldEFJLm5hbWUsCiAgICAgICAgICAgIGNvbnRlbnQ6IGRhdGFPYmouZHJhZnRDb250ZW50LAogICAgICAgICAgICBzaGFyZVVybDogZGF0YU9iai5zaGFyZVVybCB8fCAnJywKICAgICAgICAgICAgc2hhcmVJbWdVcmw6IGRhdGFPYmouc2hhcmVJbWdVcmwgfHwgJycsCiAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKQogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLmFjdGl2ZVJlc3VsdFRhYiA9ICdyZXN1bHQtMCc7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMucmVzdWx0cy5zcGxpY2UocmVzdWx0SW5kZXgsIDEpOwogICAgICAgICAgdGhpcy5yZXN1bHRzLnVuc2hpZnQoewogICAgICAgICAgICBhaU5hbWU6IHRhcmdldEFJLm5hbWUsCiAgICAgICAgICAgIGNvbnRlbnQ6IGRhdGFPYmouZHJhZnRDb250ZW50LAogICAgICAgICAgICBzaGFyZVVybDogZGF0YU9iai5zaGFyZVVybCB8fCAnJywKICAgICAgICAgICAgc2hhcmVJbWdVcmw6IGRhdGFPYmouc2hhcmVJbWdVcmwgfHwgJycsCiAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKQogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLmFjdGl2ZVJlc3VsdFRhYiA9ICdyZXN1bHQtMCc7CiAgICAgICAgfQogICAgICAgIHRoaXMuc2F2ZUhpc3RvcnkoKTsKICAgICAgfQoKICAgICAgLy8g5qOA5p+l5piv5ZCm5omA5pyJ5Lu75Yqh6YO95bey5a6M5oiQCiAgICAgIC8vIGNvbnN0IGFsbENvbXBsZXRlZCA9IHRoaXMuZW5hYmxlZEFJcy5ldmVyeShhaSA9PgogICAgICAvLyAgIGFpLnN0YXR1cyA9PT0gJ2NvbXBsZXRlZCcgfHwgYWkuc3RhdHVzID09PSAnZmFpbGVkJwogICAgICAvLyApOwoKICAgICAgLy8gaWYgKGFsbENvbXBsZXRlZCkgewogICAgICAvLwogICAgICAvLyB9CiAgICB9LAogICAgY2xvc2VXZWJTb2NrZXQ6IGZ1bmN0aW9uIGNsb3NlV2ViU29ja2V0KCkgewogICAgICBfd2Vic29ja2V0LmRlZmF1bHQuY2xvc2UoKTsKICAgIH0sCiAgICBzZW5kTWVzc2FnZTogZnVuY3Rpb24gc2VuZE1lc3NhZ2UoZGF0YSkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKICAgICAgaWYgKF93ZWJzb2NrZXQuZGVmYXVsdC5zZW5kKGRhdGEpKSB7CiAgICAgICAgLy8g5rua5Yqo5Yiw5bqV6YOoCiAgICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXM1LnNjcm9sbFRvQm90dG9tKCk7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcignV2ViU29ja2V05pyq6L+e5o6lJyk7CiAgICAgIH0KICAgIH0sCiAgICB0b2dnbGVBSUV4cGFuc2lvbjogZnVuY3Rpb24gdG9nZ2xlQUlFeHBhbnNpb24oYWkpIHsKICAgICAgdGhpcy4kc2V0KGFpLCAnaXNFeHBhbmRlZCcsICFhaS5pc0V4cGFuZGVkKTsKICAgIH0sCiAgICBmb3JtYXRUaW1lOiBmdW5jdGlvbiBmb3JtYXRUaW1lKHRpbWVzdGFtcCkgewogICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKHRpbWVzdGFtcCk7CiAgICAgIHJldHVybiBkYXRlLnRvTG9jYWxlVGltZVN0cmluZygnemgtQ04nLCB7CiAgICAgICAgaG91cjogJzItZGlnaXQnLAogICAgICAgIG1pbnV0ZTogJzItZGlnaXQnLAogICAgICAgIHNlY29uZDogJzItZGlnaXQnLAogICAgICAgIGhvdXIxMjogZmFsc2UKICAgICAgfSk7CiAgICB9LAogICAgc2hvd1Njb3JlRGlhbG9nOiBmdW5jdGlvbiBzaG93U2NvcmVEaWFsb2coKSB7CiAgICAgIHRoaXMuc2NvcmVEaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgICAgdGhpcy5zZWxlY3RlZFJlc3VsdHMgPSBbXTsKICAgIH0sCiAgICBoYW5kbGVTY29yZTogZnVuY3Rpb24gaGFuZGxlU2NvcmUoKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwogICAgICBpZiAoIXRoaXMuY2FuU2NvcmUpIHJldHVybjsKCiAgICAgIC8vIOiOt+WPlumAieS4reeahOe7k+aenOWGheWuueW5tuaMieeFp+aMh+WumuagvOW8j+aLvOaOpQogICAgICB2YXIgc2VsZWN0ZWRDb250ZW50cyA9IHRoaXMucmVzdWx0cy5maWx0ZXIoZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgIHJldHVybiBfdGhpczYuc2VsZWN0ZWRSZXN1bHRzLmluY2x1ZGVzKHJlc3VsdC5haU5hbWUpOwogICAgICB9KS5tYXAoZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgIC8vIOWwhkhUTUzlhoXlrrnovazmjaLkuLrnuq/mlofmnKwKICAgICAgICB2YXIgcGxhaW5Db250ZW50ID0gX3RoaXM2Lmh0bWxUb1RleHQocmVzdWx0LmNvbnRlbnQpOwogICAgICAgIHJldHVybiAiIi5jb25jYXQocmVzdWx0LmFpTmFtZSwgIlx1NTIxRFx1N0EzRlx1RkYxQVxuIikuY29uY2F0KHBsYWluQ29udGVudCwgIlxuIik7CiAgICAgIH0pLmpvaW4oJ1xuJyk7CgogICAgICAvLyDmnoTlu7rlrozmlbTnmoTor4TliIbmj5DnpLrlhoXlrrkKICAgICAgdmFyIGZ1bGxQcm9tcHQgPSAiIi5jb25jYXQodGhpcy5zY29yZVByb21wdCwgIlxuIikuY29uY2F0KHNlbGVjdGVkQ29udGVudHMpOwoKICAgICAgLy8g5p6E5bu66K+E5YiG6K+35rGCCiAgICAgIHZhciBzY29yZVJlcXVlc3QgPSB7CiAgICAgICAganNvbnJwYzogJzIuMCcsCiAgICAgICAgaWQ6ICgwLCBfdXVpZC52NCkoKSwKICAgICAgICBtZXRob2Q6ICdBSeivhOWIhicsCiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICB0YXNrSWQ6ICgwLCBfdXVpZC52NCkoKSwKICAgICAgICAgIHVzZXJJZDogdGhpcy51c2VySWQsCiAgICAgICAgICBjb3JwSWQ6IHRoaXMuY29ycElkLAogICAgICAgICAgdXNlclByb21wdDogZnVsbFByb21wdCwKICAgICAgICAgIHJvbGVzOiAnemotZGItc2RzaycgLy8g6buY6K6k5L2/55So6LGG5YyF6L+b6KGM6K+E5YiGCiAgICAgICAgfQogICAgICB9OwoKICAgICAgLy8g5Y+R6YCB6K+E5YiG6K+35rGCCiAgICAgIGNvbnNvbGUubG9nKCLlj4LmlbAiLCBzY29yZVJlcXVlc3QpOwogICAgICB0aGlzLm1lc3NhZ2Uoc2NvcmVSZXF1ZXN0KTsKICAgICAgdGhpcy5zY29yZURpYWxvZ1Zpc2libGUgPSBmYWxzZTsKCiAgICAgIC8vIOWIm+W7uuaZuuiDveivhOWIhkFJ6IqC54K5CiAgICAgIHZhciB3a3BmQUkgPSB7CiAgICAgICAgbmFtZTogJ+aZuuiDveivhOWIhicsCiAgICAgICAgYXZhdGFyOiByZXF1aXJlKCcuLi8uLi8uLi9hc3NldHMvYWkveXVhbmJhby5wbmcnKSwKICAgICAgICBjYXBhYmlsaXRpZXM6IFtdLAogICAgICAgIHNlbGVjdGVkQ2FwYWJpbGl0aWVzOiBbXSwKICAgICAgICBlbmFibGVkOiB0cnVlLAogICAgICAgIHN0YXR1czogJ3J1bm5pbmcnLAogICAgICAgIHByb2dyZXNzTG9nczogW3sKICAgICAgICAgIGNvbnRlbnQ6ICfmmbrog73or4TliIbku7vliqHlt7Lmj5DkuqTvvIzmraPlnKjor4TliIYuLi4nLAogICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLAogICAgICAgICAgaXNDb21wbGV0ZWQ6IGZhbHNlLAogICAgICAgICAgdHlwZTogJ+aZuuiDveivhOWIhicKICAgICAgICB9XSwKICAgICAgICBpc0V4cGFuZGVkOiB0cnVlCiAgICAgIH07CgogICAgICAvLyDmo4Dmn6XmmK/lkKblt7LlrZjlnKjmmbrog73or4TliIYKICAgICAgdmFyIGV4aXN0SW5kZXggPSB0aGlzLmVuYWJsZWRBSXMuZmluZEluZGV4KGZ1bmN0aW9uIChhaSkgewogICAgICAgIHJldHVybiBhaS5uYW1lID09PSAn5pm66IO96K+E5YiGJzsKICAgICAgfSk7CiAgICAgIGlmIChleGlzdEluZGV4ID09PSAtMSkgewogICAgICAgIC8vIOWmguaenOS4jeWtmOWcqO+8jOa3u+WKoOWIsOaVsOe7hOW8gOWktAogICAgICAgIHRoaXMuZW5hYmxlZEFJcy51bnNoaWZ0KHdrcGZBSSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8g5aaC5p6c5bey5a2Y5Zyo77yM5pu05paw54q25oCB5ZKM5pel5b+XCiAgICAgICAgdGhpcy5lbmFibGVkQUlzW2V4aXN0SW5kZXhdID0gd2twZkFJOwogICAgICAgIC8vIOWwhuaZuuiDveivhOWIhuenu+WIsOaVsOe7hOW8gOWktAogICAgICAgIHZhciB3a3BmID0gdGhpcy5lbmFibGVkQUlzLnNwbGljZShleGlzdEluZGV4LCAxKVswXTsKICAgICAgICB0aGlzLmVuYWJsZWRBSXMudW5zaGlmdCh3a3BmKTsKICAgICAgfQogICAgICB0aGlzLiRmb3JjZVVwZGF0ZSgpOwogICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+ivhOWIhuivt+axguW3suWPkemAge+8jOivt+etieW+hee7k+aenCcpOwogICAgfSwKICAgIC8vIOaYvuekuuWOhuWPsuiusOW9leaKveWxiQogICAgc2hvd0hpc3RvcnlEcmF3ZXI6IGZ1bmN0aW9uIHNob3dIaXN0b3J5RHJhd2VyKCkgewogICAgICB0aGlzLmhpc3RvcnlEcmF3ZXJWaXNpYmxlID0gdHJ1ZTsKICAgICAgdGhpcy5sb2FkQ2hhdEhpc3RvcnkoMSk7CiAgICB9LAogICAgLy8g5YWz6Zet5Y6G5Y+y6K6w5b2V5oq95bGJCiAgICBoYW5kbGVIaXN0b3J5RHJhd2VyQ2xvc2U6IGZ1bmN0aW9uIGhhbmRsZUhpc3RvcnlEcmF3ZXJDbG9zZSgpIHsKICAgICAgdGhpcy5oaXN0b3J5RHJhd2VyVmlzaWJsZSA9IGZhbHNlOwogICAgfSwKICAgIC8vIOWKoOi9veWOhuWPsuiusOW9lQogICAgbG9hZENoYXRIaXN0b3J5OiBmdW5jdGlvbiBsb2FkQ2hhdEhpc3RvcnkoaXNBbGwpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CiAgICAgIHJldHVybiAoMCwgX2FzeW5jVG9HZW5lcmF0b3IyLmRlZmF1bHQpKC8qI19fUFVSRV9fKi8oMCwgX3JlZ2VuZXJhdG9yMi5kZWZhdWx0KSgpLm0oZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzLCBfdDsKICAgICAgICByZXR1cm4gKDAsIF9yZWdlbmVyYXRvcjIuZGVmYXVsdCkoKS53KGZ1bmN0aW9uIChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucCA9IF9jb250ZXh0Lm4pIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0LnAgPSAwOwogICAgICAgICAgICAgIF9jb250ZXh0Lm4gPSAxOwogICAgICAgICAgICAgIHJldHVybiAoMCwgX2FpZ2MuZ2V0Q2hhdEhpc3RvcnkpKF90aGlzNy51c2VySWQsIGlzQWxsKTsKICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnY7CiAgICAgICAgICAgICAgaWYgKHJlcy5jb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgIF90aGlzNy5jaGF0SGlzdG9yeSA9IHJlcy5kYXRhIHx8IFtdOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBfY29udGV4dC5uID0gMzsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIF9jb250ZXh0LnAgPSAyOwogICAgICAgICAgICAgIF90ID0gX2NvbnRleHQudjsKICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfliqDovb3ljoblj7LorrDlvZXlpLHotKU6JywgX3QpOwogICAgICAgICAgICAgIF90aGlzNy4kbWVzc2FnZS5lcnJvcign5Yqg6L295Y6G5Y+y6K6w5b2V5aSx6LSlJyk7CiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYSgyKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzAsIDJdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOagvOW8j+WMluWOhuWPsuiusOW9leaXtumXtAogICAgZm9ybWF0SGlzdG9yeVRpbWU6IGZ1bmN0aW9uIGZvcm1hdEhpc3RvcnlUaW1lKHRpbWVzdGFtcCkgewogICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKHRpbWVzdGFtcCk7CiAgICAgIHJldHVybiBkYXRlLnRvTG9jYWxlVGltZVN0cmluZygnemgtQ04nLCB7CiAgICAgICAgaG91cjogJzItZGlnaXQnLAogICAgICAgIG1pbnV0ZTogJzItZGlnaXQnLAogICAgICAgIGhvdXIxMjogZmFsc2UKICAgICAgfSk7CiAgICB9LAogICAgLy8g6I635Y+W5Y6G5Y+y6K6w5b2V5pel5pyf5YiG57uECiAgICBnZXRIaXN0b3J5RGF0ZTogZnVuY3Rpb24gZ2V0SGlzdG9yeURhdGUodGltZXN0YW1wKSB7CiAgICAgIHZhciBkYXRlID0gbmV3IERhdGUodGltZXN0YW1wKTsKICAgICAgdmFyIHRvZGF5ID0gbmV3IERhdGUoKTsKICAgICAgdmFyIHllc3RlcmRheSA9IG5ldyBEYXRlKHRvZGF5KTsKICAgICAgeWVzdGVyZGF5LnNldERhdGUoeWVzdGVyZGF5LmdldERhdGUoKSAtIDEpOwogICAgICB2YXIgdHdvRGF5c0FnbyA9IG5ldyBEYXRlKHRvZGF5KTsKICAgICAgdHdvRGF5c0Fnby5zZXREYXRlKHR3b0RheXNBZ28uZ2V0RGF0ZSgpIC0gMik7CiAgICAgIHZhciB0aHJlZURheXNBZ28gPSBuZXcgRGF0ZSh0b2RheSk7CiAgICAgIHRocmVlRGF5c0Fnby5zZXREYXRlKHRocmVlRGF5c0Fnby5nZXREYXRlKCkgLSAzKTsKICAgICAgaWYgKGRhdGUudG9EYXRlU3RyaW5nKCkgPT09IHRvZGF5LnRvRGF0ZVN0cmluZygpKSB7CiAgICAgICAgcmV0dXJuICfku4rlpKknOwogICAgICB9IGVsc2UgaWYgKGRhdGUudG9EYXRlU3RyaW5nKCkgPT09IHllc3RlcmRheS50b0RhdGVTdHJpbmcoKSkgewogICAgICAgIHJldHVybiAn5pio5aSpJzsKICAgICAgfSBlbHNlIGlmIChkYXRlLnRvRGF0ZVN0cmluZygpID09PSB0d29EYXlzQWdvLnRvRGF0ZVN0cmluZygpKSB7CiAgICAgICAgcmV0dXJuICfkuKTlpKnliY0nOwogICAgICB9IGVsc2UgaWYgKGRhdGUudG9EYXRlU3RyaW5nKCkgPT09IHRocmVlRGF5c0Fnby50b0RhdGVTdHJpbmcoKSkgewogICAgICAgIHJldHVybiAn5LiJ5aSp5YmNJzsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoJ3poLUNOJywgewogICAgICAgICAgeWVhcjogJ251bWVyaWMnLAogICAgICAgICAgbW9udGg6ICdsb25nJywKICAgICAgICAgIGRheTogJ251bWVyaWMnCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICAvLyDliqDovb3ljoblj7LorrDlvZXpobkKICAgIGxvYWRIaXN0b3J5SXRlbTogZnVuY3Rpb24gbG9hZEhpc3RvcnlJdGVtKGl0ZW0pIHsKICAgICAgdHJ5IHsKICAgICAgICB2YXIgaGlzdG9yeURhdGEgPSBKU09OLnBhcnNlKGl0ZW0uZGF0YSk7CgogICAgICAgIC8vIOaBouWkjeaPkOekuuivjei+k+WFpQogICAgICAgIHRoaXMucHJvbXB0SW5wdXQgPSBoaXN0b3J5RGF0YS5wcm9tcHRJbnB1dCB8fCAnJzsKICAgICAgICAvLyDmgaLlpI3ku7vliqHmtYHnqIsKICAgICAgICB0aGlzLmVuYWJsZWRBSXMgPSBoaXN0b3J5RGF0YS5lbmFibGVkQUlzIHx8IFtdOwogICAgICAgIC8vIOaBouWkjeS4u+acuuWPr+inhuWMlgogICAgICAgIHRoaXMuc2NyZWVuc2hvdHMgPSBoaXN0b3J5RGF0YS5zY3JlZW5zaG90cyB8fCBbXTsKICAgICAgICAvLyDmgaLlpI3miafooYznu5PmnpwKICAgICAgICB0aGlzLnJlc3VsdHMgPSBoaXN0b3J5RGF0YS5yZXN1bHRzIHx8IFtdOwogICAgICAgIC8vIOaBouWkjWNoYXRJZAogICAgICAgIHRoaXMuY2hhdElkID0gaXRlbS5jaGF0SWQgfHwgdGhpcy5jaGF0SWQ7CiAgICAgICAgdGhpcy51c2VySW5mb1JlcS50b25lQ2hhdElkID0gaXRlbS50b25lQ2hhdElkIHx8ICcnOwogICAgICAgIHRoaXMudXNlckluZm9SZXEueWJEc0NoYXRJZCA9IGl0ZW0ueWJEc0NoYXRJZCB8fCAnJzsKICAgICAgICB0aGlzLnVzZXJJbmZvUmVxLmRiQ2hhdElkID0gaXRlbS5kYkNoYXRJZCB8fCAnJzsKICAgICAgICB0aGlzLnVzZXJJbmZvUmVxLmlzTmV3Q2hhdCA9IGZhbHNlOwoKICAgICAgICAvLyDlsZXlvIDnm7jlhbPljLrln58KICAgICAgICB0aGlzLmFjdGl2ZUNvbGxhcHNlcyA9IFsnYWktc2VsZWN0aW9uJywgJ3Byb21wdC1pbnB1dCddOwogICAgICAgIHRoaXMudGFza1N0YXJ0ZWQgPSB0cnVlOwogICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5Y6G5Y+y6K6w5b2V5Yqg6L295oiQ5YqfJyk7CiAgICAgICAgdGhpcy5oaXN0b3J5RHJhd2VyVmlzaWJsZSA9IGZhbHNlOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+WKoOi9veWOhuWPsuiusOW9leWksei0pTonLCBlcnJvcik7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5Yqg6L295Y6G5Y+y6K6w5b2V5aSx6LSlJyk7CiAgICAgIH0KICAgIH0sCiAgICAvLyDkv53lrZjljoblj7LorrDlvZUKICAgIHNhdmVIaXN0b3J5OiBmdW5jdGlvbiBzYXZlSGlzdG9yeSgpIHsKICAgICAgdmFyIF90aGlzOCA9IHRoaXM7CiAgICAgIHJldHVybiAoMCwgX2FzeW5jVG9HZW5lcmF0b3IyLmRlZmF1bHQpKC8qI19fUFVSRV9fKi8oMCwgX3JlZ2VuZXJhdG9yMi5kZWZhdWx0KSgpLm0oZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIGhpc3RvcnlEYXRhLCBfdDI7CiAgICAgICAgcmV0dXJuICgwLCBfcmVnZW5lcmF0b3IyLmRlZmF1bHQpKCkudyhmdW5jdGlvbiAoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDIucCA9IF9jb250ZXh0Mi5uKSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAvLyBpZiAoIXRoaXMudGFza1N0YXJ0ZWQgfHwgdGhpcy5lbmFibGVkQUlzLnNvbWUoYWkgPT4gYWkuc3RhdHVzID09PSAncnVubmluZycpKSB7CiAgICAgICAgICAgICAgLy8gICByZXR1cm47CiAgICAgICAgICAgICAgLy8gfQogICAgICAgICAgICAgIGhpc3RvcnlEYXRhID0gewogICAgICAgICAgICAgICAgYWlMaXN0OiBfdGhpczguYWlMaXN0LAogICAgICAgICAgICAgICAgcHJvbXB0SW5wdXQ6IF90aGlzOC5wcm9tcHRJbnB1dCwKICAgICAgICAgICAgICAgIGVuYWJsZWRBSXM6IF90aGlzOC5lbmFibGVkQUlzLAogICAgICAgICAgICAgICAgc2NyZWVuc2hvdHM6IF90aGlzOC5zY3JlZW5zaG90cywKICAgICAgICAgICAgICAgIHJlc3VsdHM6IF90aGlzOC5yZXN1bHRzLAogICAgICAgICAgICAgICAgY2hhdElkOiBfdGhpczguY2hhdElkLAogICAgICAgICAgICAgICAgdG9uZUNoYXRJZDogX3RoaXM4LnVzZXJJbmZvUmVxLnRvbmVDaGF0SWQsCiAgICAgICAgICAgICAgICB5YkRzQ2hhdElkOiBfdGhpczgudXNlckluZm9SZXEueWJEc0NoYXRJZCwKICAgICAgICAgICAgICAgIGRiQ2hhdElkOiBfdGhpczgudXNlckluZm9SZXEuZGJDaGF0SWQKICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIF9jb250ZXh0Mi5wID0gMTsKICAgICAgICAgICAgICBfY29udGV4dDIubiA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuICgwLCBfYWlnYy5zYXZlVXNlckNoYXREYXRhKSh7CiAgICAgICAgICAgICAgICB1c2VySWQ6IF90aGlzOC51c2VySWQsCiAgICAgICAgICAgICAgICB1c2VyUHJvbXB0OiBfdGhpczgucHJvbXB0SW5wdXQsCiAgICAgICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShoaXN0b3J5RGF0YSksCiAgICAgICAgICAgICAgICBjaGF0SWQ6IF90aGlzOC5jaGF0SWQsCiAgICAgICAgICAgICAgICB0b25lQ2hhdElkOiBfdGhpczgudXNlckluZm9SZXEudG9uZUNoYXRJZCwKICAgICAgICAgICAgICAgIHliRHNDaGF0SWQ6IF90aGlzOC51c2VySW5mb1JlcS55YkRzQ2hhdElkLAogICAgICAgICAgICAgICAgZGJDaGF0SWQ6IF90aGlzOC51c2VySW5mb1JlcS5kYkNoYXRJZAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgX2NvbnRleHQyLm4gPSA0OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgX2NvbnRleHQyLnAgPSAzOwogICAgICAgICAgICAgIF90MiA9IF9jb250ZXh0Mi52OwogICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+S/neWtmOWOhuWPsuiusOW9leWksei0pTonLCBfdDIpOwogICAgICAgICAgICAgIF90aGlzOC4kbWVzc2FnZS5lcnJvcign5L+d5a2Y5Y6G5Y+y6K6w5b2V5aSx6LSlJyk7CiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmEoMik7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIG51bGwsIFtbMSwgM11dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g5L+u5pS55oqY5Y+g5YiH5o2i5pa55rOVCiAgICB0b2dnbGVIaXN0b3J5RXhwYW5zaW9uOiBmdW5jdGlvbiB0b2dnbGVIaXN0b3J5RXhwYW5zaW9uKGl0ZW0pIHsKICAgICAgdGhpcy4kc2V0KHRoaXMuZXhwYW5kZWRIaXN0b3J5SXRlbXMsIGl0ZW0uY2hhdElkLCAhdGhpcy5leHBhbmRlZEhpc3RvcnlJdGVtc1tpdGVtLmNoYXRJZF0pOwogICAgfSwKICAgIC8vIOWIm+W7uuaWsOWvueivnQogICAgY3JlYXRlTmV3Q2hhdDogZnVuY3Rpb24gY3JlYXRlTmV3Q2hhdCgpIHsKICAgICAgLy8g6YeN572u5omA5pyJ5pWw5o2uCiAgICAgIHRoaXMuY2hhdElkID0gKDAsIF91dWlkLnY0KSgpOwogICAgICB0aGlzLmlzTmV3Q2hhdCA9IHRydWU7CiAgICAgIHRoaXMucHJvbXB0SW5wdXQgPSAnJzsKICAgICAgdGhpcy50YXNrU3RhcnRlZCA9IGZhbHNlOwogICAgICB0aGlzLnNjcmVlbnNob3RzID0gW107CiAgICAgIHRoaXMucmVzdWx0cyA9IFtdOwogICAgICB0aGlzLmVuYWJsZWRBSXMgPSBbXTsKICAgICAgdGhpcy51c2VySW5mb1JlcSA9IHsKICAgICAgICB1c2VyUHJvbXB0OiAnJywKICAgICAgICB1c2VySWQ6IHRoaXMudXNlcklkLAogICAgICAgIGNvcnBJZDogdGhpcy5jb3JwSWQsCiAgICAgICAgdGFza0lkOiAnJywKICAgICAgICByb2xlczogJycsCiAgICAgICAgdG9uZUNoYXRJZDogJycsCiAgICAgICAgeWJEc0NoYXRJZDogJycsCiAgICAgICAgZGJDaGF0SWQ6ICcnLAogICAgICAgIGlzTmV3Q2hhdDogdHJ1ZQogICAgICB9OwogICAgICAvLyDph43nva5BSeWIl+ihqOS4uuWIneWni+eKtuaAgQogICAgICB0aGlzLmFpTGlzdCA9IFt7CiAgICAgICAgbmFtZTogJ+efpeS5juebtOetlCcsCiAgICAgICAgYXZhdGFyOiByZXF1aXJlKCcuLi8uLi8uLi9hc3NldHMvYWkvWmhpaHUucG5nJyksCiAgICAgICAgY2FwYWJpbGl0aWVzOiBbewogICAgICAgICAgbGFiZWw6ICfmt7HluqbmgJ3ogIMnLAogICAgICAgICAgdmFsdWU6ICdkZWVwX3RoaW5raW5nJwogICAgICAgIH1dLAogICAgICAgIHNlbGVjdGVkQ2FwYWJpbGl0aWVzOiBbJ2RlZXBfdGhpbmtpbmcnXSwKICAgICAgICBlbmFibGVkOiB0cnVlLAogICAgICAgIHN0YXR1czogJ2lkbGUnLAogICAgICAgIHByb2dyZXNzTG9nczogW10sCiAgICAgICAgaXNFeHBhbmRlZDogdHJ1ZQogICAgICB9LCB7CiAgICAgICAgbmFtZTogJ0RlZXBTZWVrJywKICAgICAgICBhdmF0YXI6IHJlcXVpcmUoJy4uLy4uLy4uL2Fzc2V0cy9sb2dvL0RlZXBzZWVrLnBuZycpLAogICAgICAgIGNhcGFiaWxpdGllczogW3sKICAgICAgICAgIGxhYmVsOiAn5rex5bqm5oCd6ICDJywKICAgICAgICAgIHZhbHVlOiAnZGVlcF90aGlua2luZycKICAgICAgICB9LCB7CiAgICAgICAgICBsYWJlbDogJ+iBlOe9keaQnOe0oicsCiAgICAgICAgICB2YWx1ZTogJ3dlYl9zZWFyY2gnCiAgICAgICAgfV0sCiAgICAgICAgc2VsZWN0ZWRDYXBhYmlsaXRpZXM6IFsnZGVlcF90aGlua2luZycsICd3ZWJfc2VhcmNoJ10sCiAgICAgICAgZW5hYmxlZDogdHJ1ZSwKICAgICAgICBzdGF0dXM6ICdpZGxlJywKICAgICAgICBwcm9ncmVzc0xvZ3M6IFtdLAogICAgICAgIGlzRXhwYW5kZWQ6IHRydWUKICAgICAgfSwgewogICAgICAgIG5hbWU6ICfosYbljIUnLAogICAgICAgIGF2YXRhcjogcmVxdWlyZSgnLi4vLi4vLi4vYXNzZXRzL2FpL+ixhuWMhS5wbmcnKSwKICAgICAgICBjYXBhYmlsaXRpZXM6IFt7CiAgICAgICAgICBsYWJlbDogJ+a3seW6puaAneiAgycsCiAgICAgICAgICB2YWx1ZTogJ2RlZXBfdGhpbmtpbmcnCiAgICAgICAgfV0sCiAgICAgICAgc2VsZWN0ZWRDYXBhYmlsaXRpZXM6IFsnZGVlcF90aGlua2luZyddLAogICAgICAgIGVuYWJsZWQ6IHRydWUsCiAgICAgICAgc3RhdHVzOiAnaWRsZScsCiAgICAgICAgcHJvZ3Jlc3NMb2dzOiBbXSwKICAgICAgICBpc0V4cGFuZGVkOiB0cnVlCiAgICAgIH1dOwogICAgICAvLyDlsZXlvIDnm7jlhbPljLrln58KICAgICAgdGhpcy5hY3RpdmVDb2xsYXBzZXMgPSBbJ2FpLXNlbGVjdGlvbicsICdwcm9tcHQtaW5wdXQnXTsKICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCflt7LliJvlu7rmlrDlr7nor50nKTsKICAgIH0sCiAgICAvLyDliqDovb3kuIrmrKHkvJror50KICAgIGxvYWRMYXN0Q2hhdDogZnVuY3Rpb24gbG9hZExhc3RDaGF0KCkgewogICAgICB2YXIgX3RoaXM5ID0gdGhpczsKICAgICAgcmV0dXJuICgwLCBfYXN5bmNUb0dlbmVyYXRvcjIuZGVmYXVsdCkoLyojX19QVVJFX18qLygwLCBfcmVnZW5lcmF0b3IyLmRlZmF1bHQpKCkubShmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgcmVzLCBsYXN0Q2hhdCwgX3QzOwogICAgICAgIHJldHVybiAoMCwgX3JlZ2VuZXJhdG9yMi5kZWZhdWx0KSgpLncoZnVuY3Rpb24gKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQzLnAgPSBfY29udGV4dDMubikgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQzLnAgPSAwOwogICAgICAgICAgICAgIF9jb250ZXh0My5uID0gMTsKICAgICAgICAgICAgICByZXR1cm4gKDAsIF9haWdjLmdldENoYXRIaXN0b3J5KShfdGhpczkudXNlcklkLCAwKTsKICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0My52OwogICAgICAgICAgICAgIGlmIChyZXMuY29kZSA9PT0gMjAwICYmIHJlcy5kYXRhICYmIHJlcy5kYXRhLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgIC8vIOiOt+WPluacgOaWsOeahOS8muivneiusOW9lQogICAgICAgICAgICAgICAgbGFzdENoYXQgPSByZXMuZGF0YVswXTsKICAgICAgICAgICAgICAgIF90aGlzOS5sb2FkSGlzdG9yeUl0ZW0obGFzdENoYXQpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBfY29udGV4dDMubiA9IDM7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBfY29udGV4dDMucCA9IDI7CiAgICAgICAgICAgICAgX3QzID0gX2NvbnRleHQzLnY7CiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign5Yqg6L295LiK5qyh5Lya6K+d5aSx6LSlOicsIF90Myk7CiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmEoMik7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMsIG51bGwsIFtbMCwgMl1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g5Yik5pat5piv5ZCm5Li65Zu+54mH5paH5Lu2CiAgICBpc0ltYWdlRmlsZTogZnVuY3Rpb24gaXNJbWFnZUZpbGUodXJsKSB7CiAgICAgIGlmICghdXJsKSByZXR1cm4gZmFsc2U7CiAgICAgIHZhciBpbWFnZUV4dGVuc2lvbnMgPSBbJy5qcGcnLCAnLmpwZWcnLCAnLnBuZycsICcuZ2lmJywgJy5ibXAnLCAnLndlYnAnLCAnLnN2ZyddOwogICAgICB2YXIgdXJsTG93ZXIgPSB1cmwudG9Mb3dlckNhc2UoKTsKICAgICAgcmV0dXJuIGltYWdlRXh0ZW5zaW9ucy5zb21lKGZ1bmN0aW9uIChleHQpIHsKICAgICAgICByZXR1cm4gdXJsTG93ZXIuaW5jbHVkZXMoZXh0KTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5Yik5pat5piv5ZCm5Li6UERG5paH5Lu2CiAgICBpc1BkZkZpbGU6IGZ1bmN0aW9uIGlzUGRmRmlsZSh1cmwpIHsKICAgICAgaWYgKCF1cmwpIHJldHVybiBmYWxzZTsKICAgICAgcmV0dXJuIHVybC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCcucGRmJyk7CiAgICB9LAogICAgLy8g5qC55o2uQUnlkI3np7Dojrflj5blm77niYfmoLflvI8KICAgIGdldEltYWdlU3R5bGU6IGZ1bmN0aW9uIGdldEltYWdlU3R5bGUoYWlOYW1lKSB7CiAgICAgIHZhciB3aWR0aE1hcCA9IHsKICAgICAgICAnRGVlcFNlZWsnOiAnNzAwcHgnLAogICAgICAgICfosYbljIUnOiAnNTYwcHgnCiAgICAgIH07CiAgICAgIHZhciB3aWR0aCA9IHdpZHRoTWFwW2FpTmFtZV0gfHwgJzU2MHB4JzsgLy8g6buY6K6k5a695bqmCgogICAgICByZXR1cm4gewogICAgICAgIHdpZHRoOiB3aWR0aCwKICAgICAgICBoZWlnaHQ6ICdhdXRvJwogICAgICB9OwogICAgfSwKICAgIC8vIOaKlemAkuWIsOWFrOS8l+WPtwogICAgaGFuZGxlUHVzaFRvV2VjaGF0OiBmdW5jdGlvbiBoYW5kbGVQdXNoVG9XZWNoYXQocmVzdWx0KSB7CiAgICAgIHRoaXMuc2hvd0xheW91dERpYWxvZyhyZXN1bHQpOwogICAgfSwKICAgIC8vIOaYvuekuuaZuuiDveaOkueJiOWvueivneahhgogICAgc2hvd0xheW91dERpYWxvZzogZnVuY3Rpb24gc2hvd0xheW91dERpYWxvZyhyZXN1bHQpIHsKICAgICAgdGhpcy5jdXJyZW50TGF5b3V0UmVzdWx0ID0gcmVzdWx0OwogICAgICB0aGlzLmxheW91dFByb21wdCA9ICJcdThCRjdcdTRGNjBcdTVCRjlcdTRFRTVcdTRFMEIgSFRNTCBcdTUxODVcdTVCQjlcdThGREJcdTg4NENcdTYzOTJcdTcyNDhcdTRGMThcdTUzMTZcdUZGMENcdTc2RUVcdTY4MDdcdTY2MkZcdTc1MjhcdTRFOEVcdTVGQUVcdTRGRTFcdTUxNkNcdTRGMTdcdTUzRjdcIlx1ODM0OVx1N0EzRlx1N0JCMVx1NjNBNVx1NTNFM1wiXHU3Njg0IGNvbnRlbnQgXHU1QjU3XHU2QkI1XHVGRjBDXHU4OTgxXHU2QzQyXHU1OTgyXHU0RTBCXHVGRjFBXG5cbjEuIFx1NEVDNVx1OEZENFx1NTZERSA8Ym9keT4gXHU1MTg1XHU5MEU4XHU1M0VGXHU3NTI4XHU3Njg0IEhUTUwgXHU1MTg1XHU1QkI5XHU3MjQ3XHU2QkI1XHVGRjA4XHU0RTBEXHU4OTgxXHU1MzA1XHU1NDJCIDwhRE9DVFlQRT5cdTMwMDE8aHRtbD5cdTMwMDE8aGVhZD5cdTMwMDE8bWV0YT5cdTMwMDE8dGl0bGU+IFx1N0I0OVx1NjgwN1x1N0I3RVx1RkYwOVx1MzAwMlxuMi4gXHU2MjQwXHU2NzA5XHU2ODM3XHU1RjBGXHU1RkM1XHU5ODdCXHU0RUU1XCJcdTUxODVcdTgwNTQgc3R5bGVcIlx1NjVCOVx1NUYwRlx1NTE5OVx1NTE2NVx1MzAwMlxuMy4gXHU0RkREXHU2MzAxXHU3RUQzXHU2Nzg0XHU2RTA1XHU2NjcwXHUzMDAxXHU4OUM2XHU4OUM5XHU1M0NCXHU1OTdEXHVGRjBDXHU5MDAyXHU5MTREXHU1MTZDXHU0RjE3XHU1M0Y3XHU1NkZFXHU2NTg3XHU2MzkyXHU3MjQ4XHUzMDAyXG40LiBcdThCRjdcdTc2RjRcdTYzQTVcdThGOTNcdTUxRkFcdTRFRTNcdTc4MDFcdUZGMENcdTRFMERcdTg5ODFcdTZERkJcdTUyQTBcdTRFRkJcdTRGNTVcdTZDRThcdTkxQ0FcdTYyMTZcdTk4OURcdTU5MTZcdThCRjRcdTY2MEVcdTMwMDJcbjUuIFx1NEUwRFx1NUY5N1x1NEY3Rlx1NzUyOCBlbW9qaSBcdTg4NjhcdTYwQzVcdTdCMjZcdTUzRjdcdTYyMTZcdTVDMEZcdTU2RkVcdTY4MDdcdTVCNTdcdTdCMjZcdTMwMDJcbjYuIFx1NEUwRFx1ODk4MVx1NjYzRVx1NzkzQVx1NEUzQVx1OTVFRVx1N0I1NFx1NUY2Mlx1NUYwRlx1RkYwQ1x1NEVFNVx1NEUwMFx1N0JDN1x1NjU4N1x1N0FFMFx1NzY4NFx1NjgzQ1x1NUYwRlx1NTNCQlx1OEMwM1x1NjU3NCBcblxuXHU0RUU1XHU0RTBCXHU0RTNBXHU5NzAwXHU4OTgxXHU4RkRCXHU4ODRDXHU2MzkyXHU3MjQ4XHU0RjE4XHU1MzE2XHU3Njg0XHU1MTg1XHU1QkI5XHVGRjFBXG4iICsgcmVzdWx0LmNvbnRlbnQ7CiAgICAgIHRoaXMubGF5b3V0RGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICB9LAogICAgLy8g5aSE55CG5pm66IO95o6S54mICiAgICBoYW5kbGVMYXlvdXQ6IGZ1bmN0aW9uIGhhbmRsZUxheW91dCgpIHsKICAgICAgaWYgKCF0aGlzLmNhbkxheW91dCB8fCAhdGhpcy5jdXJyZW50TGF5b3V0UmVzdWx0KSByZXR1cm47CgogICAgICAvLyDmnoTlu7rmjpLniYjor7fmsYIKICAgICAgdmFyIGxheW91dFJlcXVlc3QgPSB7CiAgICAgICAganNvbnJwYzogJzIuMCcsCiAgICAgICAgaWQ6ICgwLCBfdXVpZC52NCkoKSwKICAgICAgICBtZXRob2Q6ICdBSeaOkueJiCcsCiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICB0YXNrSWQ6ICgwLCBfdXVpZC52NCkoKSwKICAgICAgICAgIHVzZXJJZDogdGhpcy51c2VySWQsCiAgICAgICAgICBjb3JwSWQ6IHRoaXMuY29ycElkLAogICAgICAgICAgdXNlclByb21wdDogdGhpcy5sYXlvdXRQcm9tcHQsCiAgICAgICAgICByb2xlczogJycgLy8g6buY6K6k5L2/55So6LGG5YyF6L+b6KGM5o6S54mICiAgICAgICAgfQogICAgICB9OwoKICAgICAgLy8g5Y+R6YCB5o6S54mI6K+35rGCCiAgICAgIGNvbnNvbGUubG9nKCLmjpLniYjlj4LmlbAiLCBsYXlvdXRSZXF1ZXN0KTsKICAgICAgdGhpcy5tZXNzYWdlKGxheW91dFJlcXVlc3QpOwogICAgICB0aGlzLmxheW91dERpYWxvZ1Zpc2libGUgPSBmYWxzZTsKCiAgICAgIC8vIOWIm+W7uuaZuuiDveaOkueJiEFJ6IqC54K5CiAgICAgIHZhciB6bnBiQUkgPSB7CiAgICAgICAgbmFtZTogJ+aZuuiDveaOkueJiCcsCiAgICAgICAgYXZhdGFyOiByZXF1aXJlKCcuLi8uLi8uLi9hc3NldHMvYWkveXVhbmJhby5wbmcnKSwKICAgICAgICBjYXBhYmlsaXRpZXM6IFtdLAogICAgICAgIHNlbGVjdGVkQ2FwYWJpbGl0aWVzOiBbXSwKICAgICAgICBlbmFibGVkOiB0cnVlLAogICAgICAgIHN0YXR1czogJ3J1bm5pbmcnLAogICAgICAgIHByb2dyZXNzTG9nczogW3sKICAgICAgICAgIGNvbnRlbnQ6ICfmmbrog73mjpLniYjku7vliqHlt7Lmj5DkuqTvvIzmraPlnKjmjpLniYguLi4nLAogICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLAogICAgICAgICAgaXNDb21wbGV0ZWQ6IGZhbHNlLAogICAgICAgICAgdHlwZTogJ+aZuuiDveaOkueJiCcKICAgICAgICB9XSwKICAgICAgICBpc0V4cGFuZGVkOiB0cnVlCiAgICAgIH07CgogICAgICAvLyDmo4Dmn6XmmK/lkKblt7LlrZjlnKjmmbrog73mjpLniYgKICAgICAgdmFyIGV4aXN0SW5kZXggPSB0aGlzLmVuYWJsZWRBSXMuZmluZEluZGV4KGZ1bmN0aW9uIChhaSkgewogICAgICAgIHJldHVybiBhaS5uYW1lID09PSAn5pm66IO95o6S54mIJzsKICAgICAgfSk7CiAgICAgIGlmIChleGlzdEluZGV4ID09PSAtMSkgewogICAgICAgIC8vIOWmguaenOS4jeWtmOWcqO+8jOa3u+WKoOWIsOaVsOe7hOW8gOWktAogICAgICAgIHRoaXMuZW5hYmxlZEFJcy51bnNoaWZ0KHpucGJBSSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8g5aaC5p6c5bey5a2Y5Zyo77yM5pu05paw54q25oCB5ZKM5pel5b+XCiAgICAgICAgdGhpcy5lbmFibGVkQUlzW2V4aXN0SW5kZXhdID0gem5wYkFJOwogICAgICAgIC8vIOWwhuaZuuiDveaOkueJiOenu+WIsOaVsOe7hOW8gOWktAogICAgICAgIHZhciB6bnBiID0gdGhpcy5lbmFibGVkQUlzLnNwbGljZShleGlzdEluZGV4LCAxKVswXTsKICAgICAgICB0aGlzLmVuYWJsZWRBSXMudW5zaGlmdCh6bnBiKTsKICAgICAgfQogICAgICB0aGlzLiRmb3JjZVVwZGF0ZSgpOwogICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+aOkueJiOivt+axguW3suWPkemAge+8jOivt+etieW+hee7k+aenCcpOwogICAgfSwKICAgIC8vIOWunumZheaKlemAkuWIsOWFrOS8l+WPtwogICAgcHVzaFRvV2VjaGF0V2l0aENvbnRlbnQ6IGZ1bmN0aW9uIHB1c2hUb1dlY2hhdFdpdGhDb250ZW50KGNvbnRlbnRUZXh0KSB7CiAgICAgIHZhciBfdGhpczAgPSB0aGlzOwogICAgICBpZiAodGhpcy5wdXNoaW5nVG9XZWNoYXQpIHJldHVybjsKICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCflvIDlp4vmipXpgJLlhazkvJflj7fvvIEnKTsKICAgICAgdGhpcy5wdXNoaW5nVG9XZWNoYXQgPSB0cnVlOwogICAgICB0aGlzLnB1c2hPZmZpY2VOdW0gKz0gMTsKICAgICAgdmFyIHBhcmFtcyA9IHsKICAgICAgICBjb250ZW50VGV4dDogY29udGVudFRleHQsCiAgICAgICAgc2hhcmVVcmw6IHRoaXMuY3VycmVudExheW91dFJlc3VsdC5zaGFyZVVybCwKICAgICAgICB1c2VySWQ6IHRoaXMudXNlcklkLAogICAgICAgIG51bTogdGhpcy5wdXNoT2ZmaWNlTnVtLAogICAgICAgIGFpTmFtZTogdGhpcy5jdXJyZW50TGF5b3V0UmVzdWx0LmFpTmFtZQogICAgICB9OwogICAgICAoMCwgX2FpZ2MucHVzaEF1dG9PZmZpY2UpKHBhcmFtcykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5jb2RlID09PSAyMDApIHsKICAgICAgICAgIF90aGlzMC4kbWVzc2FnZS5zdWNjZXNzKCfmipXpgJLliLDlhazkvJflj7fmiJDlip/vvIEnKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMwLiRtZXNzYWdlLmVycm9yKHJlcy5tc2cgfHwgJ+aKlemAkuWksei0pe+8jOivt+mHjeivlScpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcign5oqV6YCS5Yiw5YWs5LyX5Y+35aSx6LSlOicsIGVycm9yKTsKICAgICAgICBfdGhpczAuJG1lc3NhZ2UuZXJyb3IoJ+aKlemAkuWksei0pe+8jOivt+mHjeivlScpOwogICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczAucHVzaGluZ1RvV2VjaGF0ID0gZmFsc2U7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"names":["_marked","require","_aigc","_uuid","_websocket","_interopRequireDefault","_store","_turndown","name","data","userId","store","state","user","id","corpId","corp_id","chatId","uuidv4","expandedHistoryItems","userInfoReq","userPrompt","taskId","roles","toneChatId","ybDsChatId","dbChatId","isNewChat","jsonRpcReqest","jsonrpc","method","params","aiList","avatar","capabilities","label","value","selectedCapabilities","enabled","status","progressLogs","isExpanded","promptInput","taskStarted","autoPlay","screenshots","results","activeResultTab","activeCollapses","showImageDialog","currentLargeImage","enabledAIs","turndownService","TurndownService","headingStyle","codeBlockStyle","emDelimiter","scoreDialogVisible","selectedResults","scorePrompt","layoutDialogVisible","layoutPrompt","currentLayoutResult","historyDrawerVisible","chatHistory","pushOfficeNum","pushingToWechat","computed","canSend","trim","length","some","ai","canScore","canLayout","groupedHistory","_this","groups","chatGroups","forEach","item","push","Object","values","chatGroup","sort","a","b","Date","createTime","parentItem","date","getHistoryDate","_objectSpread2","default","isParent","children","slice","map","child","created","console","log","initWebSocket","loadChatHistory","loadLastChat","methods","sendPrompt","_this2","filter","$set","includes","message","then","res","code","uni","showToast","title","messages","icon","duration","toggleCapability","capabilityValue","index","indexOf","newCapabilities","_toConsumableArray2","splice","$forceUpdate","getStatusText","getStatusIcon","renderMarkdown","text","marked","htmlToText","html","tempDiv","document","createElement","innerHTML","textContent","innerText","htmlToMarkdown","turndown","copyResult","content","plainText","textarea","body","appendChild","select","execCommand","removeChild","$message","success","exportResult","result","markdown","blob","Blob","type","link","href","URL","createObjectURL","download","concat","aiName","toISOString","click","revokeObjectURL","openShareUrl","shareUrl","window","open","warning","showLargeImage","imageUrl","_this3","currentIndex","$nextTick","carousel","$el","querySelector","__vue__","setActiveItem","closeLargeImage","_this4","wsUrl","process","env","VUE_APP_WS_API","websocketClient","connect","event","handleWebSocketMessage","error","datastr","dataObj","JSON","parse","targetAI","find","unshift","timestamp","isCompleted","url","wkpfAI","draftContent","shareImgUrl","saveHistory","znpbAI","pushToWechatWithContent","resultIndex","findIndex","r","closeWebSocket","close","sendMessage","_this5","send","scrollToBottom","toggleAIExpansion","formatTime","toLocaleTimeString","hour","minute","second","hour12","showScoreDialog","handleScore","_this6","selectedContents","plainContent","join","fullPrompt","scoreRequest","existIndex","wkpf","showHistoryDrawer","handleHistoryDrawerClose","isAll","_this7","_asyncToGenerator2","_regenerator2","m","_callee","_t","w","_context","p","n","getChatHistory","v","formatHistoryTime","today","yesterday","setDate","getDate","twoDaysAgo","threeDaysAgo","toDateString","toLocaleDateString","year","month","day","loadHistoryItem","historyData","_this8","_callee2","_t2","_context2","saveUserChatData","stringify","toggleHistoryExpansion","createNewChat","_this9","_callee3","lastChat","_t3","_context3","isImageFile","imageExtensions","urlLower","toLowerCase","ext","isPdfFile","getImageStyle","widthMap","width","height","handlePushToWechat","showLayoutDialog","handleLayout","layoutRequest","znpb","contentText","_this0","num","pushAutoOffice","msg","catch","finally"],"sources":["src/views/wechat/chrome/index.vue"],"sourcesContent":["<template>\r\n  <div class=\"ai-management-platform\">\r\n    <!-- 顶部导航区 -->\r\n    <div class=\"top-nav\">\r\n      <div class=\"logo-area\">\r\n        <img src=\"../../../assets/ai/logo.png\" alt=\"Logo\" class=\"logo\">\r\n        <h1 class=\"platform-title\">主机</h1>\r\n      </div>\r\n      <div class=\"nav-buttons\">\r\n        <el-button type=\"primary\" size=\"small\" @click=\"createNewChat\">\r\n          <i class=\"el-icon-plus\"></i>\r\n          创建新对话\r\n        </el-button>\r\n        <div class=\"history-button\">\r\n          <el-button type=\"text\" @click=\"showHistoryDrawer\">\r\n            <img :src=\"require('../../../assets/ai/celan.png')\" alt=\"历史记录\" class=\"history-icon\">\r\n          </el-button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 历史记录抽屉 -->\r\n    <el-drawer title=\"历史会话记录\" :visible.sync=\"historyDrawerVisible\" direction=\"rtl\" size=\"30%\"\r\n      :before-close=\"handleHistoryDrawerClose\">\r\n      <div class=\"history-content\">\r\n        <div v-for=\"(group, date) in groupedHistory\" :key=\"date\" class=\"history-group\">\r\n          <div class=\"history-date\">{{ date }}</div>\r\n          <div class=\"history-list\">\r\n            <div v-for=\"(item, index) in group\" :key=\"index\" class=\"history-item\">\r\n              <div class=\"history-parent\" @click=\"loadHistoryItem(item)\">\r\n                <div class=\"history-header\">\r\n                  <i :class=\"['el-icon-arrow-right', {'is-expanded': item.isExpanded}]\"\r\n                    @click.stop=\"toggleHistoryExpansion(item)\"></i>\r\n                  <div class=\"history-prompt\">{{ item.userPrompt }}</div>\r\n                </div>\r\n                <div class=\"history-time\">{{ formatHistoryTime(item.createTime) }}</div>\r\n              </div>\r\n              <div v-if=\"item.children && item.children.length > 0 && item.isExpanded\" class=\"history-children\">\r\n                <div v-for=\"(child, childIndex) in item.children\" :key=\"childIndex\" class=\"history-child-item\"\r\n                  @click=\"loadHistoryItem(child)\">\r\n                  <div class=\"history-prompt\">{{ child.userPrompt }}</div>\r\n                  <div class=\"history-time\">{{ formatHistoryTime(child.createTime) }}</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </el-drawer>\r\n\r\n    <div class=\"main-content\">\r\n      <el-collapse v-model=\"activeCollapses\">\r\n        <el-collapse-item title=\"AI选择配置\" name=\"ai-selection\">\r\n          <div class=\"ai-selection-section\">\r\n            <div class=\"ai-cards\">\r\n              <el-card v-for=\"(ai, index) in aiList\" :key=\"index\" class=\"ai-card\" shadow=\"hover\">\r\n                <div class=\"ai-card-header\">\r\n                  <div class=\"ai-left\">\r\n                    <div class=\"ai-avatar\">\r\n                      <img :src=\"ai.avatar\" alt=\"AI头像\">\r\n                    </div>\r\n                    <div class=\"ai-name\">{{ ai.name }}</div>\r\n                  </div>\r\n                  <div class=\"ai-status\">\r\n                    <el-switch v-model=\"ai.enabled\" active-color=\"#13ce66\" inactive-color=\"#ff4949\">\r\n                    </el-switch>\r\n                  </div>\r\n                </div>\r\n                <div class=\"ai-capabilities\" v-if=\"ai.capabilities && ai.capabilities.length > 0\">\r\n                  <div class=\"button-capability-group\">\r\n                    <el-button v-for=\"capability in ai.capabilities\" :key=\"capability.value\" size=\"mini\"\r\n                      :type=\"ai.selectedCapabilities.includes(capability.value) ? 'primary' : 'info'\"\r\n                      :disabled=\"!ai.enabled\" :plain=\"!ai.selectedCapabilities.includes(capability.value)\"\r\n                      @click=\"toggleCapability(ai, capability.value)\" class=\"capability-button\">\r\n                      {{ capability.label }}\r\n                    </el-button>\r\n                  </div>\r\n                </div>\r\n              </el-card>\r\n            </div>\r\n          </div>\r\n        </el-collapse-item>\r\n\r\n        <!-- 提示词输入区 -->\r\n        <el-collapse-item title=\"提示词输入\" name=\"prompt-input\">\r\n          <div class=\"prompt-input-section\">\r\n            <el-input type=\"textarea\" :rows=\"5\" placeholder=\"请输入提示词，支持Markdown格式\" v-model=\"promptInput\" resize=\"none\"\r\n              class=\"prompt-input\">\r\n            </el-input>\r\n            <div class=\"prompt-footer\">\r\n              <div class=\"word-count\">字数统计: {{ promptInput.length }}</div>\r\n              <el-button type=\"primary\" @click=\"sendPrompt\" :disabled=\"!canSend\" class=\"send-button\">\r\n                发送\r\n              </el-button>\r\n            </div>\r\n          </div>\r\n        </el-collapse-item>\r\n      </el-collapse>\r\n\r\n      <!-- 执行状态展示区 -->\r\n      <div class=\"execution-status-section\" v-if=\"taskStarted\">\r\n        <el-row :gutter=\"20\">\r\n          <el-col :span=\"12\">\r\n            <el-card class=\"task-flow-card\">\r\n              <div slot=\"header\" class=\"card-header\">\r\n                <span>任务流程</span>\r\n              </div>\r\n              <div class=\"task-flow\">\r\n                <div v-for=\"(ai, index) in enabledAIs\" :key=\"index\" class=\"task-item\">\r\n                  <div class=\"task-header\" @click=\"toggleAIExpansion(ai)\">\r\n                    <div class=\"header-left\">\r\n                      <i :class=\"['el-icon-arrow-right', {'is-expanded': ai.isExpanded}]\"></i>\r\n                      <span class=\"ai-name\">{{ ai.name }}</span>\r\n                    </div>\r\n                    <div class=\"header-right\">\r\n                      <span class=\"status-text\">{{ getStatusText(ai.status) }}</span>\r\n                      <i :class=\"getStatusIcon(ai.status)\" class=\"status-icon\"></i>\r\n                    </div>\r\n                  </div>\r\n                  <!-- 添加进度轨迹 -->\r\n                  <div class=\"progress-timeline\" v-if=\"ai.progressLogs.length > 0 && ai.isExpanded\">\r\n                    <div class=\"timeline-scroll\">\r\n                      <div v-for=\"(log, logIndex) in ai.progressLogs\" :key=\"logIndex\" class=\"progress-item\" :class=\"{\r\n                             'completed': log.isCompleted || logIndex > 0,\r\n                             'current': !log.isCompleted && logIndex === 0\r\n                           }\">\r\n                        <div class=\"progress-dot\"></div>\r\n                        <div class=\"progress-line\" v-if=\"logIndex < ai.progressLogs.length - 1\"></div>\r\n                        <div class=\"progress-content\">\r\n                          <div class=\"progress-time\">{{ formatTime(log.timestamp) }}</div>\r\n                          <div class=\"progress-text\">{{ log.content }}</div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </el-card>\r\n          </el-col>\r\n          <el-col :span=\"12\">\r\n            <el-card class=\"screenshots-card\">\r\n              <div slot=\"header\" class=\"card-header\">\r\n                <span>主机可视化</span>\r\n                <div class=\"controls\">\r\n                  <el-switch v-model=\"autoPlay\" active-text=\"自动轮播\" inactive-text=\"手动切换\">\r\n                  </el-switch>\r\n                </div>\r\n              </div>\r\n              <div class=\"screenshots\">\r\n                <el-carousel :interval=\"3000\" :autoplay=\"false\" indicator-position=\"outside\" height=\"700px\">\r\n                  <el-carousel-item v-for=\"(screenshot, index) in screenshots\" :key=\"index\">\r\n                    <img :src=\"screenshot\" alt=\"执行截图\" class=\"screenshot-image\" @click=\"showLargeImage(screenshot)\">\r\n                  </el-carousel-item>\r\n                </el-carousel>\r\n              </div>\r\n            </el-card>\r\n          </el-col>\r\n        </el-row>\r\n      </div>\r\n\r\n      <!-- 结果展示区 -->\r\n      <div class=\"results-section\" v-if=\"results.length > 0\">\r\n        <div class=\"section-header\">\r\n          <h2 class=\"section-title\">执行结果</h2>\r\n          <el-button type=\"primary\" @click=\"showScoreDialog\" size=\"small\">\r\n            智能评分\r\n          </el-button>\r\n        </div>\r\n        <el-tabs v-model=\"activeResultTab\" type=\"card\">\r\n          <el-tab-pane v-for=\"(result, index) in results\" :key=\"index\" :label=\"result.aiName\" :name=\"'result-' + index\">\r\n            <div class=\"result-content\">\r\n              <div class=\"result-header\" v-if=\"result.shareUrl\">\r\n                <div class=\"result-title\">{{ result.aiName }}的执行结果</div>\r\n                <div class=\"result-buttons\">\r\n                  <el-button size=\"mini\" type=\"primary\" icon=\"el-icon-link\" @click=\"openShareUrl(result.shareUrl)\"\r\n                    class=\"share-link-btn\">\r\n                    查看原链接\r\n                  </el-button>\r\n                  <el-button size=\"mini\" type=\"success\" icon=\"el-icon-s-promotion\" @click=\"handlePushToWechat(result)\"\r\n                    class=\"push-wechat-btn\" :loading=\"pushingToWechat\" :disabled=\"pushingToWechat\">\r\n                    投递到公众号\r\n                  </el-button>\r\n                </div>\r\n              </div>\r\n              <!-- 如果有shareImgUrl则渲染图片或PDF，否则渲染markdown -->\r\n              <div v-if=\"result.shareImgUrl\" class=\"share-content\">\r\n                <!-- 渲染图片 -->\r\n                <img v-if=\"isImageFile(result.shareImgUrl)\" :src=\"result.shareImgUrl\" alt=\"分享图片\" class=\"share-image\"\r\n                  :style=\"getImageStyle(result.aiName)\">\r\n                <!-- 渲染PDF -->\r\n                <iframe v-else-if=\"isPdfFile(result.shareImgUrl)\" :src=\"result.shareImgUrl\" class=\"share-pdf\"\r\n                  frameborder=\"0\">\r\n                </iframe>\r\n                <!-- 其他文件类型显示链接 -->\r\n                <div v-else class=\"share-file\">\r\n                  <el-button type=\"primary\" icon=\"el-icon-document\" @click=\"openShareUrl(result.shareImgUrl)\">\r\n                    查看文件\r\n                  </el-button>\r\n                </div>\r\n              </div>\r\n              <div v-else class=\"markdown-content\" v-html=\"renderMarkdown(result.content)\"></div>\r\n              <div class=\"action-buttons\">\r\n                <el-button size=\"small\" type=\"primary\" @click=\"copyResult(result.content)\">复制（纯文本）</el-button>\r\n                <el-button size=\"small\" type=\"success\" @click=\"exportResult(result)\">导出（MD文件）</el-button>\r\n              </div>\r\n            </div>\r\n          </el-tab-pane>\r\n        </el-tabs>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 大图查看对话框 -->\r\n    <el-dialog :visible.sync=\"showImageDialog\" width=\"90%\" :show-close=\"true\" :modal=\"true\" center class=\"image-dialog\"\r\n      :append-to-body=\"true\" @close=\"closeLargeImage\">\r\n      <div class=\"large-image-container\">\r\n        <!-- 如果是单张分享图片，直接显示 -->\r\n        <div v-if=\"currentLargeImage && !screenshots.includes(currentLargeImage)\" class=\"single-image-container\">\r\n          <img :src=\"currentLargeImage\" alt=\"大图\" class=\"large-image\">\r\n        </div>\r\n        <!-- 如果是截图轮播 -->\r\n        <el-carousel v-else :interval=\"3000\" :autoplay=\"false\" indicator-position=\"outside\" height=\"80vh\">\r\n          <el-carousel-item v-for=\"(screenshot, index) in screenshots\" :key=\"index\">\r\n            <img :src=\"screenshot\" alt=\"大图\" class=\"large-image\">\r\n          </el-carousel-item>\r\n        </el-carousel>\r\n      </div>\r\n    </el-dialog>\r\n\r\n    <!-- 评分弹窗 -->\r\n    <el-dialog title=\"智能评分\" :visible.sync=\"scoreDialogVisible\" width=\"60%\" height=\"65%\" :close-on-click-modal=\"false\"\r\n      class=\"score-dialog\">\r\n      <div class=\"score-dialog-content\">\r\n        <div class=\"score-prompt-section\">\r\n          <h3>评分提示词：</h3>\r\n          <el-input type=\"textarea\" :rows=\"10\" placeholder=\"请输入评分提示词，例如：请从内容质量、逻辑性、创新性等方面进行评分\" v-model=\"scorePrompt\"\r\n            resize=\"none\" class=\"score-prompt-input\">\r\n          </el-input>\r\n        </div>\r\n        <div class=\"selected-results\">\r\n          <h3>选择要评分的内容：</h3>\r\n          <el-checkbox-group v-model=\"selectedResults\">\r\n            <el-checkbox v-for=\"(result, index) in results\" :key=\"index\" :label=\"result.aiName\" class=\"result-checkbox\">\r\n              {{ result.aiName }}\r\n            </el-checkbox>\r\n          </el-checkbox-group>\r\n        </div>\r\n\r\n\r\n      </div>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"scoreDialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"handleScore\" :disabled=\"!canScore\">\r\n          开始评分\r\n        </el-button>\r\n      </span>\r\n    </el-dialog>\r\n\r\n    <!-- 智能排版弹窗 -->\r\n    <el-dialog title=\"智能排版\" :visible.sync=\"layoutDialogVisible\" width=\"60%\" height=\"65%\" :close-on-click-modal=\"false\"\r\n      class=\"layout-dialog\">\r\n      <div class=\"layout-dialog-content\">\r\n        <div class=\"layout-prompt-section\">\r\n          <h3>排版提示词：</h3>\r\n          <el-input type=\"textarea\" :rows=\"15\" placeholder=\"请输入排版提示词\" v-model=\"layoutPrompt\"\r\n            resize=\"none\" class=\"layout-prompt-input\">\r\n          </el-input>\r\n        </div>\r\n      </div>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"layoutDialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"handleLayout\" :disabled=\"!canLayout\">\r\n          开始排版\r\n        </el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {marked} from 'marked';\r\nimport {message, saveUserChatData, getChatHistory, pushAutoOffice} from \"@/api/wechat/aigc\";\r\nimport {\r\n\t\tv4 as uuidv4\r\n\t} from 'uuid';\r\nimport websocketClient from '@/utils/websocket';\r\nimport store from '@/store';\r\nimport TurndownService from 'turndown';\r\n\r\nexport default {\r\n  name: 'AIManagementPlatform',\r\n  data() {\r\n    return {\r\n      userId: store.state.user.id,\r\n      corpId: store.state.user.corp_id,\r\n      chatId: uuidv4(),\r\n      expandedHistoryItems: {},\r\n      userInfoReq: {\r\n        userPrompt: '',\r\n        userId: '',\r\n        corpId: '',\r\n        taskId: '',\r\n        roles: '',\r\n        toneChatId: '',\r\n        ybDsChatId: '',\r\n        dbChatId: '',\r\n        isNewChat: true\r\n      },\r\n      jsonRpcReqest: {\r\n        jsonrpc: '2.0',\r\n        id: uuidv4(),\r\n        method: '',\r\n        params: {}\r\n      },\r\n      aiList: [\r\n        {\r\n          name: '知乎直答',\r\n          avatar: require('../../../assets/ai/Zhihu.png'),\r\n          capabilities: [\r\n            { label: '深度思考', value: 'deep_thinking' }\r\n          ],\r\n          selectedCapabilities: ['deep_thinking'],\r\n          enabled: true,\r\n          status: 'idle',\r\n          progressLogs: [],\r\n          isExpanded: true\r\n        },\r\n        {\r\n          name: 'DeepSeek',\r\n          avatar: require('../../../assets/logo/Deepseek.png'),\r\n          capabilities: [\r\n            { label: '深度思考', value: 'deep_thinking' },\r\n            { label: '联网搜索', value: 'web_search' }\r\n          ],\r\n          selectedCapabilities: ['deep_thinking', 'web_search'],\r\n          enabled: true,\r\n          status: 'idle',\r\n          progressLogs: [],\r\n          isExpanded: true\r\n        },\r\n        {\r\n          name: '豆包',\r\n          avatar: require('../../../assets/ai/豆包.png'),\r\n          capabilities: [\r\n            { label: '深度思考', value: 'deep_thinking' }\r\n          ],\r\n          selectedCapabilities: ['deep_thinking'],\r\n          enabled: true,\r\n          status: 'idle',\r\n          progressLogs: [],\r\n          isExpanded: true\r\n        }\r\n      ],\r\n      promptInput: '',\r\n      taskStarted: false,\r\n      autoPlay: false,\r\n      screenshots: [],\r\n      results: [],\r\n      activeResultTab: 'result-0',\r\n      activeCollapses: ['ai-selection', 'prompt-input'], // 默认展开这两个区域\r\n      showImageDialog: false,\r\n      currentLargeImage: '',\r\n      enabledAIs: [],\r\n      turndownService: new TurndownService({\r\n        headingStyle: 'atx',\r\n        codeBlockStyle: 'fenced',\r\n        emDelimiter: '*'\r\n      }),\r\n      scoreDialogVisible: false,\r\n      selectedResults: [],\r\n      scorePrompt: `请你深度阅读以下几篇内容，从多个维度进行逐项打分，输出评分结果。并在以下各篇文章的基础上博采众长，综合整理一篇更全面的文章。`,\r\n      layoutDialogVisible: false,\r\n      layoutPrompt: '',\r\n      currentLayoutResult: null, // 当前要排版的结果\r\n      historyDrawerVisible: false,\r\n      chatHistory: [],\r\n      pushOfficeNum: 0, // 投递到公众号的递增编号\r\n      pushingToWechat: false, // 投递到公众号的loading状态\r\n    };\r\n  },\r\n  computed: {\r\n    canSend() {\r\n      return this.promptInput.trim().length > 0 && this.aiList.some(ai => ai.enabled);\r\n    },\r\n    canScore() {\r\n      return this.selectedResults.length > 0 && this.scorePrompt.trim().length > 0;\r\n    },\r\n    canLayout() {\r\n      return this.layoutPrompt.trim().length > 0;\r\n    },\r\n    groupedHistory() {\r\n      const groups = {};\r\n      const chatGroups = {};\r\n\r\n      // 首先按chatId分组\r\n      this.chatHistory.forEach(item => {\r\n        if (!chatGroups[item.chatId]) {\r\n          chatGroups[item.chatId] = [];\r\n        }\r\n        chatGroups[item.chatId].push(item);\r\n      });\r\n\r\n      // 然后按日期分组，并处理父子关系\r\n      Object.values(chatGroups).forEach(chatGroup => {\r\n        // 按时间排序\r\n        chatGroup.sort((a, b) => new Date(a.createTime) - new Date(b.createTime));\r\n\r\n        // 获取最早的记录作为父级\r\n        const parentItem = chatGroup[0];\r\n        const date = this.getHistoryDate(parentItem.createTime);\r\n\r\n        if (!groups[date]) {\r\n          groups[date] = [];\r\n        }\r\n\r\n        // 添加父级记录\r\n        groups[date].push({\r\n          ...parentItem,\r\n          isParent: true,\r\n          isExpanded: this.expandedHistoryItems[parentItem.chatId] || false,\r\n          children: chatGroup.slice(1).map(child => ({\r\n            ...child,\r\n            isParent: false\r\n          }))\r\n        });\r\n      });\r\n\r\n      return groups;\r\n    }\r\n  },\r\n  created() {\r\n    console.log(this.userId);\r\n    console.log(this.corpId);\r\n    \r\n    this.initWebSocket(this.userId);\r\n    this.loadChatHistory(0); // 加载历史记录\r\n    this.loadLastChat(); // 加载上次会话\r\n  },\r\n  methods: {\r\n    sendPrompt() {\r\n      if (!this.canSend) return;\r\n\r\n      this.screenshots =[];\r\n      // 折叠所有区域\r\n      this.activeCollapses = [];\r\n\r\n      this.taskStarted = true;\r\n      this.results = []; // 清空之前的结果\r\n\r\n      this.userInfoReq.roles = '';\r\n\r\n\r\n      this.userInfoReq.taskId = uuidv4();\r\n      this.userInfoReq.userId = this.userId;\r\n      this.userInfoReq.corpId = this.corpId;\r\n      this.userInfoReq.userPrompt = this.promptInput;\r\n\r\n      // 获取启用的AI列表及其状态\r\n      this.enabledAIs = this.aiList.filter(ai => ai.enabled);\r\n\r\n      // 将所有启用的AI状态设置为运行中\r\n      this.enabledAIs.forEach(ai => {\r\n        this.$set(ai, 'status', 'running');\r\n      });\r\n\r\n      this.enabledAIs.forEach(ai => {\r\n        if(ai.name === '知乎直答'){\r\n          this.userInfoReq.roles = this.userInfoReq.roles + 'zhihu,';\r\n          if(ai.selectedCapabilities.includes(\"deep_thinking\")){\r\n            this.userInfoReq.roles = this.userInfoReq.roles + 'zhihu-deepseek-sdsk,';\r\n          }\r\n        }\r\n        if(ai.name === 'DeepSeek' && ai.enabled){\r\n          this.userInfoReq.roles = this.userInfoReq.roles + 'deepseek,';\r\n          if (ai.selectedCapabilities.includes(\"deep_thinking\")) {\r\n            this.userInfoReq.roles = this.userInfoReq.roles + 'ds-sdsk,';\r\n          }\r\n          if (ai.selectedCapabilities.includes(\"web_search\")) {\r\n            this.userInfoReq.roles = this.userInfoReq.roles + 'ds-lwss,';\r\n          }\r\n        }\r\n        if(ai.name === '豆包'){\r\n          this.userInfoReq.roles = this.userInfoReq.roles + 'zj-db,';\r\n          if (ai.selectedCapabilities.includes(\"deep_thinking\")) {\r\n            this.userInfoReq.roles = this.userInfoReq.roles + 'zj-db-sdsk,';\r\n          }\r\n        }\r\n      });\r\n\r\n      console.log(\"参数：\", this.userInfoReq)\r\n\r\n      //调用后端接口\r\n      this.jsonRpcReqest.method = \"使用F8S\"\r\n      this.jsonRpcReqest.params = this.userInfoReq\r\n      this.message(this.jsonRpcReqest)\r\n      this.userInfoReq.isNewChat = false;\r\n    },\r\n\r\n    message(data) {\r\n      message(data).then(res => {\r\n        if (res.code == 201) {\r\n          uni.showToast({\r\n            title: res.messages,\r\n            icon: 'none',\r\n            duration: 1500,\r\n          });\r\n        }\r\n      })\r\n\r\n    },\r\n    toggleCapability(ai, capabilityValue) {\r\n      if (!ai.enabled) return;\r\n\r\n      const index = ai.selectedCapabilities.indexOf(capabilityValue);\r\n      console.log('切换前:', ai.selectedCapabilities);\r\n      if (index === -1) {\r\n        // 如果不存在，则添加\r\n        this.$set(ai.selectedCapabilities, ai.selectedCapabilities.length, capabilityValue);\r\n      } else {\r\n        // 如果已存在，则移除\r\n        const newCapabilities = [...ai.selectedCapabilities];\r\n        newCapabilities.splice(index, 1);\r\n        this.$set(ai, 'selectedCapabilities', newCapabilities);\r\n      }\r\n      console.log('切换后:', ai.selectedCapabilities);\r\n      this.$forceUpdate(); // 强制更新视图\r\n    },\r\n    getStatusText(status) {\r\n      switch (status) {\r\n        case 'idle': return '等待中';\r\n        case 'running': return '正在执行';\r\n        case 'completed': return '已完成';\r\n        case 'failed': return '执行失败';\r\n        default: return '未知状态';\r\n      }\r\n    },\r\n    getStatusIcon(status) {\r\n      switch (status) {\r\n        case 'idle': return 'el-icon-time';\r\n        case 'running': return 'el-icon-loading';\r\n        case 'completed': return 'el-icon-check success-icon';\r\n        case 'failed': return 'el-icon-close error-icon';\r\n        default: return 'el-icon-question';\r\n      }\r\n    },\r\n    renderMarkdown(text) {\r\n      return marked(text);\r\n    },\r\n    // HTML转纯文本\r\n    htmlToText(html) {\r\n      const tempDiv = document.createElement('div');\r\n      tempDiv.innerHTML = html;\r\n      return tempDiv.textContent || tempDiv.innerText || '';\r\n    },\r\n\r\n    // HTML转Markdown\r\n    htmlToMarkdown(html) {\r\n      return this.turndownService.turndown(html);\r\n    },\r\n\r\n    copyResult(content) {\r\n      // 将HTML转换为纯文本\r\n      const plainText = this.htmlToText(content);\r\n      const textarea = document.createElement('textarea');\r\n      textarea.value = plainText;\r\n      document.body.appendChild(textarea);\r\n      textarea.select();\r\n      document.execCommand('copy');\r\n      document.body.removeChild(textarea);\r\n      this.$message.success('已复制纯文本到剪贴板');\r\n    },\r\n\r\n    exportResult(result) {\r\n      // 将HTML转换为Markdown\r\n      const markdown = result.content;\r\n      const blob = new Blob([markdown], { type: 'text/markdown' });\r\n      const link = document.createElement('a');\r\n      link.href = URL.createObjectURL(blob);\r\n      link.download = `${result.aiName}_结果_${new Date().toISOString().slice(0, 10)}.md`;\r\n      link.click();\r\n      URL.revokeObjectURL(link.href);\r\n      this.$message.success('已导出Markdown文件');\r\n    },\r\n\r\n    openShareUrl(shareUrl) {\r\n      if (shareUrl) {\r\n        window.open(shareUrl, '_blank');\r\n      } else {\r\n        this.$message.warning('暂无原链接');\r\n      }\r\n    },\r\n    showLargeImage(imageUrl) {\r\n      this.currentLargeImage = imageUrl;\r\n      this.showImageDialog = true;\r\n      // 找到当前图片的索引，设置轮播图的初始位置\r\n      const currentIndex = this.screenshots.indexOf(imageUrl);\r\n      if (currentIndex !== -1) {\r\n        this.$nextTick(() => {\r\n          const carousel = this.$el.querySelector('.image-dialog .el-carousel');\r\n          if (carousel && carousel.__vue__) {\r\n            carousel.__vue__.setActiveItem(currentIndex);\r\n          }\r\n        });\r\n      }\r\n    },\r\n    closeLargeImage() {\r\n      this.showImageDialog = false;\r\n      this.currentLargeImage = '';\r\n    },\r\n    // WebSocket 相关方法\r\n    initWebSocket(id) {\r\n      const wsUrl = process.env.VUE_APP_WS_API + `mypc-${id}`;\r\n      console.log('WebSocket URL:', process.env.VUE_APP_WS_API);\r\n      websocketClient.connect(wsUrl, (event) => {\r\n        switch (event.type) {\r\n          case 'open':\r\n            // this.$message.success('');\r\n            break;\r\n          case 'message':\r\n            this.handleWebSocketMessage(event.data);\r\n            break;\r\n          case 'close':\r\n            this.$message.warning('WebSocket连接已关闭');\r\n            break;\r\n          case 'error':\r\n            this.$message.error('WebSocket连接错误');\r\n            break;\r\n          case 'reconnect_failed':\r\n            this.$message.error('WebSocket重连失败，请刷新页面重试');\r\n            break;\r\n        }\r\n      });\r\n    },\r\n\r\n    handleWebSocketMessage(data) {\r\n\r\n      const datastr = data;\r\n      const dataObj = JSON.parse(datastr);\r\n\r\n      // 处理chatId消息\r\n      if (dataObj.type === 'RETURN_YBT1_CHATID' && dataObj.chatId) {\r\n        this.userInfoReq.toneChatId = dataObj.chatId;\r\n      } else if (dataObj.type === 'RETURN_YBDS_CHATID' && dataObj.chatId) {\r\n        this.userInfoReq.ybDsChatId = dataObj.chatId;\r\n      } else if (dataObj.type === 'RETURN_DB_CHATID' && dataObj.chatId) {\r\n        this.userInfoReq.dbChatId = dataObj.chatId;\r\n      }\r\n\r\n      // 处理进度日志消息\r\n      if (dataObj.type === 'RETURN_PC_TASK_LOG' && dataObj.aiName) {\r\n        const targetAI = this.enabledAIs.find(ai => ai.name === dataObj.aiName);\r\n        if (targetAI) {\r\n          // 将新进度添加到数组开头\r\n          targetAI.progressLogs.unshift({\r\n            content: dataObj.content,\r\n            timestamp: new Date(),\r\n            isCompleted: false\r\n          });\r\n        }\r\n        return;\r\n      }\r\n\r\n      // 处理截图消息\r\n      if (dataObj.type === 'RETURN_PC_TASK_IMG' && dataObj.url) {\r\n        // 将新的截图添加到数组开头\r\n        this.screenshots.unshift(dataObj.url);\r\n        return;\r\n      }\r\n\r\n              // 处理智能评分结果\r\n      if (dataObj.type === 'RETURN_WKPF_RES') {\r\n        const wkpfAI = this.enabledAIs.find(ai => ai.name === '智能评分');\r\n        if (wkpfAI) {\r\n          this.$set(wkpfAI, 'status', 'completed');\r\n          if (wkpfAI.progressLogs.length > 0) {\r\n            this.$set(wkpfAI.progressLogs[0], 'isCompleted', true);\r\n          }\r\n          // 添加评分结果到results最前面\r\n          this.results.unshift({\r\n            aiName: '智能评分',\r\n            content: dataObj.draftContent,\r\n            shareUrl: dataObj.shareUrl || '',\r\n            shareImgUrl: dataObj.shareImgUrl || '',\r\n            timestamp: new Date()\r\n          });\r\n          this.activeResultTab = 'result-0';\r\n\r\n          // 智能评分完成时，再次保存历史记录\r\n          this.saveHistory();\r\n        }\r\n        return;\r\n      }\r\n\r\n      // 处理智能排版结果\r\n      if (dataObj.type === 'RETURN_ZNPB_RES') {\r\n        const znpbAI = this.enabledAIs.find(ai => ai.name === '智能排版');\r\n        if (znpbAI) {\r\n          this.$set(znpbAI, 'status', 'completed');\r\n          if (znpbAI.progressLogs.length > 0) {\r\n            this.$set(znpbAI.progressLogs[0], 'isCompleted', true);\r\n          }\r\n\r\n          // 直接调用投递到公众号的方法，不添加到结果展示\r\n          this.pushToWechatWithContent(dataObj.draftContent);\r\n\r\n          // 智能排版完成时，保存历史记录\r\n          this.saveHistory();\r\n        }\r\n        return;\r\n      }\r\n\r\n      // 根据消息类型更新对应AI的状态和结果\r\n      let targetAI = null;\r\n      switch (dataObj.type) {\r\n        case 'RETURN_ZH_RES':\r\n          console.log('收到知乎直答消息:',data);\r\n          targetAI = this.enabledAIs.find(ai => ai.name === '知乎直答');\r\n          break;\r\n        case 'RETURN_YBT1_RES':\r\n        case 'RETURN_TURBOS_RES':\r\n        case 'RETURN_TURBOS_LARGE_RES':\r\n        case 'RETURN_DEEPSEEK_RES':\r\n          console.log('收到DeepSeek消息:', dataObj);\r\n          targetAI = this.enabledAIs.find(ai => ai.name === 'DeepSeek');\r\n          break;\r\n        case 'RETURN_YBDS_RES':\r\n        case 'RETURN_DB_RES':\r\n          console.log('收到豆包消息:', dataObj);\r\n          targetAI = this.enabledAIs.find(ai => ai.name === '豆包');\r\n          break;\r\n      }\r\n\r\n      if (targetAI) {\r\n        // 更新AI状态为已完成\r\n        this.$set(targetAI, 'status', 'completed');\r\n\r\n        // 将最后一条进度消息标记为已完成\r\n        if (targetAI.progressLogs.length > 0) {\r\n          this.$set(targetAI.progressLogs[0], 'isCompleted', true);\r\n        }\r\n\r\n        // 添加结果到数组开头\r\n        const resultIndex = this.results.findIndex(r => r.aiName === targetAI.name);\r\n        if (resultIndex === -1) {\r\n          this.results.unshift({\r\n            aiName: targetAI.name,\r\n            content: dataObj.draftContent,\r\n            shareUrl: dataObj.shareUrl || '',\r\n            shareImgUrl: dataObj.shareImgUrl || '',\r\n            timestamp: new Date()\r\n          });\r\n          this.activeResultTab = 'result-0';\r\n        } else {\r\n          this.results.splice(resultIndex, 1);\r\n          this.results.unshift({\r\n            aiName: targetAI.name,\r\n            content: dataObj.draftContent,\r\n            shareUrl: dataObj.shareUrl || '',\r\n            shareImgUrl: dataObj.shareImgUrl || '',\r\n            timestamp: new Date()\r\n          });\r\n          this.activeResultTab = 'result-0';\r\n        }\r\n        this.saveHistory();\r\n      }\r\n\r\n      // 检查是否所有任务都已完成\r\n      // const allCompleted = this.enabledAIs.every(ai =>\r\n      //   ai.status === 'completed' || ai.status === 'failed'\r\n      // );\r\n\r\n      // if (allCompleted) {\r\n      //\r\n      // }\r\n    },\r\n\r\n    closeWebSocket() {\r\n      websocketClient.close();\r\n    },\r\n\r\n    sendMessage(data) {\r\n      if (websocketClient.send(data)) {\r\n        // 滚动到底部\r\n        this.$nextTick(() => {\r\n          this.scrollToBottom();\r\n        });\r\n      } else {\r\n        this.$message.error('WebSocket未连接');\r\n      }\r\n    },\r\n    toggleAIExpansion(ai) {\r\n      this.$set(ai, 'isExpanded', !ai.isExpanded);\r\n    },\r\n\r\n    formatTime(timestamp) {\r\n      const date = new Date(timestamp);\r\n      return date.toLocaleTimeString('zh-CN', {\r\n        hour: '2-digit',\r\n        minute: '2-digit',\r\n        second: '2-digit',\r\n        hour12: false\r\n      });\r\n    },\r\n    showScoreDialog() {\r\n      this.scoreDialogVisible = true;\r\n      this.selectedResults = [];\r\n    },\r\n\r\n    handleScore() {\r\n      if (!this.canScore) return;\r\n\r\n      // 获取选中的结果内容并按照指定格式拼接\r\n      const selectedContents = this.results\r\n        .filter(result => this.selectedResults.includes(result.aiName))\r\n        .map(result => {\r\n          // 将HTML内容转换为纯文本\r\n          const plainContent = this.htmlToText(result.content);\r\n          return `${result.aiName}初稿：\\n${plainContent}\\n`;\r\n        })\r\n        .join('\\n');\r\n\r\n      // 构建完整的评分提示内容\r\n      const fullPrompt = `${this.scorePrompt}\\n${selectedContents}`;\r\n\r\n      // 构建评分请求\r\n      const scoreRequest = {\r\n        jsonrpc: '2.0',\r\n        id: uuidv4(),\r\n        method: 'AI评分',\r\n        params: {\r\n          taskId: uuidv4(),\r\n          userId: this.userId,\r\n          corpId: this.corpId,\r\n          userPrompt: fullPrompt,\r\n          roles: 'zj-db-sdsk' // 默认使用豆包进行评分\r\n        }\r\n      };\r\n\r\n      // 发送评分请求\r\n      console.log(\"参数\", scoreRequest)\r\n      this.message(scoreRequest);\r\n      this.scoreDialogVisible = false;\r\n\r\n      // 创建智能评分AI节点\r\n      const wkpfAI = {\r\n        name: '智能评分',\r\n        avatar: require('../../../assets/ai/yuanbao.png'),\r\n        capabilities: [],\r\n        selectedCapabilities: [],\r\n        enabled: true,\r\n        status: 'running',\r\n        progressLogs: [\r\n          {\r\n            content: '智能评分任务已提交，正在评分...',\r\n            timestamp: new Date(),\r\n            isCompleted: false,\r\n            type: '智能评分'\r\n          }\r\n        ],\r\n        isExpanded: true\r\n      };\r\n\r\n      // 检查是否已存在智能评分\r\n      const existIndex = this.enabledAIs.findIndex(ai => ai.name === '智能评分');\r\n      if (existIndex === -1) {\r\n        // 如果不存在，添加到数组开头\r\n        this.enabledAIs.unshift(wkpfAI);\r\n      } else {\r\n        // 如果已存在，更新状态和日志\r\n        this.enabledAIs[existIndex] = wkpfAI;\r\n        // 将智能评分移到数组开头\r\n        const wkpf = this.enabledAIs.splice(existIndex, 1)[0];\r\n        this.enabledAIs.unshift(wkpf);\r\n      }\r\n\r\n      this.$forceUpdate();\r\n      this.$message.success('评分请求已发送，请等待结果');\r\n    },\r\n    // 显示历史记录抽屉\r\n    showHistoryDrawer() {\r\n      this.historyDrawerVisible = true;\r\n      this.loadChatHistory(1);\r\n    },\r\n\r\n    // 关闭历史记录抽屉\r\n    handleHistoryDrawerClose() {\r\n      this.historyDrawerVisible = false;\r\n    },\r\n\r\n    // 加载历史记录\r\n    async loadChatHistory(isAll) {\r\n      try {\r\n        const res = await getChatHistory(this.userId, isAll);\r\n        if (res.code === 200) {\r\n          this.chatHistory = res.data || [];\r\n        }\r\n      } catch (error) {\r\n        console.error('加载历史记录失败:', error);\r\n        this.$message.error('加载历史记录失败');\r\n      }\r\n    },\r\n\r\n    // 格式化历史记录时间\r\n    formatHistoryTime(timestamp) {\r\n      const date = new Date(timestamp);\r\n      return date.toLocaleTimeString('zh-CN', {\r\n        hour: '2-digit',\r\n        minute: '2-digit',\r\n        hour12: false\r\n      });\r\n    },\r\n\r\n    // 获取历史记录日期分组\r\n    getHistoryDate(timestamp) {\r\n      const date = new Date(timestamp);\r\n      const today = new Date();\r\n      const yesterday = new Date(today);\r\n      yesterday.setDate(yesterday.getDate() - 1);\r\n      const twoDaysAgo = new Date(today);\r\n      twoDaysAgo.setDate(twoDaysAgo.getDate() - 2);\r\n      const threeDaysAgo = new Date(today);\r\n      threeDaysAgo.setDate(threeDaysAgo.getDate() - 3);\r\n\r\n      if (date.toDateString() === today.toDateString()) {\r\n        return '今天';\r\n      } else if (date.toDateString() === yesterday.toDateString()) {\r\n        return '昨天';\r\n      } else if (date.toDateString() === twoDaysAgo.toDateString()) {\r\n        return '两天前';\r\n      } else if (date.toDateString() === threeDaysAgo.toDateString()) {\r\n        return '三天前';\r\n      } else {\r\n        return date.toLocaleDateString('zh-CN', {\r\n          year: 'numeric',\r\n          month: 'long',\r\n          day: 'numeric'\r\n        });\r\n      }\r\n    },\r\n\r\n    // 加载历史记录项\r\n    loadHistoryItem(item) {\r\n      try {\r\n        const historyData = JSON.parse(item.data);\r\n        \r\n        // 恢复提示词输入\r\n        this.promptInput = historyData.promptInput || '';\r\n        // 恢复任务流程\r\n        this.enabledAIs = historyData.enabledAIs || [];\r\n        // 恢复主机可视化\r\n        this.screenshots = historyData.screenshots || [];\r\n        // 恢复执行结果\r\n        this.results = historyData.results || [];\r\n        // 恢复chatId\r\n        this.chatId = item.chatId || this.chatId;\r\n        this.userInfoReq.toneChatId = item.toneChatId || '';\r\n        this.userInfoReq.ybDsChatId = item.ybDsChatId || '';\r\n        this.userInfoReq.dbChatId = item.dbChatId || '';\r\n        this.userInfoReq.isNewChat = false;\r\n\r\n        // 展开相关区域\r\n        this.activeCollapses = ['ai-selection', 'prompt-input'];\r\n        this.taskStarted = true;\r\n\r\n        this.$message.success('历史记录加载成功');\r\n        this.historyDrawerVisible = false;\r\n      } catch (error) {\r\n        console.error('加载历史记录失败:', error);\r\n        this.$message.error('加载历史记录失败');\r\n      }\r\n    },\r\n\r\n    // 保存历史记录\r\n    async saveHistory() {\r\n      // if (!this.taskStarted || this.enabledAIs.some(ai => ai.status === 'running')) {\r\n      //   return;\r\n      // }\r\n\r\n      const historyData = {\r\n        aiList: this.aiList,\r\n        promptInput: this.promptInput,\r\n        enabledAIs: this.enabledAIs,\r\n        screenshots: this.screenshots,\r\n        results: this.results,\r\n        chatId: this.chatId,\r\n        toneChatId: this.userInfoReq.toneChatId,\r\n        ybDsChatId: this.userInfoReq.ybDsChatId,\r\n        dbChatId: this.userInfoReq.dbChatId\r\n      };\r\n\r\n      try {\r\n        await saveUserChatData({\r\n          userId: this.userId,\r\n          userPrompt: this.promptInput,\r\n          data: JSON.stringify(historyData),\r\n          chatId: this.chatId,\r\n          toneChatId: this.userInfoReq.toneChatId,\r\n          ybDsChatId: this.userInfoReq.ybDsChatId,\r\n          dbChatId: this.userInfoReq.dbChatId\r\n        });\r\n      } catch (error) {\r\n        console.error('保存历史记录失败:', error);\r\n        this.$message.error('保存历史记录失败');\r\n      }\r\n    },\r\n\r\n    // 修改折叠切换方法\r\n    toggleHistoryExpansion(item) {\r\n      this.$set(this.expandedHistoryItems, item.chatId, !this.expandedHistoryItems[item.chatId]);\r\n    },\r\n\r\n    // 创建新对话\r\n    createNewChat() {\r\n      // 重置所有数据\r\n      this.chatId = uuidv4();\r\n      this.isNewChat = true;\r\n      this.promptInput = '';\r\n      this.taskStarted = false;\r\n      this.screenshots = [];\r\n      this.results = [];\r\n      this.enabledAIs = [];\r\n      this.userInfoReq = {\r\n        userPrompt: '',\r\n        userId: this.userId,\r\n        corpId: this.corpId,\r\n        taskId: '',\r\n        roles: '',\r\n        toneChatId: '',\r\n        ybDsChatId: '',\r\n        dbChatId: '',\r\n        isNewChat: true\r\n      };\r\n      // 重置AI列表为初始状态\r\n      this.aiList = [\r\n        {\r\n          name: '知乎直答',\r\n          avatar: require('../../../assets/ai/Zhihu.png'),\r\n          capabilities: [\r\n            { label: '深度思考', value: 'deep_thinking' }\r\n          ],\r\n          selectedCapabilities: ['deep_thinking'],\r\n          enabled: true,\r\n          status: 'idle',\r\n          progressLogs: [],\r\n          isExpanded: true\r\n        },\r\n        {\r\n          name: 'DeepSeek',\r\n          avatar: require('../../../assets/logo/Deepseek.png'),\r\n          capabilities: [\r\n            { label: '深度思考', value: 'deep_thinking' },\r\n            { label: '联网搜索', value: 'web_search' }\r\n          ],\r\n          selectedCapabilities: ['deep_thinking', 'web_search'],\r\n          enabled: true,\r\n          status: 'idle',\r\n          progressLogs: [],\r\n          isExpanded: true\r\n        },\r\n        {\r\n          name: '豆包',\r\n          avatar: require('../../../assets/ai/豆包.png'),\r\n          capabilities: [\r\n            { label: '深度思考', value: 'deep_thinking' }\r\n          ],\r\n          selectedCapabilities: ['deep_thinking'],\r\n          enabled: true,\r\n          status: 'idle',\r\n          progressLogs: [],\r\n          isExpanded: true\r\n        }\r\n      ];\r\n      // 展开相关区域\r\n      this.activeCollapses = ['ai-selection', 'prompt-input'];\r\n\r\n      this.$message.success('已创建新对话');\r\n    },\r\n\r\n    // 加载上次会话\r\n    async loadLastChat() {\r\n      try {\r\n        const res = await getChatHistory(this.userId,0);\r\n        if (res.code === 200 && res.data && res.data.length > 0) {\r\n          // 获取最新的会话记录\r\n          const lastChat = res.data[0];\r\n          this.loadHistoryItem(lastChat);\r\n        }\r\n      } catch (error) {\r\n        console.error('加载上次会话失败:', error);\r\n      }\r\n    },\r\n\r\n    // 判断是否为图片文件\r\n    isImageFile(url) {\r\n      if (!url) return false;\r\n      const imageExtensions = ['.jpg', '.jpeg', '.png', '.gif', '.bmp', '.webp', '.svg'];\r\n      const urlLower = url.toLowerCase();\r\n      return imageExtensions.some(ext => urlLower.includes(ext));\r\n    },\r\n\r\n    // 判断是否为PDF文件\r\n    isPdfFile(url) {\r\n      if (!url) return false;\r\n      return url.toLowerCase().includes('.pdf');\r\n    },\r\n\r\n    // 根据AI名称获取图片样式\r\n    getImageStyle(aiName) {\r\n      const widthMap = {\r\n        'DeepSeek': '700px',\r\n        '豆包': '560px'\r\n      };\r\n\r\n      const width = widthMap[aiName] || '560px'; // 默认宽度\r\n\r\n      return {\r\n        width: width,\r\n        height: 'auto'\r\n      };\r\n    },\r\n\r\n    // 投递到公众号\r\n    handlePushToWechat(result) {\r\n      this.showLayoutDialog(result);\r\n    },\r\n\r\n    // 显示智能排版对话框\r\n    showLayoutDialog(result) {\r\n      this.currentLayoutResult = result;\r\n      this.layoutPrompt = `请你对以下 HTML 内容进行排版优化，目标是用于微信公众号\"草稿箱接口\"的 content 字段，要求如下：\r\n\r\n1. 仅返回 <body> 内部可用的 HTML 内容片段（不要包含 <!DOCTYPE>、<html>、<head>、<meta>、<title> 等标签）。\r\n2. 所有样式必须以\"内联 style\"方式写入。\r\n3. 保持结构清晰、视觉友好，适配公众号图文排版。\r\n4. 请直接输出代码，不要添加任何注释或额外说明。\r\n5. 不得使用 emoji 表情符号或小图标字符。\r\n6. 不要显示为问答形式，以一篇文章的格式去调整 \\n\\n以下为需要进行排版优化的内容：\\n`+ result.content ;\r\n      this.layoutDialogVisible = true;\r\n    },\r\n\r\n    // 处理智能排版\r\n    handleLayout() {\r\n      if (!this.canLayout || !this.currentLayoutResult) return;\r\n\r\n      // 构建排版请求\r\n      const layoutRequest = {\r\n        jsonrpc: '2.0',\r\n        id: uuidv4(),\r\n        method: 'AI排版',\r\n        params: {\r\n          taskId: uuidv4(),\r\n          userId: this.userId,\r\n          corpId: this.corpId,\r\n          userPrompt: this.layoutPrompt,\r\n          roles: '' // 默认使用豆包进行排版\r\n        }\r\n      };\r\n\r\n      // 发送排版请求\r\n      console.log(\"排版参数\", layoutRequest)\r\n      this.message(layoutRequest);\r\n      this.layoutDialogVisible = false;\r\n\r\n      // 创建智能排版AI节点\r\n      const znpbAI = {\r\n        name: '智能排版',\r\n        avatar: require('../../../assets/ai/yuanbao.png'),\r\n        capabilities: [],\r\n        selectedCapabilities: [],\r\n        enabled: true,\r\n        status: 'running',\r\n        progressLogs: [\r\n          {\r\n            content: '智能排版任务已提交，正在排版...',\r\n            timestamp: new Date(),\r\n            isCompleted: false,\r\n            type: '智能排版'\r\n          }\r\n        ],\r\n        isExpanded: true\r\n      };\r\n\r\n      // 检查是否已存在智能排版\r\n      const existIndex = this.enabledAIs.findIndex(ai => ai.name === '智能排版');\r\n      if (existIndex === -1) {\r\n        // 如果不存在，添加到数组开头\r\n        this.enabledAIs.unshift(znpbAI);\r\n      } else {\r\n        // 如果已存在，更新状态和日志\r\n        this.enabledAIs[existIndex] = znpbAI;\r\n        // 将智能排版移到数组开头\r\n        const znpb = this.enabledAIs.splice(existIndex, 1)[0];\r\n        this.enabledAIs.unshift(znpb);\r\n      }\r\n\r\n      this.$forceUpdate();\r\n      this.$message.success('排版请求已发送，请等待结果');\r\n    },\r\n\r\n    // 实际投递到公众号\r\n    pushToWechatWithContent(contentText) {\r\n      if (this.pushingToWechat) return;\r\n      this.$message.success('开始投递公众号！');\r\n      this.pushingToWechat = true;\r\n      this.pushOfficeNum += 1;\r\n\r\n      const params = {\r\n        contentText: contentText,\r\n        shareUrl: this.currentLayoutResult.shareUrl,\r\n        userId: this.userId,\r\n        num: this.pushOfficeNum,\r\n        aiName: this.currentLayoutResult.aiName\r\n      };\r\n\r\n      pushAutoOffice(params).then(res => {\r\n        if (res.code === 200) {\r\n          this.$message.success('投递到公众号成功！');\r\n        } else {\r\n          this.$message.error(res.msg || '投递失败，请重试');\r\n        }\r\n      }).catch(error => {\r\n        console.error('投递到公众号失败:', error);\r\n        this.$message.error('投递失败，请重试');\r\n      }).finally(() => {\r\n        this.pushingToWechat = false;\r\n      });\r\n    },\r\n\r\n\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.ai-management-platform {\r\n  min-height: 100vh;\r\n  background-color: #f5f7fa;\r\n  padding-bottom: 30px;\r\n}\r\n\r\n.top-nav {\r\n  background-color: #fff;\r\n  padding: 15px 20px;\r\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\r\n  margin-bottom: 20px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.logo-area {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.logo {\r\n  height: 36px;\r\n  margin-right: 10px;\r\n}\r\n\r\n.platform-title {\r\n  margin: 0;\r\n  font-size: 20px;\r\n  color: #303133;\r\n}\r\n\r\n.main-content {\r\n  padding: 0 30px;\r\n  width: 90%;\r\n  margin: 0 auto;\r\n}\r\n::v-deep .el-collapse-item__header {\r\n  font-size: 16px;\r\n  color: #333;\r\n  padding-left: 20px;\r\n}\r\n.section-title {\r\n  font-size: 18px;\r\n  color: #606266;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.ai-cards {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 20px;\r\n  margin-bottom: 0px;\r\n  margin-left: 20px;\r\n  margin-top: 10px;\r\n}\r\n\r\n.ai-card {\r\n  width: calc(25% - 20px);\r\n  box-sizing: border-box;\r\n}\r\n\r\n.ai-card-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.ai-left {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.ai-avatar {\r\n  margin-right: 10px;\r\n}\r\n\r\n.ai-avatar img {\r\n  width: 30px;\r\n  height: 30px;\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n}\r\n\r\n.ai-name {\r\n  font-weight: bold;\r\n  font-size: 12px;\r\n}\r\n\r\n.ai-status {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.ai-capabilities {\r\n  margin: 15px 0;\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.button-capability-group {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: center;\r\n  gap: 8px;\r\n}\r\n\r\n.button-capability-group .el-button {\r\n  margin: 0;\r\n  border-radius: 16px;\r\n  padding: 6px 12px;\r\n}\r\n\r\n.button-capability-group .el-button.is-plain:hover,\r\n.button-capability-group .el-button.is-plain:focus {\r\n  background: #ecf5ff;\r\n  border-color: #b3d8ff;\r\n  color: #409EFF;\r\n}\r\n\r\n.prompt-input-section {\r\n  margin-bottom: 30px;\r\n  padding: 0 20px 0 0px;\r\n}\r\n\r\n.prompt-input {\r\n  margin-bottom: 10px;\r\n  margin-left: 20px;\r\n  width: 99%;\r\n}\r\n\r\n.prompt-footer {\r\n  display: flex;\r\n  margin-bottom: -30px;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.word-count {\r\n  font-size: 12px;\r\n  padding-left: 20px;\r\n}\r\n\r\n.send-button {\r\n  padding: 10px 20px;\r\n}\r\n\r\n.execution-status-section {\r\n  margin-bottom: 30px;\r\n  padding:20px 0px 0px 0px;\r\n}\r\n\r\n.task-flow-card, .screenshots-card {\r\n  height: 800px;\r\n}\r\n\r\n.card-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.task-flow {\r\n  padding: 15px;\r\n  height: 800px;\r\n  overflow-y: auto;\r\n  background-color: #f5f7fa;\r\n  border-radius: 4px;\r\n}\r\n\r\n.task-flow::-webkit-scrollbar {\r\n  width: 6px;\r\n}\r\n\r\n.task-flow::-webkit-scrollbar-thumb {\r\n  background-color: #c0c4cc;\r\n  border-radius: 3px;\r\n}\r\n\r\n.task-flow::-webkit-scrollbar-track {\r\n  background-color: #f5f7fa;\r\n}\r\n\r\n.task-item {\r\n  margin-bottom: 15px;\r\n  border-radius: 4px;\r\n  background-color: #fff;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n  overflow: hidden;\r\n}\r\n\r\n.task-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 12px 15px;\r\n  cursor: pointer;\r\n  transition: background-color 0.3s;\r\n  border-bottom: 1px solid #ebeef5;\r\n}\r\n\r\n.task-header:hover {\r\n  background-color: #f5f7fa;\r\n}\r\n\r\n.header-left {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n.header-left .el-icon-arrow-right {\r\n  transition: transform 0.3s;\r\n  font-size: 14px;\r\n  color: #909399;\r\n}\r\n\r\n.header-left .el-icon-arrow-right.is-expanded {\r\n  transform: rotate(90deg);\r\n}\r\n\r\n.progress-timeline {\r\n  position: relative;\r\n  margin: 0;\r\n  padding: 15px 0;\r\n}\r\n\r\n.timeline-scroll {\r\n  max-height: 200px;\r\n  overflow-y: auto;\r\n  padding: 0 15px;\r\n}\r\n\r\n.timeline-scroll::-webkit-scrollbar {\r\n  width: 4px;\r\n}\r\n\r\n.timeline-scroll::-webkit-scrollbar-thumb {\r\n  background-color: #c0c4cc;\r\n  border-radius: 2px;\r\n}\r\n\r\n.timeline-scroll::-webkit-scrollbar-track {\r\n  background-color: #f5f7fa;\r\n}\r\n\r\n.progress-item {\r\n  position: relative;\r\n  padding: 8px 0 8px 20px;\r\n  display: flex;\r\n  align-items: flex-start;\r\n  border-bottom: 1px solid #f0f0f0;\r\n}\r\n\r\n.progress-item:last-child {\r\n  border-bottom: none;\r\n}\r\n\r\n.progress-dot {\r\n  position: absolute;\r\n  left: 0;\r\n  top: 12px;\r\n  width: 10px;\r\n  height: 10px;\r\n  border-radius: 50%;\r\n  background-color: #e0e0e0;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.progress-line {\r\n  position: absolute;\r\n  left: 4px;\r\n  top: 22px;\r\n  bottom: -8px;\r\n  width: 2px;\r\n  background-color: #e0e0e0;\r\n}\r\n\r\n.progress-content {\r\n  flex: 1;\r\n  min-width: 0;\r\n}\r\n\r\n.progress-time {\r\n  font-size: 12px;\r\n  color: #909399;\r\n  margin-bottom: 4px;\r\n}\r\n\r\n.progress-text {\r\n  font-size: 13px;\r\n  color: #606266;\r\n  line-height: 1.4;\r\n  word-break: break-all;\r\n}\r\n\r\n.progress-item.completed .progress-dot {\r\n  background-color: #67c23a;\r\n}\r\n\r\n.progress-item.completed .progress-line {\r\n  background-color: #67c23a;\r\n}\r\n\r\n.progress-item.current .progress-dot {\r\n  background-color: #409eff;\r\n  animation: pulse 1.5s infinite;\r\n}\r\n\r\n.progress-item.current .progress-line {\r\n  background-color: #409eff;\r\n}\r\n\r\n.ai-name {\r\n  font-weight: 600;\r\n  font-size: 14px;\r\n  color: #303133;\r\n}\r\n\r\n.header-right {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n.status-text {\r\n  font-size: 13px;\r\n  color: #606266;\r\n}\r\n\r\n.status-icon {\r\n  font-size: 16px;\r\n}\r\n\r\n.success-icon {\r\n  color: #67c23a;\r\n}\r\n\r\n.error-icon {\r\n  color: #f56c6c;\r\n}\r\n\r\n@keyframes pulse {\r\n  0% {\r\n    box-shadow: 0 0 0 0 rgba(64, 158, 255, 0.4);\r\n  }\r\n  70% {\r\n    box-shadow: 0 0 0 6px rgba(64, 158, 255, 0);\r\n  }\r\n  100% {\r\n    box-shadow: 0 0 0 0 rgba(64, 158, 255, 0);\r\n  }\r\n}\r\n\r\n.screenshot-image {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: contain;\r\n  cursor: pointer;\r\n  transition: transform 0.3s;\r\n}\r\n\r\n.screenshot-image:hover {\r\n  transform: scale(1.05);\r\n}\r\n\r\n.results-section {\r\n  margin-top: 20px;\r\n  padding: 0 10px;\r\n}\r\n\r\n.result-content {\r\n  padding: 20px 30px;\r\n}\r\n\r\n.result-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 15px;\r\n  padding-bottom: 10px;\r\n  border-bottom: 1px solid #ebeef5;\r\n}\r\n\r\n.result-title {\r\n  font-size: 16px;\r\n  font-weight: 600;\r\n  color: #303133;\r\n}\r\n\r\n.result-buttons {\r\n  display: flex;\r\n  gap: 10px;\r\n  align-items: center;\r\n}\r\n\r\n.share-link-btn, .push-wechat-btn {\r\n  border-radius: 16px;\r\n  padding: 6px 12px;\r\n}\r\n\r\n.markdown-content {\r\n  margin-bottom: 20px;\r\n  max-height: 400px;\r\n  overflow-y: auto;\r\n  padding: 15px 20px;\r\n  border: 1px solid #ebeef5;\r\n  border-radius: 4px;\r\n  background-color: #fff;\r\n}\r\n\r\n.action-buttons {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 10px;\r\n  padding: 0 10px;\r\n}\r\n\r\n@media (max-width: 1200px) {\r\n  .ai-card {\r\n    width: calc(33.33% - 14px);\r\n  }\r\n}\r\n\r\n@media (max-width: 992px) {\r\n  .ai-card {\r\n    width: calc(50% - 10px);\r\n  }\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .ai-card {\r\n    width: 100%;\r\n  }\r\n}\r\n\r\n.el-collapse {\r\n  border-top: none;\r\n  border-bottom: none;\r\n}\r\n\r\n\r\n\r\n.el-collapse-item__content {\r\n  padding: 15px 0;\r\n}\r\n\r\n.ai-selection-section {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.prompt-input-section {\r\n  margin-bottom: 30px;\r\n  padding: 0 20px 0 0px;\r\n}\r\n\r\n.image-dialog .el-dialog__body {\r\n  padding: 0;\r\n}\r\n\r\n.large-image-container {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: #000;\r\n}\r\n\r\n.large-image {\r\n  max-width: 100%;\r\n  max-height: 80vh;\r\n  object-fit: contain;\r\n}\r\n\r\n.image-dialog .el-carousel {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n.image-dialog .el-carousel__container {\r\n  height: 80vh;\r\n}\r\n\r\n.image-dialog .el-carousel__item {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: #000;\r\n}\r\n\r\n.section-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.score-dialog-content {\r\n  padding: 20px;\r\n}\r\n\r\n.selected-results {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.result-checkbox {\r\n  margin-right: 20px;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.score-prompt-section {\r\n  margin-top: 20px;\r\n}\r\n\r\n.score-prompt-input {\r\n  margin-top: 10px;\r\n}\r\n\r\n.score-prompt-input .el-textarea__inner {\r\n  min-height: 500px !important;\r\n}\r\n\r\n.dialog-footer {\r\n  text-align: right;\r\n}\r\n\r\n.score-dialog .el-dialog {\r\n  height: 95vh;\r\n  margin-top: 2.5vh !important;\r\n}\r\n\r\n.score-dialog .el-dialog__body {\r\n  height: calc(95vh - 120px);\r\n  overflow-y: auto;\r\n  padding: 20px;\r\n}\r\n\r\n.layout-dialog-content {\r\n  padding: 20px;\r\n}\r\n\r\n.layout-prompt-section {\r\n  margin-top: 20px;\r\n}\r\n\r\n.layout-prompt-input {\r\n  margin-top: 10px;\r\n}\r\n\r\n.layout-prompt-input .el-textarea__inner {\r\n  min-height: 500px !important;\r\n}\r\n\r\n.layout-dialog .el-dialog {\r\n  height: 95vh;\r\n  margin-top: 2.5vh !important;\r\n}\r\n\r\n.layout-dialog .el-dialog__body {\r\n  height: calc(95vh - 120px);\r\n  overflow-y: auto;\r\n  padding: 20px;\r\n}\r\n\r\n.nav-buttons {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 20px;\r\n}\r\n\r\n.history-button {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.history-icon {\r\n  width: 24px;\r\n  height: 24px;\r\n  vertical-align: middle;\r\n}\r\n\r\n.history-content {\r\n  padding: 20px;\r\n}\r\n\r\n.history-group {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.history-date {\r\n  font-size: 14px;\r\n  color: #909399;\r\n  margin-bottom: 10px;\r\n  padding: 5px 0;\r\n  border-bottom: 1px solid #ebeef5;\r\n}\r\n\r\n.history-list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 10px;\r\n}\r\n\r\n.history-item {\r\n  margin-bottom: 15px;\r\n  border-radius: 4px;\r\n  background-color: #f5f7fa;\r\n  overflow: hidden;\r\n}\r\n\r\n.history-parent {\r\n  padding: 10px;\r\n  cursor: pointer;\r\n  transition: background-color 0.3s;\r\n  border-bottom: 1px solid #ebeef5;\r\n}\r\n\r\n.history-parent:hover {\r\n  background-color: #ecf5ff;\r\n}\r\n\r\n.history-children {\r\n  padding-left: 20px;\r\n  background-color: #fff;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.history-child-item {\r\n  padding: 8px 10px;\r\n  cursor: pointer;\r\n  transition: background-color 0.3s;\r\n  border-bottom: 1px solid #f0f0f0;\r\n}\r\n\r\n.history-child-item:last-child {\r\n  border-bottom: none;\r\n}\r\n\r\n.history-child-item:hover {\r\n  background-color: #f5f7fa;\r\n}\r\n\r\n.history-header {\r\n  display: flex;\r\n  align-items: flex-start;\r\n  gap: 8px;\r\n}\r\n\r\n.history-header .el-icon-arrow-right {\r\n  font-size: 14px;\r\n  color: #909399;\r\n  transition: transform 0.3s;\r\n  cursor: pointer;\r\n  margin-top: 3px;\r\n}\r\n\r\n.history-header .el-icon-arrow-right.is-expanded {\r\n  transform: rotate(90deg);\r\n}\r\n\r\n.history-prompt {\r\n  font-size: 14px;\r\n  color: #303133;\r\n  margin-bottom: 5px;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  display: -webkit-box;\r\n  -webkit-line-clamp: 2;\r\n  -webkit-box-orient: vertical;\r\n  flex: 1;\r\n}\r\n\r\n.history-time {\r\n  font-size: 12px;\r\n  color: #909399;\r\n}\r\n\r\n.capability-button {\r\n  transition: all 0.3s;\r\n}\r\n\r\n.capability-button.el-button--primary {\r\n  background-color: #409EFF;\r\n  border-color: #409EFF;\r\n  color: #fff;\r\n}\r\n\r\n.capability-button.el-button--info {\r\n  background-color: #fff;\r\n  border-color: #dcdfe6;\r\n  color: #606266;\r\n}\r\n\r\n.capability-button.el-button--info:hover {\r\n  color: #409EFF;\r\n  border-color: #c6e2ff;\r\n  background-color: #ecf5ff;\r\n}\r\n\r\n.capability-button.el-button--primary:hover {\r\n  background-color: #66b1ff;\r\n  border-color: #66b1ff;\r\n  color: #fff;\r\n}\r\n\r\n/* 分享内容样式 */\r\n.share-content {\r\n  margin-bottom: 20px;\r\n  padding: 15px 20px;\r\n  border: 1px solid #ebeef5;\r\n  border-radius: 4px;\r\n  background-color: #fff;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: flex-start;\r\n  min-height: 600px;\r\n  max-height: 800px;\r\n  overflow: auto;\r\n}\r\n\r\n.share-image {\r\n  object-fit: contain;\r\n  display: block;\r\n}\r\n\r\n.share-pdf {\r\n  width: 100%;\r\n  height: 600px;\r\n  border: none;\r\n  border-radius: 4px;\r\n}\r\n\r\n.share-file {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 200px;\r\n  flex-direction: column;\r\n  color: #909399;\r\n}\r\n\r\n.single-image-container {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 100%;\r\n  height: 80vh;\r\n}\r\n\r\n.single-image-container .large-image {\r\n  max-width: 100%;\r\n  max-height: 100%;\r\n  object-fit: contain;\r\n}\r\n\r\n/* 用于处理DeepSeek特殊格式的样式 */\r\n.deepseek-format-container {\r\n  margin: 20px 0;\r\n  padding: 15px;\r\n  background-color: #f9f9f9;\r\n  border-radius: 5px;\r\n  border: 1px solid #eaeaea;\r\n}\r\n\r\n/* DeepSeek响应内容的特定样式 */\r\n::v-deep .deepseek-response {\r\n  max-width: 800px;\r\n  margin: 0 auto;\r\n  background-color: #fff;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 10px rgba(0,0,0,0.1);\r\n  padding: 20px;\r\n  font-family: Arial, sans-serif;\r\n}\r\n\r\n::v-deep .deepseek-response pre {\r\n  background-color: #f5f5f5;\r\n  padding: 10px;\r\n  border-radius: 4px;\r\n  font-family: monospace;\r\n  overflow-x: auto;\r\n  display: block;\r\n  margin: 10px 0;\r\n}\r\n\r\n::v-deep .deepseek-response code {\r\n  background-color: #f5f5f5;\r\n  padding: 2px 4px;\r\n  border-radius: 3px;\r\n  font-family: monospace;\r\n}\r\n\r\n::v-deep .deepseek-response table {\r\n  border-collapse: collapse;\r\n  width: 100%;\r\n  margin: 15px 0;\r\n}\r\n\r\n::v-deep .deepseek-response th,\r\n::v-deep .deepseek-response td {\r\n  border: 1px solid #ddd;\r\n  padding: 8px;\r\n  text-align: left;\r\n}\r\n\r\n::v-deep .deepseek-response th {\r\n  background-color: #f2f2f2;\r\n  font-weight: bold;\r\n}\r\n\r\n::v-deep .deepseek-response h1,\r\n::v-deep .deepseek-response h2,\r\n::v-deep .deepseek-response h3,\r\n::v-deep .deepseek-response h4,\r\n::v-deep .deepseek-response h5,\r\n::v-deep .deepseek-response h6 {\r\n  margin-top: 20px;\r\n  margin-bottom: 10px;\r\n  font-weight: bold;\r\n  color: #222;\r\n}\r\n\r\n::v-deep .deepseek-response a {\r\n  color: #0066cc;\r\n  text-decoration: none;\r\n}\r\n\r\n::v-deep .deepseek-response blockquote {\r\n  border-left: 4px solid #ddd;\r\n  padding-left: 15px;\r\n  margin: 15px 0;\r\n  color: #555;\r\n}\r\n\r\n::v-deep .deepseek-response ul,\r\n::v-deep .deepseek-response ol {\r\n  padding-left: 20px;\r\n  margin: 10px 0;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]}]}