{"remainingRequest":"D:\\U3W-AIProject\\U3W-AI\\cube-ui\\node_modules\\babel-loader\\lib\\index.js!D:\\U3W-AIProject\\U3W-AI\\cube-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\U3W-AIProject\\U3W-AI\\cube-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\U3W-AIProject\\U3W-AI\\cube-ui\\src\\views\\wechat\\chrome\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\U3W-AIProject\\U3W-AI\\cube-ui\\src\\views\\wechat\\chrome\\index.vue","mtime":1753157550146},{"path":"D:\\U3W-AIProject\\U3W-AI\\cube-ui\\babel.config.js","mtime":1752382983593},{"path":"D:\\U3W-AIProject\\U3W-AI\\cube-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1752387764959},{"path":"D:\\U3W-AIProject\\U3W-AI\\cube-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1752387764613},{"path":"D:\\U3W-AIProject\\U3W-AI\\cube-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1752387764959},{"path":"D:\\U3W-AIProject\\U3W-AI\\cube-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1752387756652}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJEOi9VM1ctQUlQcm9qZWN0L1UzVy1BSS9jdWJlLXVpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdC5qcyIpLmRlZmF1bHQ7Ck9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwOwp2YXIgX3JlZ2VuZXJhdG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiRDovVTNXLUFJUHJvamVjdC9VM1ctQUkvY3ViZS11aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9yZWdlbmVyYXRvci5qcyIpKTsKdmFyIF9hc3luY1RvR2VuZXJhdG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiRDovVTNXLUFJUHJvamVjdC9VM1ctQUkvY3ViZS11aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hc3luY1RvR2VuZXJhdG9yLmpzIikpOwp2YXIgX3RvQ29uc3VtYWJsZUFycmF5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiRDovVTNXLUFJUHJvamVjdC9VM1ctQUkvY3ViZS11aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy90b0NvbnN1bWFibGVBcnJheS5qcyIpKTsKdmFyIF9vYmplY3RTcHJlYWQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJEOi9VM1ctQUlQcm9qZWN0L1UzVy1BSS9jdWJlLXVpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL29iamVjdFNwcmVhZDIuanMiKSk7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleC5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4uanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNvcnQuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuanNvbi5zdHJpbmdpZnkuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudmFsdWVzLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0uanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC5pdGVyYXRvci5jb25zdHJ1Y3Rvci5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXNuZXh0Lml0ZXJhdG9yLmZpbHRlci5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXNuZXh0Lml0ZXJhdG9yLmZpbmQuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC5pdGVyYXRvci5mb3ItZWFjaC5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXNuZXh0Lml0ZXJhdG9yLm1hcC5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXNuZXh0Lml0ZXJhdG9yLnNvbWUuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwudG8tanNvbi5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvd2ViLnVybC1zZWFyY2gtcGFyYW1zLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLXNlYXJjaC1wYXJhbXMuZGVsZXRlLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLXNlYXJjaC1wYXJhbXMuaGFzLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLXNlYXJjaC1wYXJhbXMuc2l6ZS5qcyIpOwp2YXIgX21hcmtlZCA9IHJlcXVpcmUoIm1hcmtlZCIpOwp2YXIgX2FpZ2MgPSByZXF1aXJlKCJAL2FwaS93ZWNoYXQvYWlnYyIpOwp2YXIgX3V1aWQgPSByZXF1aXJlKCJ1dWlkIik7CnZhciBfd2Vic29ja2V0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJAL3V0aWxzL3dlYnNvY2tldCIpKTsKdmFyIF9zdG9yZSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiQC9zdG9yZSIpKTsKdmFyIF90dXJuZG93biA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgidHVybmRvd24iKSk7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCnZhciBfZGVmYXVsdCA9IGV4cG9ydHMuZGVmYXVsdCA9IHsKICBuYW1lOiAiQUlNYW5hZ2VtZW50UGxhdGZvcm0iLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VySWQ6IF9zdG9yZS5kZWZhdWx0LnN0YXRlLnVzZXIuaWQsCiAgICAgIGNvcnBJZDogX3N0b3JlLmRlZmF1bHQuc3RhdGUudXNlci5jb3JwX2lkLAogICAgICBjaGF0SWQ6ICgwLCBfdXVpZC52NCkoKSwKICAgICAgZXhwYW5kZWRIaXN0b3J5SXRlbXM6IHt9LAogICAgICB1c2VySW5mb1JlcTogewogICAgICAgIHVzZXJQcm9tcHQ6ICcnLAogICAgICAgIHVzZXJJZDogJycsCiAgICAgICAgY29ycElkOiAnJywKICAgICAgICB0YXNrSWQ6ICcnLAogICAgICAgIHJvbGVzOiAnJywKICAgICAgICB0b25lQ2hhdElkOiAnJywKICAgICAgICB5YkRzQ2hhdElkOiAnJywKICAgICAgICBkYkNoYXRJZDogJycsCiAgICAgICAgemhDaGF0SWQ6ICcnLAogICAgICAgIGlzTmV3Q2hhdDogdHJ1ZQogICAgICB9LAogICAgICBqc29uUnBjUmVxZXN0OiB7CiAgICAgICAganNvbnJwYzogIjIuMCIsCiAgICAgICAgaWQ6ICgwLCBfdXVpZC52NCkoKSwKICAgICAgICBtZXRob2Q6ICIiLAogICAgICAgIHBhcmFtczoge30KICAgICAgfSwKICAgICAgYWlMaXN0OiBbewogICAgICAgIG5hbWU6ICdEZWVwU2VlaycsCiAgICAgICAgYXZhdGFyOiByZXF1aXJlKCcuLi8uLi8uLi9hc3NldHMvbG9nby9EZWVwc2Vlay5wbmcnKSwKICAgICAgICBjYXBhYmlsaXRpZXM6IFt7CiAgICAgICAgICBsYWJlbDogIua3seW6puaAneiAgyIsCiAgICAgICAgICB2YWx1ZTogImRlZXBfdGhpbmtpbmciCiAgICAgICAgfSwgewogICAgICAgICAgbGFiZWw6ICLogZTnvZHmkJzntKIiLAogICAgICAgICAgdmFsdWU6ICJ3ZWJfc2VhcmNoIgogICAgICAgIH1dLAogICAgICAgIHNlbGVjdGVkQ2FwYWJpbGl0aWVzOiBbImRlZXBfdGhpbmtpbmciLCAid2ViX3NlYXJjaCJdLAogICAgICAgIGVuYWJsZWQ6IHRydWUsCiAgICAgICAgc3RhdHVzOiAiaWRsZSIsCiAgICAgICAgcHJvZ3Jlc3NMb2dzOiBbXSwKICAgICAgICBpc0V4cGFuZGVkOiB0cnVlCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAn55+l5LmO55u0562UJywKICAgICAgICBhdmF0YXI6IHJlcXVpcmUoJy4uLy4uLy4uL2Fzc2V0cy9haS96aGlodS5wbmcnKSwKICAgICAgICBjYXBhYmlsaXRpZXM6IFt7CiAgICAgICAgICBsYWJlbDogJ+a3seW6puaAneiAgycsCiAgICAgICAgICB2YWx1ZTogJ2RlZXBfdGhpbmtpbmcnCiAgICAgICAgfV0sCiAgICAgICAgc2VsZWN0ZWRDYXBhYmlsaXRpZXM6IFsnZGVlcF90aGlua2luZyddLAogICAgICAgIGVuYWJsZWQ6IHRydWUsCiAgICAgICAgc3RhdHVzOiAnaWRsZScsCiAgICAgICAgcHJvZ3Jlc3NMb2dzOiBbXSwKICAgICAgICBpc0V4cGFuZGVkOiB0cnVlCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAi6LGG5YyFIiwKICAgICAgICBhdmF0YXI6IHJlcXVpcmUoIi4uLy4uLy4uL2Fzc2V0cy9haS/osYbljIUucG5nIiksCiAgICAgICAgY2FwYWJpbGl0aWVzOiBbewogICAgICAgICAgbGFiZWw6ICLmt7HluqbmgJ3ogIMiLAogICAgICAgICAgdmFsdWU6ICJkZWVwX3RoaW5raW5nIgogICAgICAgIH1dLAogICAgICAgIHNlbGVjdGVkQ2FwYWJpbGl0aWVzOiBbImRlZXBfdGhpbmtpbmciXSwKICAgICAgICBlbmFibGVkOiB0cnVlLAogICAgICAgIHN0YXR1czogImlkbGUiLAogICAgICAgIHByb2dyZXNzTG9nczogW10sCiAgICAgICAgaXNFeHBhbmRlZDogdHJ1ZQogICAgICB9LCB7CiAgICAgICAgbmFtZTogIk1pbmlNYXggQ2hhdCIsCiAgICAgICAgYXZhdGFyOiByZXF1aXJlKCIuLi8uLi8uLi9hc3NldHMvYWkvTWluaU1heC5wbmciKSwKICAgICAgICBjYXBhYmlsaXRpZXM6IFt7CiAgICAgICAgICBsYWJlbDogIua3seW6puaAneiAgyIsCiAgICAgICAgICB2YWx1ZTogImRlZXBfdGhpbmtpbmciCiAgICAgICAgfSwgewogICAgICAgICAgbGFiZWw6ICLogZTnvZHmkJzntKIiLAogICAgICAgICAgdmFsdWU6ICJ3ZWJfc2VhcmNoIgogICAgICAgIH1dLAogICAgICAgIHNlbGVjdGVkQ2FwYWJpbGl0aWVzOiBbImRlZXBfdGhpbmtpbmciLCAid2ViX3NlYXJjaCJdLAogICAgICAgIGVuYWJsZWQ6IHRydWUsCiAgICAgICAgc3RhdHVzOiAiaWRsZSIsCiAgICAgICAgcHJvZ3Jlc3NMb2dzOiBbXSwKICAgICAgICBpc0V4cGFuZGVkOiB0cnVlCiAgICAgIH1dLAogICAgICBwcm9tcHRJbnB1dDogIiIsCiAgICAgIHRhc2tTdGFydGVkOiBmYWxzZSwKICAgICAgYXV0b1BsYXk6IGZhbHNlLAogICAgICBzY3JlZW5zaG90czogW10sCiAgICAgIHJlc3VsdHM6IFtdLAogICAgICBhY3RpdmVSZXN1bHRUYWI6ICJyZXN1bHQtMCIsCiAgICAgIGFjdGl2ZUNvbGxhcHNlczogWyJhaS1zZWxlY3Rpb24iLCAicHJvbXB0LWlucHV0Il0sCiAgICAgIC8vIOm7mOiupOWxleW8gOi/meS4pOS4quWMuuWfnwogICAgICBzaG93SW1hZ2VEaWFsb2c6IGZhbHNlLAogICAgICBjdXJyZW50TGFyZ2VJbWFnZTogIiIsCiAgICAgIGVuYWJsZWRBSXM6IFtdLAogICAgICB0dXJuZG93blNlcnZpY2U6IG5ldyBfdHVybmRvd24uZGVmYXVsdCh7CiAgICAgICAgaGVhZGluZ1N0eWxlOiAiYXR4IiwKICAgICAgICBjb2RlQmxvY2tTdHlsZTogImZlbmNlZCIsCiAgICAgICAgZW1EZWxpbWl0ZXI6ICIqIgogICAgICB9KSwKICAgICAgc2NvcmVEaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgc2VsZWN0ZWRSZXN1bHRzOiBbXSwKICAgICAgc2NvcmVQcm9tcHQ6ICJcdThCRjdcdTRGNjBcdTZERjFcdTVFQTZcdTk2MDVcdThCRkJcdTRFRTVcdTRFMEJcdTUxRTBcdTdCQzdcdTUxODVcdTVCQjlcdUZGMENcdTRFQ0VcdTU5MUFcdTRFMkFcdTdFRjRcdTVFQTZcdThGREJcdTg4NENcdTkwMTBcdTk4NzlcdTYyNTNcdTUyMDZcdUZGMENcdThGOTNcdTUxRkFcdThCQzRcdTUyMDZcdTdFRDNcdTY3OUNcdTMwMDJcdTVFNzZcdTU3MjhcdTRFRTVcdTRFMEJcdTU0MDRcdTdCQzdcdTY1ODdcdTdBRTBcdTc2ODRcdTU3RkFcdTc4NDBcdTRFMEFcdTUzNUFcdTkxQzdcdTRGMTdcdTk1N0ZcdUZGMENcdTdFRkNcdTU0MDhcdTY1NzRcdTc0MDZcdTRFMDBcdTdCQzdcdTY2RjRcdTUxNjhcdTk3NjJcdTc2ODRcdTY1ODdcdTdBRTBcdTMwMDIiLAogICAgICBsYXlvdXREaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgbGF5b3V0UHJvbXB0OiAiIiwKICAgICAgY3VycmVudExheW91dFJlc3VsdDogbnVsbCwKICAgICAgLy8g5b2T5YmN6KaB5o6S54mI55qE57uT5p6cCiAgICAgIGhpc3RvcnlEcmF3ZXJWaXNpYmxlOiBmYWxzZSwKICAgICAgY2hhdEhpc3Rvcnk6IFtdLAogICAgICBwdXNoT2ZmaWNlTnVtOiAwLAogICAgICAvLyDmipXpgJLliLDlhazkvJflj7fnmoTpgJLlop7nvJblj7cKICAgICAgcHVzaGluZ1RvV2VjaGF0OiBmYWxzZSAvLyDmipXpgJLliLDlhazkvJflj7fnmoRsb2FkaW5n54q25oCBCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGNhblNlbmQ6IGZ1bmN0aW9uIGNhblNlbmQoKSB7CiAgICAgIHJldHVybiB0aGlzLnByb21wdElucHV0LnRyaW0oKS5sZW5ndGggPiAwICYmIHRoaXMuYWlMaXN0LnNvbWUoZnVuY3Rpb24gKGFpKSB7CiAgICAgICAgcmV0dXJuIGFpLmVuYWJsZWQ7CiAgICAgIH0pOwogICAgfSwKICAgIGNhblNjb3JlOiBmdW5jdGlvbiBjYW5TY29yZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWRSZXN1bHRzLmxlbmd0aCA+IDAgJiYgdGhpcy5zY29yZVByb21wdC50cmltKCkubGVuZ3RoID4gMDsKICAgIH0sCiAgICBjYW5MYXlvdXQ6IGZ1bmN0aW9uIGNhbkxheW91dCgpIHsKICAgICAgcmV0dXJuIHRoaXMubGF5b3V0UHJvbXB0LnRyaW0oKS5sZW5ndGggPiAwOwogICAgfSwKICAgIGdyb3VwZWRIaXN0b3J5OiBmdW5jdGlvbiBncm91cGVkSGlzdG9yeSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgdmFyIGdyb3VwcyA9IHt9OwogICAgICB2YXIgY2hhdEdyb3VwcyA9IHt9OwoKICAgICAgLy8g6aaW5YWI5oyJY2hhdElk5YiG57uECiAgICAgIHRoaXMuY2hhdEhpc3RvcnkuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIGlmICghY2hhdEdyb3Vwc1tpdGVtLmNoYXRJZF0pIHsKICAgICAgICAgIGNoYXRHcm91cHNbaXRlbS5jaGF0SWRdID0gW107CiAgICAgICAgfQogICAgICAgIGNoYXRHcm91cHNbaXRlbS5jaGF0SWRdLnB1c2goaXRlbSk7CiAgICAgIH0pOwoKICAgICAgLy8g54S25ZCO5oyJ5pel5pyf5YiG57uE77yM5bm25aSE55CG54i25a2Q5YWz57O7CiAgICAgIE9iamVjdC52YWx1ZXMoY2hhdEdyb3VwcykuZm9yRWFjaChmdW5jdGlvbiAoY2hhdEdyb3VwKSB7CiAgICAgICAgLy8g5oyJ5pe26Ze05o6S5bqPCiAgICAgICAgY2hhdEdyb3VwLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICAgIHJldHVybiBuZXcgRGF0ZShhLmNyZWF0ZVRpbWUpIC0gbmV3IERhdGUoYi5jcmVhdGVUaW1lKTsKICAgICAgICB9KTsKCiAgICAgICAgLy8g6I635Y+W5pyA5pep55qE6K6w5b2V5L2c5Li654i257qnCiAgICAgICAgdmFyIHBhcmVudEl0ZW0gPSBjaGF0R3JvdXBbMF07CiAgICAgICAgdmFyIGRhdGUgPSBfdGhpcy5nZXRIaXN0b3J5RGF0ZShwYXJlbnRJdGVtLmNyZWF0ZVRpbWUpOwogICAgICAgIGlmICghZ3JvdXBzW2RhdGVdKSB7CiAgICAgICAgICBncm91cHNbZGF0ZV0gPSBbXTsKICAgICAgICB9CgogICAgICAgIC8vIOa3u+WKoOeItue6p+iusOW9lQogICAgICAgIGdyb3Vwc1tkYXRlXS5wdXNoKCgwLCBfb2JqZWN0U3ByZWFkMi5kZWZhdWx0KSgoMCwgX29iamVjdFNwcmVhZDIuZGVmYXVsdCkoe30sIHBhcmVudEl0ZW0pLCB7fSwgewogICAgICAgICAgaXNQYXJlbnQ6IHRydWUsCiAgICAgICAgICBpc0V4cGFuZGVkOiBfdGhpcy5leHBhbmRlZEhpc3RvcnlJdGVtc1twYXJlbnRJdGVtLmNoYXRJZF0gfHwgZmFsc2UsCiAgICAgICAgICBjaGlsZHJlbjogY2hhdEdyb3VwLnNsaWNlKDEpLm1hcChmdW5jdGlvbiAoY2hpbGQpIHsKICAgICAgICAgICAgcmV0dXJuICgwLCBfb2JqZWN0U3ByZWFkMi5kZWZhdWx0KSgoMCwgX29iamVjdFNwcmVhZDIuZGVmYXVsdCkoe30sIGNoaWxkKSwge30sIHsKICAgICAgICAgICAgICBpc1BhcmVudDogZmFsc2UKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KQogICAgICAgIH0pKTsKICAgICAgfSk7CiAgICAgIHJldHVybiBncm91cHM7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgY29uc29sZS5sb2codGhpcy51c2VySWQpOwogICAgY29uc29sZS5sb2codGhpcy5jb3JwSWQpOwogICAgdGhpcy5pbml0V2ViU29ja2V0KHRoaXMudXNlcklkKTsKICAgIHRoaXMubG9hZENoYXRIaXN0b3J5KDApOyAvLyDliqDovb3ljoblj7LorrDlvZUKICAgIHRoaXMubG9hZExhc3RDaGF0KCk7IC8vIOWKoOi9veS4iuasoeS8muivnQogIH0sCiAgbWV0aG9kczogewogICAgc2VuZFByb21wdDogZnVuY3Rpb24gc2VuZFByb21wdCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIGlmICghdGhpcy5jYW5TZW5kKSByZXR1cm47CiAgICAgIHRoaXMuc2NyZWVuc2hvdHMgPSBbXTsKICAgICAgLy8g5oqY5Y+g5omA5pyJ5Yy65Z+fCiAgICAgIHRoaXMuYWN0aXZlQ29sbGFwc2VzID0gW107CiAgICAgIHRoaXMudGFza1N0YXJ0ZWQgPSB0cnVlOwogICAgICB0aGlzLnJlc3VsdHMgPSBbXTsgLy8g5riF56m65LmL5YmN55qE57uT5p6cCgogICAgICB0aGlzLnVzZXJJbmZvUmVxLnJvbGVzID0gIiI7CiAgICAgIHRoaXMudXNlckluZm9SZXEudGFza0lkID0gKDAsIF91dWlkLnY0KSgpOwogICAgICB0aGlzLnVzZXJJbmZvUmVxLnVzZXJJZCA9IHRoaXMudXNlcklkOwogICAgICB0aGlzLnVzZXJJbmZvUmVxLmNvcnBJZCA9IHRoaXMuY29ycElkOwogICAgICB0aGlzLnVzZXJJbmZvUmVxLnVzZXJQcm9tcHQgPSB0aGlzLnByb21wdElucHV0OwoKICAgICAgLy8g6I635Y+W5ZCv55So55qEQUnliJfooajlj4rlhbbnirbmgIEKICAgICAgdGhpcy5lbmFibGVkQUlzID0gdGhpcy5haUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChhaSkgewogICAgICAgIHJldHVybiBhaS5lbmFibGVkOwogICAgICB9KTsKCiAgICAgIC8vIOWwhuaJgOacieWQr+eUqOeahEFJ54q25oCB6K6+572u5Li66L+Q6KGM5LitCiAgICAgIHRoaXMuZW5hYmxlZEFJcy5mb3JFYWNoKGZ1bmN0aW9uIChhaSkgewogICAgICAgIF90aGlzMi4kc2V0KGFpLCAic3RhdHVzIiwgInJ1bm5pbmciKTsKICAgICAgfSk7CiAgICAgIHRoaXMuZW5hYmxlZEFJcy5mb3JFYWNoKGZ1bmN0aW9uIChhaSkgewogICAgICAgIGlmIChhaS5uYW1lID09PSAnRGVlcFNlZWsnICYmIGFpLmVuYWJsZWQpIHsKICAgICAgICAgIF90aGlzMi51c2VySW5mb1JlcS5yb2xlcyA9IF90aGlzMi51c2VySW5mb1JlcS5yb2xlcyArICdkZWVwc2VlaywnOwogICAgICAgICAgaWYgKGFpLnNlbGVjdGVkQ2FwYWJpbGl0aWVzLmluY2x1ZGVzKCJkZWVwX3RoaW5raW5nIikpIHsKICAgICAgICAgICAgX3RoaXMyLnVzZXJJbmZvUmVxLnJvbGVzID0gX3RoaXMyLnVzZXJJbmZvUmVxLnJvbGVzICsgImRzLXNkc2ssIjsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChhaS5zZWxlY3RlZENhcGFiaWxpdGllcy5pbmNsdWRlcygid2ViX3NlYXJjaCIpKSB7CiAgICAgICAgICAgIF90aGlzMi51c2VySW5mb1JlcS5yb2xlcyA9IF90aGlzMi51c2VySW5mb1JlcS5yb2xlcyArICJkcy1sd3NzLCI7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmIChhaS5uYW1lID09PSAn55+l5LmO55u0562UJykgewogICAgICAgICAgX3RoaXMyLnVzZXJJbmZvUmVxLnJvbGVzID0gX3RoaXMyLnVzZXJJbmZvUmVxLnJvbGVzICsgJ3poaWh1LCc7CiAgICAgICAgICBpZiAoYWkuc2VsZWN0ZWRDYXBhYmlsaXRpZXMuaW5jbHVkZXMoImRlZXBfdGhpbmtpbmciKSkgewogICAgICAgICAgICBfdGhpczIudXNlckluZm9SZXEucm9sZXMgPSBfdGhpczIudXNlckluZm9SZXEucm9sZXMgKyAnemhpaHUtc2RzaywnOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAoYWkubmFtZSA9PT0gIuixhuWMhSIpIHsKICAgICAgICAgIF90aGlzMi51c2VySW5mb1JlcS5yb2xlcyA9IF90aGlzMi51c2VySW5mb1JlcS5yb2xlcyArICJ6ai1kYiwiOwogICAgICAgICAgaWYgKGFpLnNlbGVjdGVkQ2FwYWJpbGl0aWVzLmluY2x1ZGVzKCJkZWVwX3RoaW5raW5nIikpIHsKICAgICAgICAgICAgX3RoaXMyLnVzZXJJbmZvUmVxLnJvbGVzID0gX3RoaXMyLnVzZXJJbmZvUmVxLnJvbGVzICsgInpqLWRiLXNkc2ssIjsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKGFpLm5hbWUgPT09ICJNaW5pTWF4IENoYXQiKSB7CiAgICAgICAgICBfdGhpczIudXNlckluZm9SZXEucm9sZXMgPSBfdGhpczIudXNlckluZm9SZXEucm9sZXMgKyAibWluaS1tYXgtYWdlbnQsIjsKICAgICAgICAgIGlmIChhaS5zZWxlY3RlZENhcGFiaWxpdGllcy5pbmNsdWRlcygiZGVlcF90aGlua2luZyIpKSB7CiAgICAgICAgICAgIF90aGlzMi51c2VySW5mb1JlcS5yb2xlcyA9IF90aGlzMi51c2VySW5mb1JlcS5yb2xlcyArICJtYXgtc2RzaywiOwogICAgICAgICAgfQogICAgICAgICAgaWYgKGFpLnNlbGVjdGVkQ2FwYWJpbGl0aWVzLmluY2x1ZGVzKCJ3ZWJfc2VhcmNoIikpIHsKICAgICAgICAgICAgX3RoaXMyLnVzZXJJbmZvUmVxLnJvbGVzID0gX3RoaXMyLnVzZXJJbmZvUmVxLnJvbGVzICsgIm1heC1sd3NzLCI7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgICAgY29uc29sZS5sb2coIuWPguaVsO+8miIsIHRoaXMudXNlckluZm9SZXEpOwoKICAgICAgLy/osIPnlKjlkI7nq6/mjqXlj6MKICAgICAgdGhpcy5qc29uUnBjUmVxZXN0Lm1ldGhvZCA9ICLkvb/nlKhGOFMiOwogICAgICB0aGlzLmpzb25ScGNSZXFlc3QucGFyYW1zID0gdGhpcy51c2VySW5mb1JlcTsKICAgICAgdGhpcy5tZXNzYWdlKHRoaXMuanNvblJwY1JlcWVzdCk7CiAgICAgIHRoaXMudXNlckluZm9SZXEuaXNOZXdDaGF0ID0gZmFsc2U7CiAgICB9LAogICAgbWVzc2FnZTogZnVuY3Rpb24gbWVzc2FnZShkYXRhKSB7CiAgICAgICgwLCBfYWlnYy5tZXNzYWdlKShkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLmNvZGUgPT0gMjAxKSB7CiAgICAgICAgICB1bmkuc2hvd1RvYXN0KHsKICAgICAgICAgICAgdGl0bGU6IHJlcy5tZXNzYWdlcywKICAgICAgICAgICAgaWNvbjogIm5vbmUiLAogICAgICAgICAgICBkdXJhdGlvbjogMTUwMAogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICB0b2dnbGVDYXBhYmlsaXR5OiBmdW5jdGlvbiB0b2dnbGVDYXBhYmlsaXR5KGFpLCBjYXBhYmlsaXR5VmFsdWUpIHsKICAgICAgaWYgKCFhaS5lbmFibGVkKSByZXR1cm47CiAgICAgIHZhciBpbmRleCA9IGFpLnNlbGVjdGVkQ2FwYWJpbGl0aWVzLmluZGV4T2YoY2FwYWJpbGl0eVZhbHVlKTsKICAgICAgY29uc29sZS5sb2coIuWIh+aNouWJjToiLCBhaS5zZWxlY3RlZENhcGFiaWxpdGllcyk7CiAgICAgIGlmIChpbmRleCA9PT0gLTEpIHsKICAgICAgICAvLyDlpoLmnpzkuI3lrZjlnKjvvIzliJnmt7vliqAKICAgICAgICB0aGlzLiRzZXQoYWkuc2VsZWN0ZWRDYXBhYmlsaXRpZXMsIGFpLnNlbGVjdGVkQ2FwYWJpbGl0aWVzLmxlbmd0aCwgY2FwYWJpbGl0eVZhbHVlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyDlpoLmnpzlt7LlrZjlnKjvvIzliJnnp7vpmaQKICAgICAgICB2YXIgbmV3Q2FwYWJpbGl0aWVzID0gKDAsIF90b0NvbnN1bWFibGVBcnJheTIuZGVmYXVsdCkoYWkuc2VsZWN0ZWRDYXBhYmlsaXRpZXMpOwogICAgICAgIG5ld0NhcGFiaWxpdGllcy5zcGxpY2UoaW5kZXgsIDEpOwogICAgICAgIHRoaXMuJHNldChhaSwgInNlbGVjdGVkQ2FwYWJpbGl0aWVzIiwgbmV3Q2FwYWJpbGl0aWVzKTsKICAgICAgfQogICAgICBjb25zb2xlLmxvZygi5YiH5o2i5ZCOOiIsIGFpLnNlbGVjdGVkQ2FwYWJpbGl0aWVzKTsKICAgICAgdGhpcy4kZm9yY2VVcGRhdGUoKTsgLy8g5by65Yi25pu05paw6KeG5Zu+CiAgICB9LAogICAgZ2V0U3RhdHVzVGV4dDogZnVuY3Rpb24gZ2V0U3RhdHVzVGV4dChzdGF0dXMpIHsKICAgICAgc3dpdGNoIChzdGF0dXMpIHsKICAgICAgICBjYXNlICJpZGxlIjoKICAgICAgICAgIHJldHVybiAi562J5b6F5LitIjsKICAgICAgICBjYXNlICJydW5uaW5nIjoKICAgICAgICAgIHJldHVybiAi5q2j5Zyo5omn6KGMIjsKICAgICAgICBjYXNlICJjb21wbGV0ZWQiOgogICAgICAgICAgcmV0dXJuICLlt7LlrozmiJAiOwogICAgICAgIGNhc2UgImZhaWxlZCI6CiAgICAgICAgICByZXR1cm4gIuaJp+ihjOWksei0pSI7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIHJldHVybiAi5pyq55+l54q25oCBIjsKICAgICAgfQogICAgfSwKICAgIGdldFN0YXR1c0ljb246IGZ1bmN0aW9uIGdldFN0YXR1c0ljb24oc3RhdHVzKSB7CiAgICAgIHN3aXRjaCAoc3RhdHVzKSB7CiAgICAgICAgY2FzZSAiaWRsZSI6CiAgICAgICAgICByZXR1cm4gImVsLWljb24tdGltZSI7CiAgICAgICAgY2FzZSAicnVubmluZyI6CiAgICAgICAgICByZXR1cm4gImVsLWljb24tbG9hZGluZyI7CiAgICAgICAgY2FzZSAiY29tcGxldGVkIjoKICAgICAgICAgIHJldHVybiAiZWwtaWNvbi1jaGVjayBzdWNjZXNzLWljb24iOwogICAgICAgIGNhc2UgImZhaWxlZCI6CiAgICAgICAgICByZXR1cm4gImVsLWljb24tY2xvc2UgZXJyb3ItaWNvbiI7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIHJldHVybiAiZWwtaWNvbi1xdWVzdGlvbiI7CiAgICAgIH0KICAgIH0sCiAgICByZW5kZXJNYXJrZG93bjogZnVuY3Rpb24gcmVuZGVyTWFya2Rvd24odGV4dCkgewogICAgICByZXR1cm4gKDAsIF9tYXJrZWQubWFya2VkKSh0ZXh0KTsKICAgIH0sCiAgICAvLyBIVE1M6L2s57qv5paH5pysCiAgICBodG1sVG9UZXh0OiBmdW5jdGlvbiBodG1sVG9UZXh0KGh0bWwpIHsKICAgICAgdmFyIHRlbXBEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgdGVtcERpdi5pbm5lckhUTUwgPSBodG1sOwogICAgICByZXR1cm4gdGVtcERpdi50ZXh0Q29udGVudCB8fCB0ZW1wRGl2LmlubmVyVGV4dCB8fCAiIjsKICAgIH0sCiAgICAvLyBIVE1M6L2sTWFya2Rvd24KICAgIGh0bWxUb01hcmtkb3duOiBmdW5jdGlvbiBodG1sVG9NYXJrZG93bihodG1sKSB7CiAgICAgIHJldHVybiB0aGlzLnR1cm5kb3duU2VydmljZS50dXJuZG93bihodG1sKTsKICAgIH0sCiAgICBjb3B5UmVzdWx0OiBmdW5jdGlvbiBjb3B5UmVzdWx0KGNvbnRlbnQpIHsKICAgICAgLy8g5bCGSFRNTOi9rOaNouS4uue6r+aWh+acrAogICAgICB2YXIgcGxhaW5UZXh0ID0gdGhpcy5odG1sVG9UZXh0KGNvbnRlbnQpOwogICAgICB2YXIgdGV4dGFyZWEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZXh0YXJlYSIpOwogICAgICB0ZXh0YXJlYS52YWx1ZSA9IHBsYWluVGV4dDsKICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0ZXh0YXJlYSk7CiAgICAgIHRleHRhcmVhLnNlbGVjdCgpOwogICAgICBkb2N1bWVudC5leGVjQ29tbWFuZCgiY29weSIpOwogICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRleHRhcmVhKTsKICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLlt7LlpI3liLbnuq/mlofmnKzliLDliarotLTmnb8iKTsKICAgIH0sCiAgICBleHBvcnRSZXN1bHQ6IGZ1bmN0aW9uIGV4cG9ydFJlc3VsdChyZXN1bHQpIHsKICAgICAgLy8g5bCGSFRNTOi9rOaNouS4uk1hcmtkb3duCiAgICAgIHZhciBtYXJrZG93biA9IHJlc3VsdC5jb250ZW50OwogICAgICB2YXIgYmxvYiA9IG5ldyBCbG9iKFttYXJrZG93bl0sIHsKICAgICAgICB0eXBlOiAidGV4dC9tYXJrZG93biIKICAgICAgfSk7CiAgICAgIHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpOwogICAgICBsaW5rLmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpOwogICAgICBsaW5rLmRvd25sb2FkID0gIiIuY29uY2F0KHJlc3VsdC5haU5hbWUsICJfXHU3RUQzXHU2NzlDXyIpLmNvbmNhdChuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApLCAiLm1kIik7CiAgICAgIGxpbmsuY2xpY2soKTsKICAgICAgVVJMLnJldm9rZU9iamVjdFVSTChsaW5rLmhyZWYpOwogICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIuW3suWvvOWHuk1hcmtkb3du5paH5Lu2Iik7CiAgICB9LAogICAgb3BlblNoYXJlVXJsOiBmdW5jdGlvbiBvcGVuU2hhcmVVcmwoc2hhcmVVcmwpIHsKICAgICAgaWYgKHNoYXJlVXJsKSB7CiAgICAgICAgd2luZG93Lm9wZW4oc2hhcmVVcmwsICJfYmxhbmsiKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoIuaaguaXoOWOn+mTvuaOpSIpOwogICAgICB9CiAgICB9LAogICAgc2hvd0xhcmdlSW1hZ2U6IGZ1bmN0aW9uIHNob3dMYXJnZUltYWdlKGltYWdlVXJsKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwogICAgICB0aGlzLmN1cnJlbnRMYXJnZUltYWdlID0gaW1hZ2VVcmw7CiAgICAgIHRoaXMuc2hvd0ltYWdlRGlhbG9nID0gdHJ1ZTsKICAgICAgLy8g5om+5Yiw5b2T5YmN5Zu+54mH55qE57Si5byV77yM6K6+572u6L2u5pKt5Zu+55qE5Yid5aeL5L2N572uCiAgICAgIHZhciBjdXJyZW50SW5kZXggPSB0aGlzLnNjcmVlbnNob3RzLmluZGV4T2YoaW1hZ2VVcmwpOwogICAgICBpZiAoY3VycmVudEluZGV4ICE9PSAtMSkgewogICAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBjYXJvdXNlbCA9IF90aGlzMy4kZWwucXVlcnlTZWxlY3RvcigiLmltYWdlLWRpYWxvZyAuZWwtY2Fyb3VzZWwiKTsKICAgICAgICAgIGlmIChjYXJvdXNlbCAmJiBjYXJvdXNlbC5fX3Z1ZV9fKSB7CiAgICAgICAgICAgIGNhcm91c2VsLl9fdnVlX18uc2V0QWN0aXZlSXRlbShjdXJyZW50SW5kZXgpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgY2xvc2VMYXJnZUltYWdlOiBmdW5jdGlvbiBjbG9zZUxhcmdlSW1hZ2UoKSB7CiAgICAgIHRoaXMuc2hvd0ltYWdlRGlhbG9nID0gZmFsc2U7CiAgICAgIHRoaXMuY3VycmVudExhcmdlSW1hZ2UgPSAiIjsKICAgIH0sCiAgICAvLyBXZWJTb2NrZXQg55u45YWz5pa55rOVCiAgICBpbml0V2ViU29ja2V0OiBmdW5jdGlvbiBpbml0V2ViU29ja2V0KGlkKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwogICAgICB2YXIgd3NVcmwgPSBwcm9jZXNzLmVudi5WVUVfQVBQX1dTX0FQSSArICJteXBjLSIuY29uY2F0KGlkKTsKICAgICAgY29uc29sZS5sb2coIldlYlNvY2tldCBVUkw6IiwgcHJvY2Vzcy5lbnYuVlVFX0FQUF9XU19BUEkpOwogICAgICBfd2Vic29ja2V0LmRlZmF1bHQuY29ubmVjdCh3c1VybCwgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgc3dpdGNoIChldmVudC50eXBlKSB7CiAgICAgICAgICBjYXNlICJvcGVuIjoKICAgICAgICAgICAgLy8gdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCcnKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlICJtZXNzYWdlIjoKICAgICAgICAgICAgX3RoaXM0LmhhbmRsZVdlYlNvY2tldE1lc3NhZ2UoZXZlbnQuZGF0YSk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAiY2xvc2UiOgogICAgICAgICAgICBfdGhpczQuJG1lc3NhZ2Uud2FybmluZygiV2ViU29ja2V06L+e5o6l5bey5YWz6ZetIik7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAiZXJyb3IiOgogICAgICAgICAgICBfdGhpczQuJG1lc3NhZ2UuZXJyb3IoIldlYlNvY2tldOi/nuaOpemUmeivryIpOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgInJlY29ubmVjdF9mYWlsZWQiOgogICAgICAgICAgICBfdGhpczQuJG1lc3NhZ2UuZXJyb3IoIldlYlNvY2tldOmHjei/nuWksei0pe+8jOivt+WIt+aWsOmhtemdoumHjeivlSIpOwogICAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZVdlYlNvY2tldE1lc3NhZ2U6IGZ1bmN0aW9uIGhhbmRsZVdlYlNvY2tldE1lc3NhZ2UoZGF0YSkgewogICAgICB2YXIgZGF0YXN0ciA9IGRhdGE7CiAgICAgIHZhciBkYXRhT2JqID0gSlNPTi5wYXJzZShkYXRhc3RyKTsKCiAgICAgIC8vIOWkhOeQhmNoYXRJZOa2iOaBrwogICAgICBpZiAoZGF0YU9iai50eXBlID09PSAiUkVUVVJOX1lCVDFfQ0hBVElEIiAmJiBkYXRhT2JqLmNoYXRJZCkgewogICAgICAgIHRoaXMudXNlckluZm9SZXEudG9uZUNoYXRJZCA9IGRhdGFPYmouY2hhdElkOwogICAgICB9IGVsc2UgaWYgKGRhdGFPYmoudHlwZSA9PT0gIlJFVFVSTl9ZQkRTX0NIQVRJRCIgJiYgZGF0YU9iai5jaGF0SWQpIHsKICAgICAgICB0aGlzLnVzZXJJbmZvUmVxLnliRHNDaGF0SWQgPSBkYXRhT2JqLmNoYXRJZDsKICAgICAgfSBlbHNlIGlmIChkYXRhT2JqLnR5cGUgPT09ICJSRVRVUk5fREJfQ0hBVElEIiAmJiBkYXRhT2JqLmNoYXRJZCkgewogICAgICAgIHRoaXMudXNlckluZm9SZXEuZGJDaGF0SWQgPSBkYXRhT2JqLmNoYXRJZDsKICAgICAgfSBlbHNlIGlmIChkYXRhT2JqLnR5cGUgPT09ICJSRVRVUk5fTUFYX0NIQVRJRCIgJiYgZGF0YU9iai5jaGF0SWQpIHsKICAgICAgICB0aGlzLnVzZXJJbmZvUmVxLm1heENoYXRJZCA9IGRhdGFPYmouY2hhdElkOwogICAgICB9IGVsc2UgaWYgKGRhdGFPYmoudHlwZSA9PT0gJ1JFVFVSTl9aSF9DSEFUSUQnICYmIGRhdGFPYmouY2hhdElkKSB7CiAgICAgICAgdGhpcy51c2VySW5mb1JlcS56aENoYXRJZCA9IGRhdGFPYmouY2hhdElkOwogICAgICB9CgogICAgICAvLyDlpITnkIbov5vluqbml6Xlv5fmtojmga8KICAgICAgaWYgKGRhdGFPYmoudHlwZSA9PT0gIlJFVFVSTl9QQ19UQVNLX0xPRyIgJiYgZGF0YU9iai5haU5hbWUpIHsKICAgICAgICB2YXIgX3RhcmdldEFJID0gdGhpcy5lbmFibGVkQUlzLmZpbmQoZnVuY3Rpb24gKGFpKSB7CiAgICAgICAgICByZXR1cm4gYWkubmFtZSA9PT0gZGF0YU9iai5haU5hbWU7CiAgICAgICAgfSk7CiAgICAgICAgaWYgKF90YXJnZXRBSSkgewogICAgICAgICAgLy8g5bCG5paw6L+b5bqm5re75Yqg5Yiw5pWw57uE5byA5aS0CiAgICAgICAgICBfdGFyZ2V0QUkucHJvZ3Jlc3NMb2dzLnVuc2hpZnQoewogICAgICAgICAgICBjb250ZW50OiBkYXRhT2JqLmNvbnRlbnQsCiAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSwKICAgICAgICAgICAgaXNDb21wbGV0ZWQ6IGZhbHNlCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICAvLyDlpITnkIbmiKrlm77mtojmga8KICAgICAgaWYgKGRhdGFPYmoudHlwZSA9PT0gIlJFVFVSTl9QQ19UQVNLX0lNRyIgJiYgZGF0YU9iai51cmwpIHsKICAgICAgICAvLyDlsIbmlrDnmoTmiKrlm77mt7vliqDliLDmlbDnu4TlvIDlpLQKICAgICAgICB0aGlzLnNjcmVlbnNob3RzLnVuc2hpZnQoZGF0YU9iai51cmwpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgLy8g5aSE55CG5pm66IO96K+E5YiG57uT5p6cCiAgICAgIGlmIChkYXRhT2JqLnR5cGUgPT09ICJSRVRVUk5fV0tQRl9SRVMiKSB7CiAgICAgICAgdmFyIHdrcGZBSSA9IHRoaXMuZW5hYmxlZEFJcy5maW5kKGZ1bmN0aW9uIChhaSkgewogICAgICAgICAgcmV0dXJuIGFpLm5hbWUgPT09ICLmmbrog73or4TliIYiOwogICAgICAgIH0pOwogICAgICAgIGlmICh3a3BmQUkpIHsKICAgICAgICAgIHRoaXMuJHNldCh3a3BmQUksICJzdGF0dXMiLCAiY29tcGxldGVkIik7CiAgICAgICAgICBpZiAod2twZkFJLnByb2dyZXNzTG9ncy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIHRoaXMuJHNldCh3a3BmQUkucHJvZ3Jlc3NMb2dzWzBdLCAiaXNDb21wbGV0ZWQiLCB0cnVlKTsKICAgICAgICAgIH0KICAgICAgICAgIC8vIOa3u+WKoOivhOWIhue7k+aenOWIsHJlc3VsdHPmnIDliY3pnaIKICAgICAgICAgIHRoaXMucmVzdWx0cy51bnNoaWZ0KHsKICAgICAgICAgICAgYWlOYW1lOiAi5pm66IO96K+E5YiGIiwKICAgICAgICAgICAgY29udGVudDogZGF0YU9iai5kcmFmdENvbnRlbnQsCiAgICAgICAgICAgIHNoYXJlVXJsOiBkYXRhT2JqLnNoYXJlVXJsIHx8ICIiLAogICAgICAgICAgICBzaGFyZUltZ1VybDogZGF0YU9iai5zaGFyZUltZ1VybCB8fCAiIiwKICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpCiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMuYWN0aXZlUmVzdWx0VGFiID0gInJlc3VsdC0wIjsKCiAgICAgICAgICAvLyDmmbrog73or4TliIblrozmiJDml7bvvIzlho3mrKHkv53lrZjljoblj7LorrDlvZUKICAgICAgICAgIHRoaXMuc2F2ZUhpc3RvcnkoKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICAvLyDlpITnkIbmmbrog73mjpLniYjnu5PmnpwKICAgICAgaWYgKGRhdGFPYmoudHlwZSA9PT0gIlJFVFVSTl9aTlBCX1JFUyIpIHsKICAgICAgICB2YXIgem5wYkFJID0gdGhpcy5lbmFibGVkQUlzLmZpbmQoZnVuY3Rpb24gKGFpKSB7CiAgICAgICAgICByZXR1cm4gYWkubmFtZSA9PT0gIuaZuuiDveaOkueJiCI7CiAgICAgICAgfSk7CiAgICAgICAgaWYgKHpucGJBSSkgewogICAgICAgICAgdGhpcy4kc2V0KHpucGJBSSwgInN0YXR1cyIsICJjb21wbGV0ZWQiKTsKICAgICAgICAgIGlmICh6bnBiQUkucHJvZ3Jlc3NMb2dzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgdGhpcy4kc2V0KHpucGJBSS5wcm9ncmVzc0xvZ3NbMF0sICJpc0NvbXBsZXRlZCIsIHRydWUpOwogICAgICAgICAgfQoKICAgICAgICAgIC8vIOebtOaOpeiwg+eUqOaKlemAkuWIsOWFrOS8l+WPt+eahOaWueazle+8jOS4jea3u+WKoOWIsOe7k+aenOWxleekugogICAgICAgICAgdGhpcy5wdXNoVG9XZWNoYXRXaXRoQ29udGVudChkYXRhT2JqLmRyYWZ0Q29udGVudCk7CgogICAgICAgICAgLy8g5pm66IO95o6S54mI5a6M5oiQ5pe277yM5L+d5a2Y5Y6G5Y+y6K6w5b2VCiAgICAgICAgICB0aGlzLnNhdmVIaXN0b3J5KCk7CiAgICAgICAgfQogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgLy8g5qC55o2u5raI5oGv57G75Z6L5pu05paw5a+55bqUQUnnmoTnirbmgIHlkoznu5PmnpwKICAgICAgdmFyIHRhcmdldEFJID0gbnVsbDsKICAgICAgc3dpdGNoIChkYXRhT2JqLnR5cGUpIHsKICAgICAgICBjYXNlICdSRVRVUk5fWkhfUkVTJzoKICAgICAgICAgIGNvbnNvbGUubG9nKCfmlLbliLDnn6XkuY7nm7TnrZTmtojmga86JywgZGF0YSk7CiAgICAgICAgICB0YXJnZXRBSSA9IHRoaXMuZW5hYmxlZEFJcy5maW5kKGZ1bmN0aW9uIChhaSkgewogICAgICAgICAgICByZXR1cm4gYWkubmFtZSA9PT0gJ+efpeS5juebtOetlCc7CiAgICAgICAgICB9KTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ1JFVFVSTl9ZQlQxX1JFUyc6CiAgICAgICAgY2FzZSAnUkVUVVJOX1RVUkJPU19SRVMnOgogICAgICAgIGNhc2UgJ1JFVFVSTl9UVVJCT1NfTEFSR0VfUkVTJzoKICAgICAgICBjYXNlICdSRVRVUk5fREVFUFNFRUtfUkVTJzoKICAgICAgICAgIGNvbnNvbGUubG9nKCfmlLbliLBEZWVwU2Vla+a2iOaBrzonLCBkYXRhT2JqKTsKICAgICAgICAgIHRhcmdldEFJID0gdGhpcy5lbmFibGVkQUlzLmZpbmQoZnVuY3Rpb24gKGFpKSB7CiAgICAgICAgICAgIHJldHVybiBhaS5uYW1lID09PSAnRGVlcFNlZWsnOwogICAgICAgICAgfSk7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICJSRVRVUk5fREJfUkVTIjoKICAgICAgICAgIGNvbnNvbGUubG9nKCLmlLbliLDosYbljIXmtojmga86IiwgZGF0YU9iaik7CiAgICAgICAgICB0YXJnZXRBSSA9IHRoaXMuZW5hYmxlZEFJcy5maW5kKGZ1bmN0aW9uIChhaSkgewogICAgICAgICAgICByZXR1cm4gYWkubmFtZSA9PT0gIuixhuWMhSI7CiAgICAgICAgICB9KTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgIlJFVFVSTl9NQVhfUkVTIjoKICAgICAgICAgIGNvbnNvbGUubG9nKCLmlLbliLBNaW5pTWF45raI5oGvOiIsIGRhdGFPYmopOwogICAgICAgICAgdGFyZ2V0QUkgPSB0aGlzLmVuYWJsZWRBSXMuZmluZChmdW5jdGlvbiAoYWkpIHsKICAgICAgICAgICAgcmV0dXJuIGFpLm5hbWUgPT09ICJNaW5pTWF4IENoYXQiOwogICAgICAgICAgfSk7CiAgICAgICAgICBicmVhazsKICAgICAgfQogICAgICBpZiAodGFyZ2V0QUkpIHsKICAgICAgICAvLyDmm7TmlrBBSeeKtuaAgeS4uuW3suWujOaIkAogICAgICAgIHRoaXMuJHNldCh0YXJnZXRBSSwgInN0YXR1cyIsICJjb21wbGV0ZWQiKTsKCiAgICAgICAgLy8g5bCG5pyA5ZCO5LiA5p2h6L+b5bqm5raI5oGv5qCH6K6w5Li65bey5a6M5oiQCiAgICAgICAgaWYgKHRhcmdldEFJLnByb2dyZXNzTG9ncy5sZW5ndGggPiAwKSB7CiAgICAgICAgICB0aGlzLiRzZXQodGFyZ2V0QUkucHJvZ3Jlc3NMb2dzWzBdLCAiaXNDb21wbGV0ZWQiLCB0cnVlKTsKICAgICAgICB9CgogICAgICAgIC8vIOa3u+WKoOe7k+aenOWIsOaVsOe7hOW8gOWktAogICAgICAgIHZhciByZXN1bHRJbmRleCA9IHRoaXMucmVzdWx0cy5maW5kSW5kZXgoZnVuY3Rpb24gKHIpIHsKICAgICAgICAgIHJldHVybiByLmFpTmFtZSA9PT0gdGFyZ2V0QUkubmFtZTsKICAgICAgICB9KTsKICAgICAgICBpZiAocmVzdWx0SW5kZXggPT09IC0xKSB7CiAgICAgICAgICB0aGlzLnJlc3VsdHMudW5zaGlmdCh7CiAgICAgICAgICAgIGFpTmFtZTogdGFyZ2V0QUkubmFtZSwKICAgICAgICAgICAgY29udGVudDogZGF0YU9iai5kcmFmdENvbnRlbnQsCiAgICAgICAgICAgIHNoYXJlVXJsOiBkYXRhT2JqLnNoYXJlVXJsIHx8ICIiLAogICAgICAgICAgICBzaGFyZUltZ1VybDogZGF0YU9iai5zaGFyZUltZ1VybCB8fCAiIiwKICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpCiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMuYWN0aXZlUmVzdWx0VGFiID0gInJlc3VsdC0wIjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5yZXN1bHRzLnNwbGljZShyZXN1bHRJbmRleCwgMSk7CiAgICAgICAgICB0aGlzLnJlc3VsdHMudW5zaGlmdCh7CiAgICAgICAgICAgIGFpTmFtZTogdGFyZ2V0QUkubmFtZSwKICAgICAgICAgICAgY29udGVudDogZGF0YU9iai5kcmFmdENvbnRlbnQsCiAgICAgICAgICAgIHNoYXJlVXJsOiBkYXRhT2JqLnNoYXJlVXJsIHx8ICIiLAogICAgICAgICAgICBzaGFyZUltZ1VybDogZGF0YU9iai5zaGFyZUltZ1VybCB8fCAiIiwKICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpCiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMuYWN0aXZlUmVzdWx0VGFiID0gInJlc3VsdC0wIjsKICAgICAgICB9CiAgICAgICAgdGhpcy5zYXZlSGlzdG9yeSgpOwogICAgICB9CgogICAgICAvLyDmo4Dmn6XmmK/lkKbmiYDmnInku7vliqHpg73lt7LlrozmiJAKICAgICAgLy8gY29uc3QgYWxsQ29tcGxldGVkID0gdGhpcy5lbmFibGVkQUlzLmV2ZXJ5KGFpID0+CiAgICAgIC8vICAgYWkuc3RhdHVzID09PSAnY29tcGxldGVkJyB8fCBhaS5zdGF0dXMgPT09ICdmYWlsZWQnCiAgICAgIC8vICk7CgogICAgICAvLyBpZiAoYWxsQ29tcGxldGVkKSB7CiAgICAgIC8vCiAgICAgIC8vIH0KICAgIH0sCiAgICBjbG9zZVdlYlNvY2tldDogZnVuY3Rpb24gY2xvc2VXZWJTb2NrZXQoKSB7CiAgICAgIF93ZWJzb2NrZXQuZGVmYXVsdC5jbG9zZSgpOwogICAgfSwKICAgIHNlbmRNZXNzYWdlOiBmdW5jdGlvbiBzZW5kTWVzc2FnZShkYXRhKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwogICAgICBpZiAoX3dlYnNvY2tldC5kZWZhdWx0LnNlbmQoZGF0YSkpIHsKICAgICAgICAvLyDmu5rliqjliLDlupXpg6gKICAgICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczUuc2Nyb2xsVG9Cb3R0b20oKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCJXZWJTb2NrZXTmnKrov57mjqUiKTsKICAgICAgfQogICAgfSwKICAgIHRvZ2dsZUFJRXhwYW5zaW9uOiBmdW5jdGlvbiB0b2dnbGVBSUV4cGFuc2lvbihhaSkgewogICAgICB0aGlzLiRzZXQoYWksICJpc0V4cGFuZGVkIiwgIWFpLmlzRXhwYW5kZWQpOwogICAgfSwKICAgIGZvcm1hdFRpbWU6IGZ1bmN0aW9uIGZvcm1hdFRpbWUodGltZXN0YW1wKSB7CiAgICAgIHZhciBkYXRlID0gbmV3IERhdGUodGltZXN0YW1wKTsKICAgICAgcmV0dXJuIGRhdGUudG9Mb2NhbGVUaW1lU3RyaW5nKCJ6aC1DTiIsIHsKICAgICAgICBob3VyOiAiMi1kaWdpdCIsCiAgICAgICAgbWludXRlOiAiMi1kaWdpdCIsCiAgICAgICAgc2Vjb25kOiAiMi1kaWdpdCIsCiAgICAgICAgaG91cjEyOiBmYWxzZQogICAgICB9KTsKICAgIH0sCiAgICBzaG93U2NvcmVEaWFsb2c6IGZ1bmN0aW9uIHNob3dTY29yZURpYWxvZygpIHsKICAgICAgdGhpcy5zY29yZURpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgICB0aGlzLnNlbGVjdGVkUmVzdWx0cyA9IFtdOwogICAgfSwKICAgIGhhbmRsZVNjb3JlOiBmdW5jdGlvbiBoYW5kbGVTY29yZSgpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CiAgICAgIGlmICghdGhpcy5jYW5TY29yZSkgcmV0dXJuOwoKICAgICAgLy8g6I635Y+W6YCJ5Lit55qE57uT5p6c5YaF5a655bm25oyJ54Wn5oyH5a6a5qC85byP5ou85o6lCiAgICAgIHZhciBzZWxlY3RlZENvbnRlbnRzID0gdGhpcy5yZXN1bHRzLmZpbHRlcihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgcmV0dXJuIF90aGlzNi5zZWxlY3RlZFJlc3VsdHMuaW5jbHVkZXMocmVzdWx0LmFpTmFtZSk7CiAgICAgIH0pLm1hcChmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgLy8g5bCGSFRNTOWGheWuuei9rOaNouS4uue6r+aWh+acrAogICAgICAgIHZhciBwbGFpbkNvbnRlbnQgPSBfdGhpczYuaHRtbFRvVGV4dChyZXN1bHQuY29udGVudCk7CiAgICAgICAgcmV0dXJuICIiLmNvbmNhdChyZXN1bHQuYWlOYW1lLCAiXHU1MjFEXHU3QTNGXHVGRjFBXG4iKS5jb25jYXQocGxhaW5Db250ZW50LCAiXG4iKTsKICAgICAgfSkuam9pbigiXG4iKTsKCiAgICAgIC8vIOaehOW7uuWujOaVtOeahOivhOWIhuaPkOekuuWGheWuuQogICAgICB2YXIgZnVsbFByb21wdCA9ICIiLmNvbmNhdCh0aGlzLnNjb3JlUHJvbXB0LCAiXG4iKS5jb25jYXQoc2VsZWN0ZWRDb250ZW50cyk7CgogICAgICAvLyDmnoTlu7ror4TliIbor7fmsYIKICAgICAgdmFyIHNjb3JlUmVxdWVzdCA9IHsKICAgICAgICBqc29ucnBjOiAiMi4wIiwKICAgICAgICBpZDogKDAsIF91dWlkLnY0KSgpLAogICAgICAgIG1ldGhvZDogIkFJ6K+E5YiGIiwKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIHRhc2tJZDogKDAsIF91dWlkLnY0KSgpLAogICAgICAgICAgdXNlcklkOiB0aGlzLnVzZXJJZCwKICAgICAgICAgIGNvcnBJZDogdGhpcy5jb3JwSWQsCiAgICAgICAgICB1c2VyUHJvbXB0OiBmdWxsUHJvbXB0LAogICAgICAgICAgcm9sZXM6ICJ6ai1kYi1zZHNrIiAvLyDpu5jorqTkvb/nlKjosYbljIXov5vooYzor4TliIYKICAgICAgICB9CiAgICAgIH07CgogICAgICAvLyDlj5HpgIHor4TliIbor7fmsYIKICAgICAgY29uc29sZS5sb2coIuWPguaVsCIsIHNjb3JlUmVxdWVzdCk7CiAgICAgIHRoaXMubWVzc2FnZShzY29yZVJlcXVlc3QpOwogICAgICB0aGlzLnNjb3JlRGlhbG9nVmlzaWJsZSA9IGZhbHNlOwoKICAgICAgLy8g5Yib5bu65pm66IO96K+E5YiGQUnoioLngrkKICAgICAgdmFyIHdrcGZBSSA9IHsKICAgICAgICBuYW1lOiAi5pm66IO96K+E5YiGIiwKICAgICAgICBhdmF0YXI6IHJlcXVpcmUoIi4uLy4uLy4uL2Fzc2V0cy9haS95dWFuYmFvLnBuZyIpLAogICAgICAgIGNhcGFiaWxpdGllczogW10sCiAgICAgICAgc2VsZWN0ZWRDYXBhYmlsaXRpZXM6IFtdLAogICAgICAgIGVuYWJsZWQ6IHRydWUsCiAgICAgICAgc3RhdHVzOiAicnVubmluZyIsCiAgICAgICAgcHJvZ3Jlc3NMb2dzOiBbewogICAgICAgICAgY29udGVudDogIuaZuuiDveivhOWIhuS7u+WKoeW3suaPkOS6pO+8jOato+WcqOivhOWIhi4uLiIsCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksCiAgICAgICAgICBpc0NvbXBsZXRlZDogZmFsc2UsCiAgICAgICAgICB0eXBlOiAi5pm66IO96K+E5YiGIgogICAgICAgIH1dLAogICAgICAgIGlzRXhwYW5kZWQ6IHRydWUKICAgICAgfTsKCiAgICAgIC8vIOajgOafpeaYr+WQpuW3suWtmOWcqOaZuuiDveivhOWIhgogICAgICB2YXIgZXhpc3RJbmRleCA9IHRoaXMuZW5hYmxlZEFJcy5maW5kSW5kZXgoZnVuY3Rpb24gKGFpKSB7CiAgICAgICAgcmV0dXJuIGFpLm5hbWUgPT09ICLmmbrog73or4TliIYiOwogICAgICB9KTsKICAgICAgaWYgKGV4aXN0SW5kZXggPT09IC0xKSB7CiAgICAgICAgLy8g5aaC5p6c5LiN5a2Y5Zyo77yM5re75Yqg5Yiw5pWw57uE5byA5aS0CiAgICAgICAgdGhpcy5lbmFibGVkQUlzLnVuc2hpZnQod2twZkFJKTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyDlpoLmnpzlt7LlrZjlnKjvvIzmm7TmlrDnirbmgIHlkozml6Xlv5cKICAgICAgICB0aGlzLmVuYWJsZWRBSXNbZXhpc3RJbmRleF0gPSB3a3BmQUk7CiAgICAgICAgLy8g5bCG5pm66IO96K+E5YiG56e75Yiw5pWw57uE5byA5aS0CiAgICAgICAgdmFyIHdrcGYgPSB0aGlzLmVuYWJsZWRBSXMuc3BsaWNlKGV4aXN0SW5kZXgsIDEpWzBdOwogICAgICAgIHRoaXMuZW5hYmxlZEFJcy51bnNoaWZ0KHdrcGYpOwogICAgICB9CiAgICAgIHRoaXMuJGZvcmNlVXBkYXRlKCk7CiAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi6K+E5YiG6K+35rGC5bey5Y+R6YCB77yM6K+3562J5b6F57uT5p6cIik7CiAgICB9LAogICAgLy8g5pi+56S65Y6G5Y+y6K6w5b2V5oq95bGJCiAgICBzaG93SGlzdG9yeURyYXdlcjogZnVuY3Rpb24gc2hvd0hpc3RvcnlEcmF3ZXIoKSB7CiAgICAgIHRoaXMuaGlzdG9yeURyYXdlclZpc2libGUgPSB0cnVlOwogICAgICB0aGlzLmxvYWRDaGF0SGlzdG9yeSgxKTsKICAgIH0sCiAgICAvLyDlhbPpl63ljoblj7LorrDlvZXmir3lsYkKICAgIGhhbmRsZUhpc3RvcnlEcmF3ZXJDbG9zZTogZnVuY3Rpb24gaGFuZGxlSGlzdG9yeURyYXdlckNsb3NlKCkgewogICAgICB0aGlzLmhpc3RvcnlEcmF3ZXJWaXNpYmxlID0gZmFsc2U7CiAgICB9LAogICAgLy8g5Yqg6L295Y6G5Y+y6K6w5b2VCiAgICBsb2FkQ2hhdEhpc3Rvcnk6IGZ1bmN0aW9uIGxvYWRDaGF0SGlzdG9yeShpc0FsbCkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKICAgICAgcmV0dXJuICgwLCBfYXN5bmNUb0dlbmVyYXRvcjIuZGVmYXVsdCkoLyojX19QVVJFX18qLygwLCBfcmVnZW5lcmF0b3IyLmRlZmF1bHQpKCkubShmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXMsIF90OwogICAgICAgIHJldHVybiAoMCwgX3JlZ2VuZXJhdG9yMi5kZWZhdWx0KSgpLncoZnVuY3Rpb24gKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wID0gX2NvbnRleHQubikgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQucCA9IDA7CiAgICAgICAgICAgICAgX2NvbnRleHQubiA9IDE7CiAgICAgICAgICAgICAgcmV0dXJuICgwLCBfYWlnYy5nZXRDaGF0SGlzdG9yeSkoX3RoaXM3LnVzZXJJZCwgaXNBbGwpOwogICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQudjsKICAgICAgICAgICAgICBpZiAocmVzLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgX3RoaXM3LmNoYXRIaXN0b3J5ID0gcmVzLmRhdGEgfHwgW107CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIF9jb250ZXh0Lm4gPSAzOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgX2NvbnRleHQucCA9IDI7CiAgICAgICAgICAgICAgX3QgPSBfY29udGV4dC52OwogICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIuWKoOi9veWOhuWPsuiusOW9leWksei0pToiLCBfdCk7CiAgICAgICAgICAgICAgX3RoaXM3LiRtZXNzYWdlLmVycm9yKCLliqDovb3ljoblj7LorrDlvZXlpLHotKUiKTsKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hKDIpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMCwgMl1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g5qC85byP5YyW5Y6G5Y+y6K6w5b2V5pe26Ze0CiAgICBmb3JtYXRIaXN0b3J5VGltZTogZnVuY3Rpb24gZm9ybWF0SGlzdG9yeVRpbWUodGltZXN0YW1wKSB7CiAgICAgIHZhciBkYXRlID0gbmV3IERhdGUodGltZXN0YW1wKTsKICAgICAgcmV0dXJuIGRhdGUudG9Mb2NhbGVUaW1lU3RyaW5nKCJ6aC1DTiIsIHsKICAgICAgICBob3VyOiAiMi1kaWdpdCIsCiAgICAgICAgbWludXRlOiAiMi1kaWdpdCIsCiAgICAgICAgaG91cjEyOiBmYWxzZQogICAgICB9KTsKICAgIH0sCiAgICAvLyDojrflj5bljoblj7LorrDlvZXml6XmnJ/liIbnu4QKICAgIGdldEhpc3RvcnlEYXRlOiBmdW5jdGlvbiBnZXRIaXN0b3J5RGF0ZSh0aW1lc3RhbXApIHsKICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSh0aW1lc3RhbXApOwogICAgICB2YXIgdG9kYXkgPSBuZXcgRGF0ZSgpOwogICAgICB2YXIgeWVzdGVyZGF5ID0gbmV3IERhdGUodG9kYXkpOwogICAgICB5ZXN0ZXJkYXkuc2V0RGF0ZSh5ZXN0ZXJkYXkuZ2V0RGF0ZSgpIC0gMSk7CiAgICAgIHZhciB0d29EYXlzQWdvID0gbmV3IERhdGUodG9kYXkpOwogICAgICB0d29EYXlzQWdvLnNldERhdGUodHdvRGF5c0Fnby5nZXREYXRlKCkgLSAyKTsKICAgICAgdmFyIHRocmVlRGF5c0FnbyA9IG5ldyBEYXRlKHRvZGF5KTsKICAgICAgdGhyZWVEYXlzQWdvLnNldERhdGUodGhyZWVEYXlzQWdvLmdldERhdGUoKSAtIDMpOwogICAgICBpZiAoZGF0ZS50b0RhdGVTdHJpbmcoKSA9PT0gdG9kYXkudG9EYXRlU3RyaW5nKCkpIHsKICAgICAgICByZXR1cm4gIuS7iuWkqSI7CiAgICAgIH0gZWxzZSBpZiAoZGF0ZS50b0RhdGVTdHJpbmcoKSA9PT0geWVzdGVyZGF5LnRvRGF0ZVN0cmluZygpKSB7CiAgICAgICAgcmV0dXJuICLmmKjlpKkiOwogICAgICB9IGVsc2UgaWYgKGRhdGUudG9EYXRlU3RyaW5nKCkgPT09IHR3b0RheXNBZ28udG9EYXRlU3RyaW5nKCkpIHsKICAgICAgICByZXR1cm4gIuS4pOWkqeWJjSI7CiAgICAgIH0gZWxzZSBpZiAoZGF0ZS50b0RhdGVTdHJpbmcoKSA9PT0gdGhyZWVEYXlzQWdvLnRvRGF0ZVN0cmluZygpKSB7CiAgICAgICAgcmV0dXJuICLkuInlpKnliY0iOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBkYXRlLnRvTG9jYWxlRGF0ZVN0cmluZygiemgtQ04iLCB7CiAgICAgICAgICB5ZWFyOiAibnVtZXJpYyIsCiAgICAgICAgICBtb250aDogImxvbmciLAogICAgICAgICAgZGF5OiAibnVtZXJpYyIKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIC8vIOWKoOi9veWOhuWPsuiusOW9lemhuQogICAgbG9hZEhpc3RvcnlJdGVtOiBmdW5jdGlvbiBsb2FkSGlzdG9yeUl0ZW0oaXRlbSkgewogICAgICB0cnkgewogICAgICAgIHZhciBoaXN0b3J5RGF0YSA9IEpTT04ucGFyc2UoaXRlbS5kYXRhKTsKCiAgICAgICAgLy8g5oGi5aSNQUnpgInmi6nphY3nva7vvIzkvYbph43mlrDorr7nva7nn6XkuY7nm7TnrZTnmoTlm77moIfot6/lvoQKICAgICAgICBpZiAoaGlzdG9yeURhdGEuYWlMaXN0KSB7CiAgICAgICAgICB2YXIgdXBkYXRlZEFpTGlzdCA9IGhpc3RvcnlEYXRhLmFpTGlzdC5tYXAoZnVuY3Rpb24gKGFpKSB7CiAgICAgICAgICAgIGlmIChhaS5uYW1lID09PSAn55+l5LmO55u0562UJykgewogICAgICAgICAgICAgIHJldHVybiAoMCwgX29iamVjdFNwcmVhZDIuZGVmYXVsdCkoKDAsIF9vYmplY3RTcHJlYWQyLmRlZmF1bHQpKHt9LCBhaSksIHt9LCB7CiAgICAgICAgICAgICAgICBhdmF0YXI6IHJlcXVpcmUoJy4uLy4uLy4uL2Fzc2V0cy9haS96aGlodS5wbmcnKQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBhaTsKICAgICAgICAgIH0pOwogICAgICAgICAgdGhpcy5haUxpc3QgPSB1cGRhdGVkQWlMaXN0OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmFpTGlzdCA9IHRoaXMuYWlMaXN0OwogICAgICAgIH0KCiAgICAgICAgLy8g5oGi5aSN5o+Q56S66K+N6L6T5YWlCiAgICAgICAgdGhpcy5wcm9tcHRJbnB1dCA9IGhpc3RvcnlEYXRhLnByb21wdElucHV0IHx8ICIiOwogICAgICAgIC8vIOaBouWkjeS7u+WKoea1geeoiwogICAgICAgIHRoaXMuZW5hYmxlZEFJcyA9IGhpc3RvcnlEYXRhLmVuYWJsZWRBSXMgfHwgW107CiAgICAgICAgLy8g5oGi5aSN5Li75py65Y+v6KeG5YyWCiAgICAgICAgdGhpcy5zY3JlZW5zaG90cyA9IGhpc3RvcnlEYXRhLnNjcmVlbnNob3RzIHx8IFtdOwogICAgICAgIC8vIOaBouWkjeaJp+ihjOe7k+aenAogICAgICAgIHRoaXMucmVzdWx0cyA9IGhpc3RvcnlEYXRhLnJlc3VsdHMgfHwgW107CiAgICAgICAgLy8g5oGi5aSNY2hhdElkCiAgICAgICAgdGhpcy5jaGF0SWQgPSBpdGVtLmNoYXRJZCB8fCB0aGlzLmNoYXRJZDsKICAgICAgICB0aGlzLnVzZXJJbmZvUmVxLnRvbmVDaGF0SWQgPSBpdGVtLnRvbmVDaGF0SWQgfHwgJyc7CiAgICAgICAgdGhpcy51c2VySW5mb1JlcS55YkRzQ2hhdElkID0gaXRlbS55YkRzQ2hhdElkIHx8ICcnOwogICAgICAgIHRoaXMudXNlckluZm9SZXEuZGJDaGF0SWQgPSBpdGVtLmRiQ2hhdElkIHx8ICcnOwogICAgICAgIHRoaXMudXNlckluZm9SZXEuemhDaGF0SWQgPSBpdGVtLnpoQ2hhdElkIHx8ICcnOwogICAgICAgIHRoaXMudXNlckluZm9SZXEubWF4Q2hhdElkID0gaXRlbS5tYXhDaGF0SWQgfHwgIiI7CiAgICAgICAgdGhpcy51c2VySW5mb1JlcS5pc05ld0NoYXQgPSBmYWxzZTsKCiAgICAgICAgLy8g5bGV5byA55u45YWz5Yy65Z+fCiAgICAgICAgdGhpcy5hY3RpdmVDb2xsYXBzZXMgPSBbImFpLXNlbGVjdGlvbiIsICJwcm9tcHQtaW5wdXQiXTsKICAgICAgICB0aGlzLnRhc2tTdGFydGVkID0gdHJ1ZTsKICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIuWOhuWPsuiusOW9leWKoOi9veaIkOWKnyIpOwogICAgICAgIHRoaXMuaGlzdG9yeURyYXdlclZpc2libGUgPSBmYWxzZTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCLliqDovb3ljoblj7LorrDlvZXlpLHotKU6IiwgZXJyb3IpOwogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuWKoOi9veWOhuWPsuiusOW9leWksei0pSIpOwogICAgICB9CiAgICB9LAogICAgLy8g5L+d5a2Y5Y6G5Y+y6K6w5b2VCiAgICBzYXZlSGlzdG9yeTogZnVuY3Rpb24gc2F2ZUhpc3RvcnkoKSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwogICAgICByZXR1cm4gKDAsIF9hc3luY1RvR2VuZXJhdG9yMi5kZWZhdWx0KSgvKiNfX1BVUkVfXyovKDAsIF9yZWdlbmVyYXRvcjIuZGVmYXVsdCkoKS5tKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBoaXN0b3J5RGF0YSwgX3QyOwogICAgICAgIHJldHVybiAoMCwgX3JlZ2VuZXJhdG9yMi5kZWZhdWx0KSgpLncoZnVuY3Rpb24gKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQyLnAgPSBfY29udGV4dDIubikgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgLy8gaWYgKCF0aGlzLnRhc2tTdGFydGVkIHx8IHRoaXMuZW5hYmxlZEFJcy5zb21lKGFpID0+IGFpLnN0YXR1cyA9PT0gJ3J1bm5pbmcnKSkgewogICAgICAgICAgICAgIC8vICAgcmV0dXJuOwogICAgICAgICAgICAgIC8vIH0KICAgICAgICAgICAgICBoaXN0b3J5RGF0YSA9IHsKICAgICAgICAgICAgICAgIGFpTGlzdDogX3RoaXM4LmFpTGlzdCwKICAgICAgICAgICAgICAgIHByb21wdElucHV0OiBfdGhpczgucHJvbXB0SW5wdXQsCiAgICAgICAgICAgICAgICBlbmFibGVkQUlzOiBfdGhpczguZW5hYmxlZEFJcywKICAgICAgICAgICAgICAgIHNjcmVlbnNob3RzOiBfdGhpczguc2NyZWVuc2hvdHMsCiAgICAgICAgICAgICAgICByZXN1bHRzOiBfdGhpczgucmVzdWx0cywKICAgICAgICAgICAgICAgIGNoYXRJZDogX3RoaXM4LmNoYXRJZCwKICAgICAgICAgICAgICAgIHRvbmVDaGF0SWQ6IF90aGlzOC51c2VySW5mb1JlcS50b25lQ2hhdElkLAogICAgICAgICAgICAgICAgeWJEc0NoYXRJZDogX3RoaXM4LnVzZXJJbmZvUmVxLnliRHNDaGF0SWQsCiAgICAgICAgICAgICAgICBkYkNoYXRJZDogX3RoaXM4LnVzZXJJbmZvUmVxLmRiQ2hhdElkLAogICAgICAgICAgICAgICAgemhDaGF0SWQ6IF90aGlzOC51c2VySW5mb1JlcS56aENoYXRJZCwKICAgICAgICAgICAgICAgIG1heENoYXRJZDogX3RoaXM4LnVzZXJJbmZvUmVxLm1heENoYXRJZAogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgX2NvbnRleHQyLnAgPSAxOwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uID0gMjsKICAgICAgICAgICAgICByZXR1cm4gKDAsIF9haWdjLnNhdmVVc2VyQ2hhdERhdGEpKHsKICAgICAgICAgICAgICAgIHVzZXJJZDogX3RoaXM4LnVzZXJJZCwKICAgICAgICAgICAgICAgIHVzZXJQcm9tcHQ6IF90aGlzOC5wcm9tcHRJbnB1dCwKICAgICAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KGhpc3RvcnlEYXRhKSwKICAgICAgICAgICAgICAgIGNoYXRJZDogX3RoaXM4LmNoYXRJZCwKICAgICAgICAgICAgICAgIHRvbmVDaGF0SWQ6IF90aGlzOC51c2VySW5mb1JlcS50b25lQ2hhdElkLAogICAgICAgICAgICAgICAgeWJEc0NoYXRJZDogX3RoaXM4LnVzZXJJbmZvUmVxLnliRHNDaGF0SWQsCiAgICAgICAgICAgICAgICBkYkNoYXRJZDogX3RoaXM4LnVzZXJJbmZvUmVxLmRiQ2hhdElkLAogICAgICAgICAgICAgICAgemhDaGF0SWQ6IF90aGlzOC51c2VySW5mb1JlcS56aENoYXRJZCwKICAgICAgICAgICAgICAgIG1heENoYXRJZDogX3RoaXM4LnVzZXJJbmZvUmVxLm1heENoYXRJZAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgX2NvbnRleHQyLm4gPSA0OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgX2NvbnRleHQyLnAgPSAzOwogICAgICAgICAgICAgIF90MiA9IF9jb250ZXh0Mi52OwogICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIuS/neWtmOWOhuWPsuiusOW9leWksei0pToiLCBfdDIpOwogICAgICAgICAgICAgIF90aGlzOC4kbWVzc2FnZS5lcnJvcigi5L+d5a2Y5Y6G5Y+y6K6w5b2V5aSx6LSlIik7CiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmEoMik7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIG51bGwsIFtbMSwgM11dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g5L+u5pS55oqY5Y+g5YiH5o2i5pa55rOVCiAgICB0b2dnbGVIaXN0b3J5RXhwYW5zaW9uOiBmdW5jdGlvbiB0b2dnbGVIaXN0b3J5RXhwYW5zaW9uKGl0ZW0pIHsKICAgICAgdGhpcy4kc2V0KHRoaXMuZXhwYW5kZWRIaXN0b3J5SXRlbXMsIGl0ZW0uY2hhdElkLCAhdGhpcy5leHBhbmRlZEhpc3RvcnlJdGVtc1tpdGVtLmNoYXRJZF0pOwogICAgfSwKICAgIC8vIOWIm+W7uuaWsOWvueivnQogICAgY3JlYXRlTmV3Q2hhdDogZnVuY3Rpb24gY3JlYXRlTmV3Q2hhdCgpIHsKICAgICAgLy8g6YeN572u5omA5pyJ5pWw5o2uCiAgICAgIHRoaXMuY2hhdElkID0gKDAsIF91dWlkLnY0KSgpOwogICAgICB0aGlzLmlzTmV3Q2hhdCA9IHRydWU7CiAgICAgIHRoaXMucHJvbXB0SW5wdXQgPSAiIjsKICAgICAgdGhpcy50YXNrU3RhcnRlZCA9IGZhbHNlOwogICAgICB0aGlzLnNjcmVlbnNob3RzID0gW107CiAgICAgIHRoaXMucmVzdWx0cyA9IFtdOwogICAgICB0aGlzLmVuYWJsZWRBSXMgPSBbXTsKICAgICAgdGhpcy51c2VySW5mb1JlcSA9IHsKICAgICAgICB1c2VyUHJvbXB0OiAiIiwKICAgICAgICB1c2VySWQ6IHRoaXMudXNlcklkLAogICAgICAgIGNvcnBJZDogdGhpcy5jb3JwSWQsCiAgICAgICAgdGFza0lkOiAnJywKICAgICAgICByb2xlczogJycsCiAgICAgICAgdG9uZUNoYXRJZDogJycsCiAgICAgICAgeWJEc0NoYXRJZDogJycsCiAgICAgICAgZGJDaGF0SWQ6ICcnLAogICAgICAgIHpoQ2hhdElkOiAnJywKICAgICAgICBtYXhDaGF0SWQ6ICcnLAogICAgICAgIGlzTmV3Q2hhdDogdHJ1ZQogICAgICB9OwogICAgICAvLyDph43nva5BSeWIl+ihqOS4uuWIneWni+eKtuaAgQogICAgICB0aGlzLmFpTGlzdCA9IFt7CiAgICAgICAgbmFtZTogJ0RlZXBTZWVrJywKICAgICAgICBhdmF0YXI6IHJlcXVpcmUoJy4uLy4uLy4uL2Fzc2V0cy9sb2dvL0RlZXBzZWVrLnBuZycpLAogICAgICAgIGNhcGFiaWxpdGllczogW3sKICAgICAgICAgIGxhYmVsOiAi5rex5bqm5oCd6ICDIiwKICAgICAgICAgIHZhbHVlOiAiZGVlcF90aGlua2luZyIKICAgICAgICB9LCB7CiAgICAgICAgICBsYWJlbDogIuiBlOe9keaQnOe0oiIsCiAgICAgICAgICB2YWx1ZTogIndlYl9zZWFyY2giCiAgICAgICAgfV0sCiAgICAgICAgc2VsZWN0ZWRDYXBhYmlsaXRpZXM6IFsnZGVlcF90aGlua2luZycsICd3ZWJfc2VhcmNoJ10sCiAgICAgICAgZW5hYmxlZDogdHJ1ZSwKICAgICAgICBzdGF0dXM6ICJpZGxlIiwKICAgICAgICBwcm9ncmVzc0xvZ3M6IFtdLAogICAgICAgIGlzRXhwYW5kZWQ6IHRydWUKICAgICAgfSwgewogICAgICAgIG5hbWU6ICfnn6XkuY7nm7TnrZQnLAogICAgICAgIGF2YXRhcjogcmVxdWlyZSgnLi4vLi4vLi4vYXNzZXRzL2FpL3poaWh1LnBuZycpLAogICAgICAgIGNhcGFiaWxpdGllczogW3sKICAgICAgICAgIGxhYmVsOiAn5rex5bqm5oCd6ICDJywKICAgICAgICAgIHZhbHVlOiAnZGVlcF90aGlua2luZycKICAgICAgICB9XSwKICAgICAgICBzZWxlY3RlZENhcGFiaWxpdGllczogWydkZWVwX3RoaW5raW5nJ10sCiAgICAgICAgZW5hYmxlZDogdHJ1ZSwKICAgICAgICBzdGF0dXM6ICdpZGxlJywKICAgICAgICBwcm9ncmVzc0xvZ3M6IFtdLAogICAgICAgIGlzRXhwYW5kZWQ6IHRydWUKICAgICAgfSwgewogICAgICAgIG5hbWU6ICJNaW5pTWF4IENoYXQiLAogICAgICAgIGF2YXRhcjogcmVxdWlyZSgiLi4vLi4vLi4vYXNzZXRzL2FpL01pbmlNYXgucG5nIiksCiAgICAgICAgY2FwYWJpbGl0aWVzOiBbewogICAgICAgICAgbGFiZWw6ICLmt7HluqbmgJ3ogIMiLAogICAgICAgICAgdmFsdWU6ICJkZWVwX3RoaW5raW5nIgogICAgICAgIH0sIHsKICAgICAgICAgIGxhYmVsOiAi6IGU572RIiwKICAgICAgICAgIHZhbHVlOiAid2ViX3NlYXJjaCIKICAgICAgICB9XSwKICAgICAgICBzZWxlY3RlZENhcGFiaWxpdGllczogWyJkZWVwX3RoaW5raW5nIiwgIndlYl9zZWFyY2giXSwKICAgICAgICBlbmFibGVkOiB0cnVlLAogICAgICAgIHN0YXR1czogImlkbGUiLAogICAgICAgIHByb2dyZXNzTG9nczogW10sCiAgICAgICAgaXNFeHBhbmRlZDogdHJ1ZQogICAgICB9LCB7CiAgICAgICAgbmFtZTogJ+ixhuWMhScsCiAgICAgICAgYXZhdGFyOiByZXF1aXJlKCcuLi8uLi8uLi9hc3NldHMvYWkv6LGG5YyFLnBuZycpLAogICAgICAgIGNhcGFiaWxpdGllczogW3sKICAgICAgICAgIGxhYmVsOiAn5rex5bqm5oCd6ICDJywKICAgICAgICAgIHZhbHVlOiAnZGVlcF90aGlua2luZycKICAgICAgICB9XSwKICAgICAgICBzZWxlY3RlZENhcGFiaWxpdGllczogWydkZWVwX3RoaW5raW5nJ10sCiAgICAgICAgZW5hYmxlZDogdHJ1ZSwKICAgICAgICBzdGF0dXM6ICdpZGxlJywKICAgICAgICBwcm9ncmVzc0xvZ3M6IFtdLAogICAgICAgIGlzRXhwYW5kZWQ6IHRydWUKICAgICAgfV07CiAgICAgIC8vIOWxleW8gOebuOWFs+WMuuWfnwogICAgICB0aGlzLmFjdGl2ZUNvbGxhcHNlcyA9IFsiYWktc2VsZWN0aW9uIiwgInByb21wdC1pbnB1dCJdOwogICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIuW3suWIm+W7uuaWsOWvueivnSIpOwogICAgfSwKICAgIC8vIOWKoOi9veS4iuasoeS8muivnQogICAgbG9hZExhc3RDaGF0OiBmdW5jdGlvbiBsb2FkTGFzdENoYXQoKSB7CiAgICAgIHZhciBfdGhpczkgPSB0aGlzOwogICAgICByZXR1cm4gKDAsIF9hc3luY1RvR2VuZXJhdG9yMi5kZWZhdWx0KSgvKiNfX1BVUkVfXyovKDAsIF9yZWdlbmVyYXRvcjIuZGVmYXVsdCkoKS5tKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciByZXMsIGxhc3RDaGF0LCBfdDM7CiAgICAgICAgcmV0dXJuICgwLCBfcmVnZW5lcmF0b3IyLmRlZmF1bHQpKCkudyhmdW5jdGlvbiAoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDMucCA9IF9jb250ZXh0My5uKSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dDMucCA9IDA7CiAgICAgICAgICAgICAgX2NvbnRleHQzLm4gPSAxOwogICAgICAgICAgICAgIHJldHVybiAoMCwgX2FpZ2MuZ2V0Q2hhdEhpc3RvcnkpKF90aGlzOS51c2VySWQsIDApOwogICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQzLnY7CiAgICAgICAgICAgICAgaWYgKHJlcy5jb2RlID09PSAyMDAgJiYgcmVzLmRhdGEgJiYgcmVzLmRhdGEubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgLy8g6I635Y+W5pyA5paw55qE5Lya6K+d6K6w5b2VCiAgICAgICAgICAgICAgICBsYXN0Q2hhdCA9IHJlcy5kYXRhWzBdOwogICAgICAgICAgICAgICAgX3RoaXM5LmxvYWRIaXN0b3J5SXRlbShsYXN0Q2hhdCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIF9jb250ZXh0My5uID0gMzsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIF9jb250ZXh0My5wID0gMjsKICAgICAgICAgICAgICBfdDMgPSBfY29udGV4dDMudjsKICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCLliqDovb3kuIrmrKHkvJror53lpLHotKU6IiwgX3QzKTsKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYSgyKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMywgbnVsbCwgW1swLCAyXV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDliKTmlq3mmK/lkKbkuLrlm77niYfmlofku7YKICAgIGlzSW1hZ2VGaWxlOiBmdW5jdGlvbiBpc0ltYWdlRmlsZSh1cmwpIHsKICAgICAgaWYgKCF1cmwpIHJldHVybiBmYWxzZTsKICAgICAgdmFyIGltYWdlRXh0ZW5zaW9ucyA9IFsiLmpwZyIsICIuanBlZyIsICIucG5nIiwgIi5naWYiLCAiLmJtcCIsICIud2VicCIsICIuc3ZnIl07CiAgICAgIHZhciB1cmxMb3dlciA9IHVybC50b0xvd2VyQ2FzZSgpOwogICAgICByZXR1cm4gaW1hZ2VFeHRlbnNpb25zLnNvbWUoZnVuY3Rpb24gKGV4dCkgewogICAgICAgIHJldHVybiB1cmxMb3dlci5pbmNsdWRlcyhleHQpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDliKTmlq3mmK/lkKbkuLpQREbmlofku7YKICAgIGlzUGRmRmlsZTogZnVuY3Rpb24gaXNQZGZGaWxlKHVybCkgewogICAgICBpZiAoIXVybCkgcmV0dXJuIGZhbHNlOwogICAgICByZXR1cm4gdXJsLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoIi5wZGYiKTsKICAgIH0sCiAgICAvLyDmoLnmja5BSeWQjeensOiOt+WPluWbvueJh+agt+W8jwogICAgZ2V0SW1hZ2VTdHlsZTogZnVuY3Rpb24gZ2V0SW1hZ2VTdHlsZShhaU5hbWUpIHsKICAgICAgdmFyIHdpZHRoTWFwID0gewogICAgICAgIERlZXBTZWVrOiAiNzAwcHgiLAogICAgICAgIOixhuWMhTogIjU2MHB4IgogICAgICB9OwogICAgICB2YXIgd2lkdGggPSB3aWR0aE1hcFthaU5hbWVdIHx8ICI1NjBweCI7IC8vIOm7mOiupOWuveW6pgoKICAgICAgcmV0dXJuIHsKICAgICAgICB3aWR0aDogd2lkdGgsCiAgICAgICAgaGVpZ2h0OiAiYXV0byIKICAgICAgfTsKICAgIH0sCiAgICAvLyDmipXpgJLliLDlhazkvJflj7cKICAgIGhhbmRsZVB1c2hUb1dlY2hhdDogZnVuY3Rpb24gaGFuZGxlUHVzaFRvV2VjaGF0KHJlc3VsdCkgewogICAgICB0aGlzLnNob3dMYXlvdXREaWFsb2cocmVzdWx0KTsKICAgIH0sCiAgICAvLyDmmL7npLrmmbrog73mjpLniYjlr7nor53moYYKICAgIHNob3dMYXlvdXREaWFsb2c6IGZ1bmN0aW9uIHNob3dMYXlvdXREaWFsb2cocmVzdWx0KSB7CiAgICAgIHRoaXMuY3VycmVudExheW91dFJlc3VsdCA9IHJlc3VsdDsKICAgICAgdGhpcy5sYXlvdXRQcm9tcHQgPSAiXHU4QkY3XHU0RjYwXHU1QkY5XHU0RUU1XHU0RTBCIEhUTUwgXHU1MTg1XHU1QkI5XHU4RkRCXHU4ODRDXHU2MzkyXHU3MjQ4XHU0RjE4XHU1MzE2XHVGRjBDXHU3NkVFXHU2ODA3XHU2NjJGXHU3NTI4XHU0RThFXHU1RkFFXHU0RkUxXHU1MTZDXHU0RjE3XHU1M0Y3XCJcdTgzNDlcdTdBM0ZcdTdCQjFcdTYzQTVcdTUzRTNcIlx1NzY4NCBjb250ZW50IFx1NUI1N1x1NkJCNVx1RkYwQ1x1ODk4MVx1NkM0Mlx1NTk4Mlx1NEUwQlx1RkYxQVxuXG4xLiBcdTRFQzVcdThGRDRcdTU2REUgPGJvZHk+IFx1NTE4NVx1OTBFOFx1NTNFRlx1NzUyOFx1NzY4NCBIVE1MIFx1NTE4NVx1NUJCOVx1NzI0N1x1NkJCNVx1RkYwOFx1NEUwRFx1ODk4MVx1NTMwNVx1NTQyQiA8IURPQ1RZUEU+XHUzMDAxPGh0bWw+XHUzMDAxPGhlYWQ+XHUzMDAxPG1ldGE+XHUzMDAxPHRpdGxlPiBcdTdCNDlcdTY4MDdcdTdCN0VcdUZGMDlcdTMwMDJcbjIuIFx1NjI0MFx1NjcwOVx1NjgzN1x1NUYwRlx1NUZDNVx1OTg3Qlx1NEVFNVwiXHU1MTg1XHU4MDU0IHN0eWxlXCJcdTY1QjlcdTVGMEZcdTUxOTlcdTUxNjVcdTMwMDJcbjMuIFx1NEZERFx1NjMwMVx1N0VEM1x1Njc4NFx1NkUwNVx1NjY3MFx1MzAwMVx1ODlDNlx1ODlDOVx1NTNDQlx1NTk3RFx1RkYwQ1x1OTAwMlx1OTE0RFx1NTE2Q1x1NEYxN1x1NTNGN1x1NTZGRVx1NjU4N1x1NjM5Mlx1NzI0OFx1MzAwMlxuNC4gXHU4QkY3XHU3NkY0XHU2M0E1XHU4RjkzXHU1MUZBXHU0RUUzXHU3ODAxXHVGRjBDXHU0RTBEXHU4OTgxXHU2REZCXHU1MkEwXHU0RUZCXHU0RjU1XHU2Q0U4XHU5MUNBXHU2MjE2XHU5ODlEXHU1OTE2XHU4QkY0XHU2NjBFXHUzMDAyXG41LiBcdTRFMERcdTVGOTdcdTRGN0ZcdTc1MjggZW1vamkgXHU4ODY4XHU2MEM1XHU3QjI2XHU1M0Y3XHU2MjE2XHU1QzBGXHU1NkZFXHU2ODA3XHU1QjU3XHU3QjI2XHUzMDAyXG42LiBcdTRFMERcdTg5ODFcdTY2M0VcdTc5M0FcdTRFM0FcdTk1RUVcdTdCNTRcdTVGNjJcdTVGMEZcdUZGMENcdTRFRTVcdTRFMDBcdTdCQzdcdTY1ODdcdTdBRTBcdTc2ODRcdTY4M0NcdTVGMEZcdTUzQkJcdThDMDNcdTY1NzQgXG5cblx1NEVFNVx1NEUwQlx1NEUzQVx1OTcwMFx1ODk4MVx1OEZEQlx1ODg0Q1x1NjM5Mlx1NzI0OFx1NEYxOFx1NTMxNlx1NzY4NFx1NTE4NVx1NUJCOVx1RkYxQVxuIiArIHJlc3VsdC5jb250ZW50OwogICAgICB0aGlzLmxheW91dERpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgfSwKICAgIC8vIOWkhOeQhuaZuuiDveaOkueJiAogICAgaGFuZGxlTGF5b3V0OiBmdW5jdGlvbiBoYW5kbGVMYXlvdXQoKSB7CiAgICAgIGlmICghdGhpcy5jYW5MYXlvdXQgfHwgIXRoaXMuY3VycmVudExheW91dFJlc3VsdCkgcmV0dXJuOwoKICAgICAgLy8g5p6E5bu65o6S54mI6K+35rGCCiAgICAgIHZhciBsYXlvdXRSZXF1ZXN0ID0gewogICAgICAgIGpzb25ycGM6ICIyLjAiLAogICAgICAgIGlkOiAoMCwgX3V1aWQudjQpKCksCiAgICAgICAgbWV0aG9kOiAiQUnmjpLniYgiLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgdGFza0lkOiAoMCwgX3V1aWQudjQpKCksCiAgICAgICAgICB1c2VySWQ6IHRoaXMudXNlcklkLAogICAgICAgICAgY29ycElkOiB0aGlzLmNvcnBJZCwKICAgICAgICAgIHVzZXJQcm9tcHQ6IHRoaXMubGF5b3V0UHJvbXB0LAogICAgICAgICAgcm9sZXM6ICIiIC8vIOm7mOiupOS9v+eUqOixhuWMhei/m+ihjOaOkueJiAogICAgICAgIH0KICAgICAgfTsKCiAgICAgIC8vIOWPkemAgeaOkueJiOivt+axggogICAgICBjb25zb2xlLmxvZygi5o6S54mI5Y+C5pWwIiwgbGF5b3V0UmVxdWVzdCk7CiAgICAgIHRoaXMubWVzc2FnZShsYXlvdXRSZXF1ZXN0KTsKICAgICAgdGhpcy5sYXlvdXREaWFsb2dWaXNpYmxlID0gZmFsc2U7CgogICAgICAvLyDliJvlu7rmmbrog73mjpLniYhBSeiKgueCuQogICAgICB2YXIgem5wYkFJID0gewogICAgICAgIG5hbWU6ICLmmbrog73mjpLniYgiLAogICAgICAgIGF2YXRhcjogcmVxdWlyZSgiLi4vLi4vLi4vYXNzZXRzL2FpL3l1YW5iYW8ucG5nIiksCiAgICAgICAgY2FwYWJpbGl0aWVzOiBbXSwKICAgICAgICBzZWxlY3RlZENhcGFiaWxpdGllczogW10sCiAgICAgICAgZW5hYmxlZDogdHJ1ZSwKICAgICAgICBzdGF0dXM6ICJydW5uaW5nIiwKICAgICAgICBwcm9ncmVzc0xvZ3M6IFt7CiAgICAgICAgICBjb250ZW50OiAi5pm66IO95o6S54mI5Lu75Yqh5bey5o+Q5Lqk77yM5q2j5Zyo5o6S54mILi4uIiwKICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSwKICAgICAgICAgIGlzQ29tcGxldGVkOiBmYWxzZSwKICAgICAgICAgIHR5cGU6ICLmmbrog73mjpLniYgiCiAgICAgICAgfV0sCiAgICAgICAgaXNFeHBhbmRlZDogdHJ1ZQogICAgICB9OwoKICAgICAgLy8g5qOA5p+l5piv5ZCm5bey5a2Y5Zyo5pm66IO95o6S54mICiAgICAgIHZhciBleGlzdEluZGV4ID0gdGhpcy5lbmFibGVkQUlzLmZpbmRJbmRleChmdW5jdGlvbiAoYWkpIHsKICAgICAgICByZXR1cm4gYWkubmFtZSA9PT0gIuaZuuiDveaOkueJiCI7CiAgICAgIH0pOwogICAgICBpZiAoZXhpc3RJbmRleCA9PT0gLTEpIHsKICAgICAgICAvLyDlpoLmnpzkuI3lrZjlnKjvvIzmt7vliqDliLDmlbDnu4TlvIDlpLQKICAgICAgICB0aGlzLmVuYWJsZWRBSXMudW5zaGlmdCh6bnBiQUkpOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIOWmguaenOW3suWtmOWcqO+8jOabtOaWsOeKtuaAgeWSjOaXpeW/lwogICAgICAgIHRoaXMuZW5hYmxlZEFJc1tleGlzdEluZGV4XSA9IHpucGJBSTsKICAgICAgICAvLyDlsIbmmbrog73mjpLniYjnp7vliLDmlbDnu4TlvIDlpLQKICAgICAgICB2YXIgem5wYiA9IHRoaXMuZW5hYmxlZEFJcy5zcGxpY2UoZXhpc3RJbmRleCwgMSlbMF07CiAgICAgICAgdGhpcy5lbmFibGVkQUlzLnVuc2hpZnQoem5wYik7CiAgICAgIH0KICAgICAgdGhpcy4kZm9yY2VVcGRhdGUoKTsKICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLmjpLniYjor7fmsYLlt7Llj5HpgIHvvIzor7fnrYnlvoXnu5PmnpwiKTsKICAgIH0sCiAgICAvLyDlrp7pmYXmipXpgJLliLDlhazkvJflj7cKICAgIHB1c2hUb1dlY2hhdFdpdGhDb250ZW50OiBmdW5jdGlvbiBwdXNoVG9XZWNoYXRXaXRoQ29udGVudChjb250ZW50VGV4dCkgewogICAgICB2YXIgX3RoaXMwID0gdGhpczsKICAgICAgaWYgKHRoaXMucHVzaGluZ1RvV2VjaGF0KSByZXR1cm47CiAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi5byA5aeL5oqV6YCS5YWs5LyX5Y+377yBIik7CiAgICAgIHRoaXMucHVzaGluZ1RvV2VjaGF0ID0gdHJ1ZTsKICAgICAgdGhpcy5wdXNoT2ZmaWNlTnVtICs9IDE7CiAgICAgIHZhciBwYXJhbXMgPSB7CiAgICAgICAgY29udGVudFRleHQ6IGNvbnRlbnRUZXh0LAogICAgICAgIHNoYXJlVXJsOiB0aGlzLmN1cnJlbnRMYXlvdXRSZXN1bHQuc2hhcmVVcmwsCiAgICAgICAgdXNlcklkOiB0aGlzLnVzZXJJZCwKICAgICAgICBudW06IHRoaXMucHVzaE9mZmljZU51bSwKICAgICAgICBhaU5hbWU6IHRoaXMuY3VycmVudExheW91dFJlc3VsdC5haU5hbWUKICAgICAgfTsKICAgICAgKDAsIF9haWdjLnB1c2hBdXRvT2ZmaWNlKShwYXJhbXMpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICBfdGhpczAuJG1lc3NhZ2Uuc3VjY2Vzcygi5oqV6YCS5Yiw5YWs5LyX5Y+35oiQ5Yqf77yBIik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzMC4kbWVzc2FnZS5lcnJvcihyZXMubXNnIHx8ICLmipXpgJLlpLHotKXvvIzor7fph43or5UiKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoIuaKlemAkuWIsOWFrOS8l+WPt+Wksei0pToiLCBlcnJvcik7CiAgICAgICAgX3RoaXMwLiRtZXNzYWdlLmVycm9yKCLmipXpgJLlpLHotKXvvIzor7fph43or5UiKTsKICAgICAgfSkuZmluYWxseShmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMwLnB1c2hpbmdUb1dlY2hhdCA9IGZhbHNlOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"names":["_marked","require","_aigc","_uuid","_websocket","_interopRequireDefault","_store","_turndown","name","data","userId","store","state","user","id","corpId","corp_id","chatId","uuidv4","expandedHistoryItems","userInfoReq","userPrompt","taskId","roles","toneChatId","ybDsChatId","dbChatId","zhChatId","isNewChat","jsonRpcReqest","jsonrpc","method","params","aiList","avatar","capabilities","label","value","selectedCapabilities","enabled","status","progressLogs","isExpanded","promptInput","taskStarted","autoPlay","screenshots","results","activeResultTab","activeCollapses","showImageDialog","currentLargeImage","enabledAIs","turndownService","TurndownService","headingStyle","codeBlockStyle","emDelimiter","scoreDialogVisible","selectedResults","scorePrompt","layoutDialogVisible","layoutPrompt","currentLayoutResult","historyDrawerVisible","chatHistory","pushOfficeNum","pushingToWechat","computed","canSend","trim","length","some","ai","canScore","canLayout","groupedHistory","_this","groups","chatGroups","forEach","item","push","Object","values","chatGroup","sort","a","b","Date","createTime","parentItem","date","getHistoryDate","_objectSpread2","default","isParent","children","slice","map","child","created","console","log","initWebSocket","loadChatHistory","loadLastChat","methods","sendPrompt","_this2","filter","$set","includes","message","then","res","code","uni","showToast","title","messages","icon","duration","toggleCapability","capabilityValue","index","indexOf","newCapabilities","_toConsumableArray2","splice","$forceUpdate","getStatusText","getStatusIcon","renderMarkdown","text","marked","htmlToText","html","tempDiv","document","createElement","innerHTML","textContent","innerText","htmlToMarkdown","turndown","copyResult","content","plainText","textarea","body","appendChild","select","execCommand","removeChild","$message","success","exportResult","result","markdown","blob","Blob","type","link","href","URL","createObjectURL","download","concat","aiName","toISOString","click","revokeObjectURL","openShareUrl","shareUrl","window","open","warning","showLargeImage","imageUrl","_this3","currentIndex","$nextTick","carousel","$el","querySelector","__vue__","setActiveItem","closeLargeImage","_this4","wsUrl","process","env","VUE_APP_WS_API","websocketClient","connect","event","handleWebSocketMessage","error","datastr","dataObj","JSON","parse","maxChatId","targetAI","find","unshift","timestamp","isCompleted","url","wkpfAI","draftContent","shareImgUrl","saveHistory","znpbAI","pushToWechatWithContent","resultIndex","findIndex","r","closeWebSocket","close","sendMessage","_this5","send","scrollToBottom","toggleAIExpansion","formatTime","toLocaleTimeString","hour","minute","second","hour12","showScoreDialog","handleScore","_this6","selectedContents","plainContent","join","fullPrompt","scoreRequest","existIndex","wkpf","showHistoryDrawer","handleHistoryDrawerClose","isAll","_this7","_asyncToGenerator2","_regenerator2","m","_callee","_t","w","_context","p","n","getChatHistory","v","formatHistoryTime","today","yesterday","setDate","getDate","twoDaysAgo","threeDaysAgo","toDateString","toLocaleDateString","year","month","day","loadHistoryItem","historyData","updatedAiList","_this8","_callee2","_t2","_context2","saveUserChatData","stringify","toggleHistoryExpansion","createNewChat","_this9","_callee3","lastChat","_t3","_context3","isImageFile","imageExtensions","urlLower","toLowerCase","ext","isPdfFile","getImageStyle","widthMap","DeepSeek","豆包","width","height","handlePushToWechat","showLayoutDialog","handleLayout","layoutRequest","znpb","contentText","_this0","num","pushAutoOffice","msg","catch","finally"],"sources":["src/views/wechat/chrome/index.vue"],"sourcesContent":["<template>\r\n  <div class=\"ai-management-platform\">\r\n    <!-- 顶部导航区 -->\r\n    <div class=\"top-nav\">\r\n      <div class=\"logo-area\">\r\n        <img src=\"../../../assets/ai/logo.png\" alt=\"Logo\" class=\"logo\" />\r\n        <h1 class=\"platform-title\">主机</h1>\r\n      </div>\r\n      <div class=\"nav-buttons\">\r\n        <el-button type=\"primary\" size=\"small\" @click=\"createNewChat\">\r\n          <i class=\"el-icon-plus\"></i>\r\n          创建新对话\r\n        </el-button>\r\n        <div class=\"history-button\">\r\n          <el-button type=\"text\" @click=\"showHistoryDrawer\">\r\n            <img\r\n              :src=\"require('../../../assets/ai/celan.png')\"\r\n              alt=\"历史记录\"\r\n              class=\"history-icon\"\r\n            />\r\n          </el-button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 历史记录抽屉 -->\r\n    <el-drawer\r\n      title=\"历史会话记录\"\r\n      :visible.sync=\"historyDrawerVisible\"\r\n      direction=\"rtl\"\r\n      size=\"30%\"\r\n      :before-close=\"handleHistoryDrawerClose\"\r\n    >\r\n      <div class=\"history-content\">\r\n        <div\r\n          v-for=\"(group, date) in groupedHistory\"\r\n          :key=\"date\"\r\n          class=\"history-group\"\r\n        >\r\n          <div class=\"history-date\">{{ date }}</div>\r\n          <div class=\"history-list\">\r\n            <div\r\n              v-for=\"(item, index) in group\"\r\n              :key=\"index\"\r\n              class=\"history-item\"\r\n            >\r\n              <div class=\"history-parent\" @click=\"loadHistoryItem(item)\">\r\n                <div class=\"history-header\">\r\n                  <i\r\n                    :class=\"[\r\n                      'el-icon-arrow-right',\r\n                      { 'is-expanded': item.isExpanded },\r\n                    ]\"\r\n                    @click.stop=\"toggleHistoryExpansion(item)\"\r\n                  ></i>\r\n                  <div class=\"history-prompt\">{{ item.userPrompt }}</div>\r\n                </div>\r\n                <div class=\"history-time\">\r\n                  {{ formatHistoryTime(item.createTime) }}\r\n                </div>\r\n              </div>\r\n              <div\r\n                v-if=\"\r\n                  item.children && item.children.length > 0 && item.isExpanded\r\n                \"\r\n                class=\"history-children\"\r\n              >\r\n                <div\r\n                  v-for=\"(child, childIndex) in item.children\"\r\n                  :key=\"childIndex\"\r\n                  class=\"history-child-item\"\r\n                  @click=\"loadHistoryItem(child)\"\r\n                >\r\n                  <div class=\"history-prompt\">{{ child.userPrompt }}</div>\r\n                  <div class=\"history-time\">\r\n                    {{ formatHistoryTime(child.createTime) }}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </el-drawer>\r\n\r\n    <div class=\"main-content\">\r\n      <el-collapse v-model=\"activeCollapses\">\r\n        <el-collapse-item title=\"AI选择配置\" name=\"ai-selection\">\r\n          <div class=\"ai-selection-section\">\r\n            <div class=\"ai-cards\">\r\n              <el-card\r\n                v-for=\"(ai, index) in aiList\"\r\n                :key=\"index\"\r\n                class=\"ai-card\"\r\n                shadow=\"hover\"\r\n              >\r\n                <div class=\"ai-card-header\">\r\n                  <div class=\"ai-left\">\r\n                    <div class=\"ai-avatar\">\r\n                      <img :src=\"ai.avatar\" alt=\"AI头像\" />\r\n                    </div>\r\n                    <div class=\"ai-name\">{{ ai.name }}</div>\r\n                  </div>\r\n                  <div class=\"ai-status\">\r\n                    <el-switch\r\n                      v-model=\"ai.enabled\"\r\n                      active-color=\"#13ce66\"\r\n                      inactive-color=\"#ff4949\"\r\n                    >\r\n                    </el-switch>\r\n                  </div>\r\n                </div>\r\n                <div\r\n                  class=\"ai-capabilities\"\r\n                  v-if=\"ai.capabilities && ai.capabilities.length > 0\"\r\n                >\r\n                  <div class=\"button-capability-group\">\r\n                    <el-button\r\n                      v-for=\"capability in ai.capabilities\"\r\n                      :key=\"capability.value\"\r\n                      size=\"mini\"\r\n                      :type=\"\r\n                        ai.selectedCapabilities.includes(capability.value)\r\n                          ? 'primary'\r\n                          : 'info'\r\n                      \"\r\n                      :disabled=\"!ai.enabled\"\r\n                      :plain=\"\r\n                        !ai.selectedCapabilities.includes(capability.value)\r\n                      \"\r\n                      @click=\"toggleCapability(ai, capability.value)\"\r\n                      class=\"capability-button\"\r\n                    >\r\n                      {{ capability.label }}\r\n                    </el-button>\r\n                  </div>\r\n                </div>\r\n              </el-card>\r\n            </div>\r\n          </div>\r\n        </el-collapse-item>\r\n\r\n        <!-- 提示词输入区 -->\r\n        <el-collapse-item title=\"提示词输入\" name=\"prompt-input\">\r\n          <div class=\"prompt-input-section\">\r\n            <el-input\r\n              type=\"textarea\"\r\n              :rows=\"5\"\r\n              placeholder=\"请输入提示词，支持Markdown格式\"\r\n              v-model=\"promptInput\"\r\n              resize=\"none\"\r\n              class=\"prompt-input\"\r\n            >\r\n            </el-input>\r\n            <div class=\"prompt-footer\">\r\n              <div class=\"word-count\">字数统计: {{ promptInput.length }}</div>\r\n              <el-button\r\n                type=\"primary\"\r\n                @click=\"sendPrompt\"\r\n                :disabled=\"!canSend\"\r\n                class=\"send-button\"\r\n              >\r\n                发送\r\n              </el-button>\r\n            </div>\r\n          </div>\r\n        </el-collapse-item>\r\n      </el-collapse>\r\n\r\n      <!-- 执行状态展示区 -->\r\n      <div class=\"execution-status-section\" v-if=\"taskStarted\">\r\n        <el-row :gutter=\"20\">\r\n          <el-col :span=\"12\">\r\n            <el-card class=\"task-flow-card\">\r\n              <div slot=\"header\" class=\"card-header\">\r\n                <span>任务流程</span>\r\n              </div>\r\n              <div class=\"task-flow\">\r\n                <div\r\n                  v-for=\"(ai, index) in enabledAIs\"\r\n                  :key=\"index\"\r\n                  class=\"task-item\"\r\n                >\r\n                  <div class=\"task-header\" @click=\"toggleAIExpansion(ai)\">\r\n                    <div class=\"header-left\">\r\n                      <i\r\n                        :class=\"[\r\n                          'el-icon-arrow-right',\r\n                          { 'is-expanded': ai.isExpanded },\r\n                        ]\"\r\n                      ></i>\r\n                      <span class=\"ai-name\">{{ ai.name }}</span>\r\n                    </div>\r\n                    <div class=\"header-right\">\r\n                      <span class=\"status-text\">{{\r\n                        getStatusText(ai.status)\r\n                      }}</span>\r\n                      <i\r\n                        :class=\"getStatusIcon(ai.status)\"\r\n                        class=\"status-icon\"\r\n                      ></i>\r\n                    </div>\r\n                  </div>\r\n                  <!-- 添加进度轨迹 -->\r\n                  <div\r\n                    class=\"progress-timeline\"\r\n                    v-if=\"ai.progressLogs.length > 0 && ai.isExpanded\"\r\n                  >\r\n                    <div class=\"timeline-scroll\">\r\n                      <div\r\n                        v-for=\"(log, logIndex) in ai.progressLogs\"\r\n                        :key=\"logIndex\"\r\n                        class=\"progress-item\"\r\n                        :class=\"{\r\n                          completed: log.isCompleted || logIndex > 0,\r\n                          current: !log.isCompleted && logIndex === 0,\r\n                        }\"\r\n                      >\r\n                        <div class=\"progress-dot\"></div>\r\n                        <div\r\n                          class=\"progress-line\"\r\n                          v-if=\"logIndex < ai.progressLogs.length - 1\"\r\n                        ></div>\r\n                        <div class=\"progress-content\">\r\n                          <div class=\"progress-time\">\r\n                            {{ formatTime(log.timestamp) }}\r\n                          </div>\r\n                          <div class=\"progress-text\">{{ log.content }}</div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </el-card>\r\n          </el-col>\r\n          <el-col :span=\"12\">\r\n            <el-card class=\"screenshots-card\">\r\n              <div slot=\"header\" class=\"card-header\">\r\n                <span>主机可视化</span>\r\n                <div class=\"controls\">\r\n                  <el-switch\r\n                    v-model=\"autoPlay\"\r\n                    active-text=\"自动轮播\"\r\n                    inactive-text=\"手动切换\"\r\n                  >\r\n                  </el-switch>\r\n                </div>\r\n              </div>\r\n              <div class=\"screenshots\">\r\n                <el-carousel\r\n                  :interval=\"3000\"\r\n                  :autoplay=\"false\"\r\n                  indicator-position=\"outside\"\r\n                  height=\"700px\"\r\n                >\r\n                  <el-carousel-item\r\n                    v-for=\"(screenshot, index) in screenshots\"\r\n                    :key=\"index\"\r\n                  >\r\n                    <img\r\n                      :src=\"screenshot\"\r\n                      alt=\"执行截图\"\r\n                      class=\"screenshot-image\"\r\n                      @click=\"showLargeImage(screenshot)\"\r\n                    />\r\n                  </el-carousel-item>\r\n                </el-carousel>\r\n              </div>\r\n            </el-card>\r\n          </el-col>\r\n        </el-row>\r\n      </div>\r\n\r\n      <!-- 结果展示区 -->\r\n      <div class=\"results-section\" v-if=\"results.length > 0\">\r\n        <div class=\"section-header\">\r\n          <h2 class=\"section-title\">执行结果</h2>\r\n          <el-button type=\"primary\" @click=\"showScoreDialog\" size=\"small\">\r\n            智能评分\r\n          </el-button>\r\n        </div>\r\n        <el-tabs v-model=\"activeResultTab\" type=\"card\">\r\n          <el-tab-pane\r\n            v-for=\"(result, index) in results\"\r\n            :key=\"index\"\r\n            :label=\"result.aiName\"\r\n            :name=\"'result-' + index\"\r\n          >\r\n            <div class=\"result-content\">\r\n              <div class=\"result-header\" v-if=\"result.shareUrl\">\r\n                <div class=\"result-title\">{{ result.aiName }}的执行结果</div>\r\n                <div class=\"result-buttons\">\r\n                  <el-button\r\n                    size=\"mini\"\r\n                    type=\"primary\"\r\n                    icon=\"el-icon-link\"\r\n                    @click=\"openShareUrl(result.shareUrl)\"\r\n                    class=\"share-link-btn\"\r\n                  >\r\n                    查看原链接\r\n                  </el-button>\r\n                  <el-button\r\n                    size=\"mini\"\r\n                    type=\"success\"\r\n                    icon=\"el-icon-s-promotion\"\r\n                    @click=\"handlePushToWechat(result)\"\r\n                    class=\"push-wechat-btn\"\r\n                    :loading=\"pushingToWechat\"\r\n                    :disabled=\"pushingToWechat\"\r\n                  >\r\n                    投递到公众号\r\n                  </el-button>\r\n                </div>\r\n              </div>\r\n              <!-- 如果有shareImgUrl则渲染图片或PDF，否则渲染markdown -->\r\n              <div v-if=\"result.shareImgUrl\" class=\"share-content\">\r\n                <!-- 渲染图片 -->\r\n                <img\r\n                  v-if=\"isImageFile(result.shareImgUrl)\"\r\n                  :src=\"result.shareImgUrl\"\r\n                  alt=\"分享图片\"\r\n                  class=\"share-image\"\r\n                  :style=\"getImageStyle(result.aiName)\"\r\n                />\r\n                <!-- 渲染PDF -->\r\n                <iframe\r\n                  v-else-if=\"isPdfFile(result.shareImgUrl)\"\r\n                  :src=\"result.shareImgUrl\"\r\n                  class=\"share-pdf\"\r\n                  frameborder=\"0\"\r\n                >\r\n                </iframe>\r\n                <!-- 其他文件类型显示链接 -->\r\n                <div v-else class=\"share-file\">\r\n                  <el-button\r\n                    type=\"primary\"\r\n                    icon=\"el-icon-document\"\r\n                    @click=\"openShareUrl(result.shareImgUrl)\"\r\n                  >\r\n                    查看文件\r\n                  </el-button>\r\n                </div>\r\n              </div>\r\n              <div\r\n                v-else\r\n                class=\"markdown-content\"\r\n                v-html=\"renderMarkdown(result.content)\"\r\n              ></div>\r\n              <div class=\"action-buttons\">\r\n                <el-button\r\n                  size=\"small\"\r\n                  type=\"primary\"\r\n                  @click=\"copyResult(result.content)\"\r\n                  >复制（纯文本）</el-button\r\n                >\r\n                <el-button\r\n                  size=\"small\"\r\n                  type=\"success\"\r\n                  @click=\"exportResult(result)\"\r\n                  >导出（MD文件）</el-button\r\n                >\r\n              </div>\r\n            </div>\r\n          </el-tab-pane>\r\n        </el-tabs>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 大图查看对话框 -->\r\n    <el-dialog\r\n      :visible.sync=\"showImageDialog\"\r\n      width=\"90%\"\r\n      :show-close=\"true\"\r\n      :modal=\"true\"\r\n      center\r\n      class=\"image-dialog\"\r\n      :append-to-body=\"true\"\r\n      @close=\"closeLargeImage\"\r\n    >\r\n      <div class=\"large-image-container\">\r\n        <!-- 如果是单张分享图片，直接显示 -->\r\n        <div\r\n          v-if=\"currentLargeImage && !screenshots.includes(currentLargeImage)\"\r\n          class=\"single-image-container\"\r\n        >\r\n          <img :src=\"currentLargeImage\" alt=\"大图\" class=\"large-image\" />\r\n        </div>\r\n        <!-- 如果是截图轮播 -->\r\n        <el-carousel\r\n          v-else\r\n          :interval=\"3000\"\r\n          :autoplay=\"false\"\r\n          indicator-position=\"outside\"\r\n          height=\"80vh\"\r\n        >\r\n          <el-carousel-item\r\n            v-for=\"(screenshot, index) in screenshots\"\r\n            :key=\"index\"\r\n          >\r\n            <img :src=\"screenshot\" alt=\"大图\" class=\"large-image\" />\r\n          </el-carousel-item>\r\n        </el-carousel>\r\n      </div>\r\n    </el-dialog>\r\n\r\n    <!-- 评分弹窗 -->\r\n    <el-dialog\r\n      title=\"智能评分\"\r\n      :visible.sync=\"scoreDialogVisible\"\r\n      width=\"60%\"\r\n      height=\"65%\"\r\n      :close-on-click-modal=\"false\"\r\n      class=\"score-dialog\"\r\n    >\r\n      <div class=\"score-dialog-content\">\r\n        <div class=\"score-prompt-section\">\r\n          <h3>评分提示词：</h3>\r\n          <el-input\r\n            type=\"textarea\"\r\n            :rows=\"10\"\r\n            placeholder=\"请输入评分提示词，例如：请从内容质量、逻辑性、创新性等方面进行评分\"\r\n            v-model=\"scorePrompt\"\r\n            resize=\"none\"\r\n            class=\"score-prompt-input\"\r\n          >\r\n          </el-input>\r\n        </div>\r\n        <div class=\"selected-results\">\r\n          <h3>选择要评分的内容：</h3>\r\n          <el-checkbox-group v-model=\"selectedResults\">\r\n            <el-checkbox\r\n              v-for=\"(result, index) in results\"\r\n              :key=\"index\"\r\n              :label=\"result.aiName\"\r\n              class=\"result-checkbox\"\r\n            >\r\n              {{ result.aiName }}\r\n            </el-checkbox>\r\n          </el-checkbox-group>\r\n        </div>\r\n      </div>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"scoreDialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"handleScore\" :disabled=\"!canScore\">\r\n          开始评分\r\n        </el-button>\r\n      </span>\r\n    </el-dialog>\r\n\r\n    <!-- 智能排版弹窗 -->\r\n    <el-dialog\r\n      title=\"智能排版\"\r\n      :visible.sync=\"layoutDialogVisible\"\r\n      width=\"60%\"\r\n      height=\"65%\"\r\n      :close-on-click-modal=\"false\"\r\n      class=\"layout-dialog\"\r\n    >\r\n      <div class=\"layout-dialog-content\">\r\n        <div class=\"layout-prompt-section\">\r\n          <h3>排版提示词：</h3>\r\n          <el-input\r\n            type=\"textarea\"\r\n            :rows=\"15\"\r\n            placeholder=\"请输入排版提示词\"\r\n            v-model=\"layoutPrompt\"\r\n            resize=\"none\"\r\n            class=\"layout-prompt-input\"\r\n          >\r\n          </el-input>\r\n        </div>\r\n      </div>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"layoutDialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"handleLayout\" :disabled=\"!canLayout\">\r\n          开始排版\r\n        </el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { marked } from \"marked\";\r\nimport {\r\n  message,\r\n  saveUserChatData,\r\n  getChatHistory,\r\n  pushAutoOffice,\r\n} from \"@/api/wechat/aigc\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport websocketClient from \"@/utils/websocket\";\r\nimport store from \"@/store\";\r\nimport TurndownService from \"turndown\";\r\n\r\nexport default {\r\n  name: \"AIManagementPlatform\",\r\n  data() {\r\n    return {\r\n      userId: store.state.user.id,\r\n      corpId: store.state.user.corp_id,\r\n      chatId: uuidv4(),\r\n      expandedHistoryItems: {},\r\n      userInfoReq: {\r\n        userPrompt: '',\r\n        userId: '',\r\n        corpId: '',\r\n        taskId: '',\r\n        roles: '',\r\n        toneChatId: '',\r\n        ybDsChatId: '',\r\n        dbChatId: '',\r\n        zhChatId: '',\r\n        isNewChat: true,\r\n      },\r\n      jsonRpcReqest: {\r\n        jsonrpc: \"2.0\",\r\n        id: uuidv4(),\r\n        method: \"\",\r\n        params: {},\r\n      },\r\n      aiList: [\r\n        {\r\n          name: 'DeepSeek',\r\n          avatar: require('../../../assets/logo/Deepseek.png'),\r\n          capabilities: [\r\n            { label: \"深度思考\", value: \"deep_thinking\" },\r\n            { label: \"联网搜索\", value: \"web_search\" },\r\n          ],\r\n          selectedCapabilities: [\"deep_thinking\", \"web_search\"],\r\n          enabled: true,\r\n          status: \"idle\",\r\n          progressLogs: [],\r\n          isExpanded: true,\r\n        },\r\n        {     \r\n          name: '知乎直答',\r\n          avatar: require('../../../assets/ai/zhihu.png'),\r\n          capabilities: [\r\n            { label: '深度思考', value: 'deep_thinking' }\r\n          ],\r\n          selectedCapabilities: ['deep_thinking'],\r\n          enabled: true,\r\n          status: 'idle',\r\n          progressLogs: [],\r\n          isExpanded: true\r\n        },\r\n        {\r\n          name: \"豆包\",\r\n          avatar: require(\"../../../assets/ai/豆包.png\"),\r\n          capabilities: [{ label: \"深度思考\", value: \"deep_thinking\" }],\r\n          selectedCapabilities: [\"deep_thinking\"],\r\n          enabled: true,\r\n          status: \"idle\",\r\n          progressLogs: [],\r\n          isExpanded: true,\r\n        },\r\n        {\r\n          name: \"MiniMax Chat\",\r\n          avatar: require(\"../../../assets/ai/MiniMax.png\"),\r\n          capabilities: [\r\n            { label: \"深度思考\", value: \"deep_thinking\" },\r\n            { label: \"联网搜索\", value: \"web_search\" },\r\n          ],\r\n          selectedCapabilities: [\"deep_thinking\", \"web_search\"],\r\n          enabled: true,\r\n          status: \"idle\",\r\n          progressLogs: [],\r\n          isExpanded: true,\r\n        },\r\n      ],\r\n      promptInput: \"\",\r\n      taskStarted: false,\r\n      autoPlay: false,\r\n      screenshots: [],\r\n      results: [],\r\n      activeResultTab: \"result-0\",\r\n      activeCollapses: [\"ai-selection\", \"prompt-input\"], // 默认展开这两个区域\r\n      showImageDialog: false,\r\n      currentLargeImage: \"\",\r\n      enabledAIs: [],\r\n      turndownService: new TurndownService({\r\n        headingStyle: \"atx\",\r\n        codeBlockStyle: \"fenced\",\r\n        emDelimiter: \"*\",\r\n      }),\r\n      scoreDialogVisible: false,\r\n      selectedResults: [],\r\n      scorePrompt: `请你深度阅读以下几篇内容，从多个维度进行逐项打分，输出评分结果。并在以下各篇文章的基础上博采众长，综合整理一篇更全面的文章。`,\r\n      layoutDialogVisible: false,\r\n      layoutPrompt: \"\",\r\n      currentLayoutResult: null, // 当前要排版的结果\r\n      historyDrawerVisible: false,\r\n      chatHistory: [],\r\n      pushOfficeNum: 0, // 投递到公众号的递增编号\r\n      pushingToWechat: false, // 投递到公众号的loading状态\r\n    };\r\n  },\r\n  computed: {\r\n    canSend() {\r\n      return (\r\n        this.promptInput.trim().length > 0 &&\r\n        this.aiList.some((ai) => ai.enabled)\r\n      );\r\n    },\r\n    canScore() {\r\n      return (\r\n        this.selectedResults.length > 0 && this.scorePrompt.trim().length > 0\r\n      );\r\n    },\r\n    canLayout() {\r\n      return this.layoutPrompt.trim().length > 0;\r\n    },\r\n    groupedHistory() {\r\n      const groups = {};\r\n      const chatGroups = {};\r\n\r\n      // 首先按chatId分组\r\n      this.chatHistory.forEach((item) => {\r\n        if (!chatGroups[item.chatId]) {\r\n          chatGroups[item.chatId] = [];\r\n        }\r\n        chatGroups[item.chatId].push(item);\r\n      });\r\n\r\n      // 然后按日期分组，并处理父子关系\r\n      Object.values(chatGroups).forEach((chatGroup) => {\r\n        // 按时间排序\r\n        chatGroup.sort(\r\n          (a, b) => new Date(a.createTime) - new Date(b.createTime)\r\n        );\r\n\r\n        // 获取最早的记录作为父级\r\n        const parentItem = chatGroup[0];\r\n        const date = this.getHistoryDate(parentItem.createTime);\r\n\r\n        if (!groups[date]) {\r\n          groups[date] = [];\r\n        }\r\n\r\n        // 添加父级记录\r\n        groups[date].push({\r\n          ...parentItem,\r\n          isParent: true,\r\n          isExpanded: this.expandedHistoryItems[parentItem.chatId] || false,\r\n          children: chatGroup.slice(1).map((child) => ({\r\n            ...child,\r\n            isParent: false,\r\n          })),\r\n        });\r\n      });\r\n\r\n      return groups;\r\n    },\r\n  },\r\n  created() {\r\n    console.log(this.userId);\r\n    console.log(this.corpId);\r\n    this.initWebSocket(this.userId);\r\n    this.loadChatHistory(0); // 加载历史记录\r\n    this.loadLastChat(); // 加载上次会话\r\n  },\r\n  methods: {\r\n    sendPrompt() {\r\n      if (!this.canSend) return;\r\n\r\n      this.screenshots = [];\r\n      // 折叠所有区域\r\n      this.activeCollapses = [];\r\n\r\n      this.taskStarted = true;\r\n      this.results = []; // 清空之前的结果\r\n\r\n      this.userInfoReq.roles = \"\";\r\n\r\n      this.userInfoReq.taskId = uuidv4();\r\n      this.userInfoReq.userId = this.userId;\r\n      this.userInfoReq.corpId = this.corpId;\r\n      this.userInfoReq.userPrompt = this.promptInput;\r\n\r\n      // 获取启用的AI列表及其状态\r\n      this.enabledAIs = this.aiList.filter((ai) => ai.enabled);\r\n\r\n      // 将所有启用的AI状态设置为运行中\r\n      this.enabledAIs.forEach((ai) => {\r\n        this.$set(ai, \"status\", \"running\");\r\n      });\r\n\r\n      this.enabledAIs.forEach(ai => {\r\n        if(ai.name === 'DeepSeek' && ai.enabled){\r\n          this.userInfoReq.roles = this.userInfoReq.roles + 'deepseek,';\r\n          if (ai.selectedCapabilities.includes(\"deep_thinking\")) {\r\n            this.userInfoReq.roles = this.userInfoReq.roles + \"ds-sdsk,\";\r\n          }\r\n          if (ai.selectedCapabilities.includes(\"web_search\")) {\r\n            this.userInfoReq.roles = this.userInfoReq.roles + \"ds-lwss,\";\r\n          }\r\n        }\r\n        if(ai.name === '知乎直答'){\r\n          this.userInfoReq.roles = this.userInfoReq.roles + 'zhihu,';\r\n          if(ai.selectedCapabilities.includes(\"deep_thinking\")){\r\n            this.userInfoReq.roles = this.userInfoReq.roles + 'zhihu-sdsk,';\r\n          }\r\n        }\r\n        if (ai.name === \"豆包\") {\r\n          this.userInfoReq.roles = this.userInfoReq.roles + \"zj-db,\";\r\n          if (ai.selectedCapabilities.includes(\"deep_thinking\")) {\r\n            this.userInfoReq.roles = this.userInfoReq.roles + \"zj-db-sdsk,\";\r\n          }\r\n        }\r\n        if (ai.name === \"MiniMax Chat\") {\r\n          this.userInfoReq.roles = this.userInfoReq.roles + \"mini-max-agent,\";\r\n          if (ai.selectedCapabilities.includes(\"deep_thinking\")) {\r\n            this.userInfoReq.roles = this.userInfoReq.roles + \"max-sdsk,\";\r\n          }\r\n          if (ai.selectedCapabilities.includes(\"web_search\")) {\r\n            this.userInfoReq.roles = this.userInfoReq.roles + \"max-lwss,\";\r\n          }\r\n        }\r\n      });\r\n\r\n      console.log(\"参数：\", this.userInfoReq);\r\n\r\n      //调用后端接口\r\n      this.jsonRpcReqest.method = \"使用F8S\";\r\n      this.jsonRpcReqest.params = this.userInfoReq;\r\n      this.message(this.jsonRpcReqest);\r\n      this.userInfoReq.isNewChat = false;\r\n    },\r\n\r\n    message(data) {\r\n      message(data).then((res) => {\r\n        if (res.code == 201) {\r\n          uni.showToast({\r\n            title: res.messages,\r\n            icon: \"none\",\r\n            duration: 1500,\r\n          });\r\n        }\r\n      });\r\n    },\r\n    toggleCapability(ai, capabilityValue) {\r\n      if (!ai.enabled) return;\r\n\r\n      const index = ai.selectedCapabilities.indexOf(capabilityValue);\r\n      console.log(\"切换前:\", ai.selectedCapabilities);\r\n      if (index === -1) {\r\n        // 如果不存在，则添加\r\n        this.$set(\r\n          ai.selectedCapabilities,\r\n          ai.selectedCapabilities.length,\r\n          capabilityValue\r\n        );\r\n      } else {\r\n        // 如果已存在，则移除\r\n        const newCapabilities = [...ai.selectedCapabilities];\r\n        newCapabilities.splice(index, 1);\r\n        this.$set(ai, \"selectedCapabilities\", newCapabilities);\r\n      }\r\n      console.log(\"切换后:\", ai.selectedCapabilities);\r\n      this.$forceUpdate(); // 强制更新视图\r\n    },\r\n    getStatusText(status) {\r\n      switch (status) {\r\n        case \"idle\":\r\n          return \"等待中\";\r\n        case \"running\":\r\n          return \"正在执行\";\r\n        case \"completed\":\r\n          return \"已完成\";\r\n        case \"failed\":\r\n          return \"执行失败\";\r\n        default:\r\n          return \"未知状态\";\r\n      }\r\n    },\r\n    getStatusIcon(status) {\r\n      switch (status) {\r\n        case \"idle\":\r\n          return \"el-icon-time\";\r\n        case \"running\":\r\n          return \"el-icon-loading\";\r\n        case \"completed\":\r\n          return \"el-icon-check success-icon\";\r\n        case \"failed\":\r\n          return \"el-icon-close error-icon\";\r\n        default:\r\n          return \"el-icon-question\";\r\n      }\r\n    },\r\n    renderMarkdown(text) {\r\n      return marked(text);\r\n    },\r\n    // HTML转纯文本\r\n    htmlToText(html) {\r\n      const tempDiv = document.createElement(\"div\");\r\n      tempDiv.innerHTML = html;\r\n      return tempDiv.textContent || tempDiv.innerText || \"\";\r\n    },\r\n\r\n    // HTML转Markdown\r\n    htmlToMarkdown(html) {\r\n      return this.turndownService.turndown(html);\r\n    },\r\n\r\n    copyResult(content) {\r\n      // 将HTML转换为纯文本\r\n      const plainText = this.htmlToText(content);\r\n      const textarea = document.createElement(\"textarea\");\r\n      textarea.value = plainText;\r\n      document.body.appendChild(textarea);\r\n      textarea.select();\r\n      document.execCommand(\"copy\");\r\n      document.body.removeChild(textarea);\r\n      this.$message.success(\"已复制纯文本到剪贴板\");\r\n    },\r\n\r\n    exportResult(result) {\r\n      // 将HTML转换为Markdown\r\n      const markdown = result.content;\r\n      const blob = new Blob([markdown], { type: \"text/markdown\" });\r\n      const link = document.createElement(\"a\");\r\n      link.href = URL.createObjectURL(blob);\r\n      link.download = `${result.aiName}_结果_${new Date()\r\n        .toISOString()\r\n        .slice(0, 10)}.md`;\r\n      link.click();\r\n      URL.revokeObjectURL(link.href);\r\n      this.$message.success(\"已导出Markdown文件\");\r\n    },\r\n\r\n    openShareUrl(shareUrl) {\r\n      if (shareUrl) {\r\n        window.open(shareUrl, \"_blank\");\r\n      } else {\r\n        this.$message.warning(\"暂无原链接\");\r\n      }\r\n    },\r\n    showLargeImage(imageUrl) {\r\n      this.currentLargeImage = imageUrl;\r\n      this.showImageDialog = true;\r\n      // 找到当前图片的索引，设置轮播图的初始位置\r\n      const currentIndex = this.screenshots.indexOf(imageUrl);\r\n      if (currentIndex !== -1) {\r\n        this.$nextTick(() => {\r\n          const carousel = this.$el.querySelector(\".image-dialog .el-carousel\");\r\n          if (carousel && carousel.__vue__) {\r\n            carousel.__vue__.setActiveItem(currentIndex);\r\n          }\r\n        });\r\n      }\r\n    },\r\n    closeLargeImage() {\r\n      this.showImageDialog = false;\r\n      this.currentLargeImage = \"\";\r\n    },\r\n    // WebSocket 相关方法\r\n    initWebSocket(id) {\r\n      const wsUrl = process.env.VUE_APP_WS_API + `mypc-${id}`;\r\n      console.log(\"WebSocket URL:\", process.env.VUE_APP_WS_API);\r\n      websocketClient.connect(wsUrl, (event) => {\r\n        switch (event.type) {\r\n          case \"open\":\r\n            // this.$message.success('');\r\n            break;\r\n          case \"message\":\r\n            this.handleWebSocketMessage(event.data);\r\n            break;\r\n          case \"close\":\r\n            this.$message.warning(\"WebSocket连接已关闭\");\r\n            break;\r\n          case \"error\":\r\n            this.$message.error(\"WebSocket连接错误\");\r\n            break;\r\n          case \"reconnect_failed\":\r\n            this.$message.error(\"WebSocket重连失败，请刷新页面重试\");\r\n            break;\r\n        }\r\n      });\r\n    },\r\n\r\n    handleWebSocketMessage(data) {\r\n      const datastr = data;\r\n      const dataObj = JSON.parse(datastr);\r\n\r\n      // 处理chatId消息\r\n      if (dataObj.type === \"RETURN_YBT1_CHATID\" && dataObj.chatId) {\r\n        this.userInfoReq.toneChatId = dataObj.chatId;\r\n      } else if (dataObj.type === \"RETURN_YBDS_CHATID\" && dataObj.chatId) {\r\n        this.userInfoReq.ybDsChatId = dataObj.chatId;\r\n      } else if (dataObj.type === \"RETURN_DB_CHATID\" && dataObj.chatId) {\r\n        this.userInfoReq.dbChatId = dataObj.chatId;\r\n      } else if (dataObj.type === \"RETURN_MAX_CHATID\" && dataObj.chatId) {\r\n        this.userInfoReq.maxChatId = dataObj.chatId;\r\n      } else if (dataObj.type === 'RETURN_ZH_CHATID' && dataObj.chatId) {\r\n        this.userInfoReq.zhChatId = dataObj.chatId;\r\n      }\r\n\r\n      // 处理进度日志消息\r\n      if (dataObj.type === \"RETURN_PC_TASK_LOG\" && dataObj.aiName) {\r\n        const targetAI = this.enabledAIs.find(\r\n          (ai) => ai.name === dataObj.aiName\r\n        );\r\n        if (targetAI) {\r\n          // 将新进度添加到数组开头\r\n          targetAI.progressLogs.unshift({\r\n            content: dataObj.content,\r\n            timestamp: new Date(),\r\n            isCompleted: false,\r\n          });\r\n        }\r\n        return;\r\n      }\r\n\r\n      // 处理截图消息\r\n      if (dataObj.type === \"RETURN_PC_TASK_IMG\" && dataObj.url) {\r\n        // 将新的截图添加到数组开头\r\n        this.screenshots.unshift(dataObj.url);\r\n        return;\r\n      }\r\n\r\n      // 处理智能评分结果\r\n      if (dataObj.type === \"RETURN_WKPF_RES\") {\r\n        const wkpfAI = this.enabledAIs.find((ai) => ai.name === \"智能评分\");\r\n        if (wkpfAI) {\r\n          this.$set(wkpfAI, \"status\", \"completed\");\r\n          if (wkpfAI.progressLogs.length > 0) {\r\n            this.$set(wkpfAI.progressLogs[0], \"isCompleted\", true);\r\n          }\r\n          // 添加评分结果到results最前面\r\n          this.results.unshift({\r\n            aiName: \"智能评分\",\r\n            content: dataObj.draftContent,\r\n            shareUrl: dataObj.shareUrl || \"\",\r\n            shareImgUrl: dataObj.shareImgUrl || \"\",\r\n            timestamp: new Date(),\r\n          });\r\n          this.activeResultTab = \"result-0\";\r\n\r\n          // 智能评分完成时，再次保存历史记录\r\n          this.saveHistory();\r\n        }\r\n        return;\r\n      }\r\n\r\n      // 处理智能排版结果\r\n      if (dataObj.type === \"RETURN_ZNPB_RES\") {\r\n        const znpbAI = this.enabledAIs.find((ai) => ai.name === \"智能排版\");\r\n        if (znpbAI) {\r\n          this.$set(znpbAI, \"status\", \"completed\");\r\n          if (znpbAI.progressLogs.length > 0) {\r\n            this.$set(znpbAI.progressLogs[0], \"isCompleted\", true);\r\n          }\r\n\r\n          // 直接调用投递到公众号的方法，不添加到结果展示\r\n          this.pushToWechatWithContent(dataObj.draftContent);\r\n\r\n          // 智能排版完成时，保存历史记录\r\n          this.saveHistory();\r\n        }\r\n        return;\r\n      }\r\n\r\n      // 根据消息类型更新对应AI的状态和结果\r\n      let targetAI = null;\r\n      switch (dataObj.type) {\r\n        case 'RETURN_ZH_RES':\r\n          console.log('收到知乎直答消息:',data);\r\n          targetAI = this.enabledAIs.find(ai => ai.name === '知乎直答');\r\n          break;\r\n        case 'RETURN_YBT1_RES':\r\n        case 'RETURN_TURBOS_RES':\r\n        case 'RETURN_TURBOS_LARGE_RES':\r\n        case 'RETURN_DEEPSEEK_RES':\r\n          console.log('收到DeepSeek消息:', dataObj);\r\n          targetAI = this.enabledAIs.find(ai => ai.name === 'DeepSeek');\r\n          break;\r\n        case \"RETURN_DB_RES\":\r\n          console.log(\"收到豆包消息:\", dataObj);\r\n          targetAI = this.enabledAIs.find((ai) => ai.name === \"豆包\");\r\n          break;\r\n        case \"RETURN_MAX_RES\":\r\n          console.log(\"收到MiniMax消息:\", dataObj);\r\n          targetAI = this.enabledAIs.find((ai) => ai.name === \"MiniMax Chat\");\r\n          break;\r\n      }\r\n\r\n      if (targetAI) {\r\n        // 更新AI状态为已完成\r\n        this.$set(targetAI, \"status\", \"completed\");\r\n\r\n        // 将最后一条进度消息标记为已完成\r\n        if (targetAI.progressLogs.length > 0) {\r\n          this.$set(targetAI.progressLogs[0], \"isCompleted\", true);\r\n        }\r\n\r\n        // 添加结果到数组开头\r\n        const resultIndex = this.results.findIndex(\r\n          (r) => r.aiName === targetAI.name\r\n        );\r\n        if (resultIndex === -1) {\r\n          this.results.unshift({\r\n            aiName: targetAI.name,\r\n            content: dataObj.draftContent,\r\n            shareUrl: dataObj.shareUrl || \"\",\r\n            shareImgUrl: dataObj.shareImgUrl || \"\",\r\n            timestamp: new Date(),\r\n          });\r\n          this.activeResultTab = \"result-0\";\r\n        } else {\r\n          this.results.splice(resultIndex, 1);\r\n          this.results.unshift({\r\n            aiName: targetAI.name,\r\n            content: dataObj.draftContent,\r\n            shareUrl: dataObj.shareUrl || \"\",\r\n            shareImgUrl: dataObj.shareImgUrl || \"\",\r\n            timestamp: new Date(),\r\n          });\r\n          this.activeResultTab = \"result-0\";\r\n        }\r\n        this.saveHistory();\r\n      }\r\n\r\n      // 检查是否所有任务都已完成\r\n      // const allCompleted = this.enabledAIs.every(ai =>\r\n      //   ai.status === 'completed' || ai.status === 'failed'\r\n      // );\r\n\r\n      // if (allCompleted) {\r\n      //\r\n      // }\r\n    },\r\n\r\n    closeWebSocket() {\r\n      websocketClient.close();\r\n    },\r\n\r\n    sendMessage(data) {\r\n      if (websocketClient.send(data)) {\r\n        // 滚动到底部\r\n        this.$nextTick(() => {\r\n          this.scrollToBottom();\r\n        });\r\n      } else {\r\n        this.$message.error(\"WebSocket未连接\");\r\n      }\r\n    },\r\n    toggleAIExpansion(ai) {\r\n      this.$set(ai, \"isExpanded\", !ai.isExpanded);\r\n    },\r\n\r\n    formatTime(timestamp) {\r\n      const date = new Date(timestamp);\r\n      return date.toLocaleTimeString(\"zh-CN\", {\r\n        hour: \"2-digit\",\r\n        minute: \"2-digit\",\r\n        second: \"2-digit\",\r\n        hour12: false,\r\n      });\r\n    },\r\n    showScoreDialog() {\r\n      this.scoreDialogVisible = true;\r\n      this.selectedResults = [];\r\n    },\r\n\r\n    handleScore() {\r\n      if (!this.canScore) return;\r\n\r\n      // 获取选中的结果内容并按照指定格式拼接\r\n      const selectedContents = this.results\r\n        .filter((result) => this.selectedResults.includes(result.aiName))\r\n        .map((result) => {\r\n          // 将HTML内容转换为纯文本\r\n          const plainContent = this.htmlToText(result.content);\r\n          return `${result.aiName}初稿：\\n${plainContent}\\n`;\r\n        })\r\n        .join(\"\\n\");\r\n\r\n      // 构建完整的评分提示内容\r\n      const fullPrompt = `${this.scorePrompt}\\n${selectedContents}`;\r\n\r\n      // 构建评分请求\r\n      const scoreRequest = {\r\n        jsonrpc: \"2.0\",\r\n        id: uuidv4(),\r\n        method: \"AI评分\",\r\n        params: {\r\n          taskId: uuidv4(),\r\n          userId: this.userId,\r\n          corpId: this.corpId,\r\n          userPrompt: fullPrompt,\r\n          roles: \"zj-db-sdsk\", // 默认使用豆包进行评分\r\n        },\r\n      };\r\n\r\n      // 发送评分请求\r\n      console.log(\"参数\", scoreRequest);\r\n      this.message(scoreRequest);\r\n      this.scoreDialogVisible = false;\r\n\r\n      // 创建智能评分AI节点\r\n      const wkpfAI = {\r\n        name: \"智能评分\",\r\n        avatar: require(\"../../../assets/ai/yuanbao.png\"),\r\n        capabilities: [],\r\n        selectedCapabilities: [],\r\n        enabled: true,\r\n        status: \"running\",\r\n        progressLogs: [\r\n          {\r\n            content: \"智能评分任务已提交，正在评分...\",\r\n            timestamp: new Date(),\r\n            isCompleted: false,\r\n            type: \"智能评分\",\r\n          },\r\n        ],\r\n        isExpanded: true,\r\n      };\r\n\r\n      // 检查是否已存在智能评分\r\n      const existIndex = this.enabledAIs.findIndex(\r\n        (ai) => ai.name === \"智能评分\"\r\n      );\r\n      if (existIndex === -1) {\r\n        // 如果不存在，添加到数组开头\r\n        this.enabledAIs.unshift(wkpfAI);\r\n      } else {\r\n        // 如果已存在，更新状态和日志\r\n        this.enabledAIs[existIndex] = wkpfAI;\r\n        // 将智能评分移到数组开头\r\n        const wkpf = this.enabledAIs.splice(existIndex, 1)[0];\r\n        this.enabledAIs.unshift(wkpf);\r\n      }\r\n\r\n      this.$forceUpdate();\r\n      this.$message.success(\"评分请求已发送，请等待结果\");\r\n    },\r\n    // 显示历史记录抽屉\r\n    showHistoryDrawer() {\r\n      this.historyDrawerVisible = true;\r\n      this.loadChatHistory(1);\r\n    },\r\n\r\n    // 关闭历史记录抽屉\r\n    handleHistoryDrawerClose() {\r\n      this.historyDrawerVisible = false;\r\n    },\r\n\r\n    // 加载历史记录\r\n    async loadChatHistory(isAll) {\r\n      try {\r\n        const res = await getChatHistory(this.userId, isAll);\r\n        if (res.code === 200) {\r\n          this.chatHistory = res.data || [];\r\n        }\r\n      } catch (error) {\r\n        console.error(\"加载历史记录失败:\", error);\r\n        this.$message.error(\"加载历史记录失败\");\r\n      }\r\n    },\r\n\r\n    // 格式化历史记录时间\r\n    formatHistoryTime(timestamp) {\r\n      const date = new Date(timestamp);\r\n      return date.toLocaleTimeString(\"zh-CN\", {\r\n        hour: \"2-digit\",\r\n        minute: \"2-digit\",\r\n        hour12: false,\r\n      });\r\n    },\r\n\r\n    // 获取历史记录日期分组\r\n    getHistoryDate(timestamp) {\r\n      const date = new Date(timestamp);\r\n      const today = new Date();\r\n      const yesterday = new Date(today);\r\n      yesterday.setDate(yesterday.getDate() - 1);\r\n      const twoDaysAgo = new Date(today);\r\n      twoDaysAgo.setDate(twoDaysAgo.getDate() - 2);\r\n      const threeDaysAgo = new Date(today);\r\n      threeDaysAgo.setDate(threeDaysAgo.getDate() - 3);\r\n\r\n      if (date.toDateString() === today.toDateString()) {\r\n        return \"今天\";\r\n      } else if (date.toDateString() === yesterday.toDateString()) {\r\n        return \"昨天\";\r\n      } else if (date.toDateString() === twoDaysAgo.toDateString()) {\r\n        return \"两天前\";\r\n      } else if (date.toDateString() === threeDaysAgo.toDateString()) {\r\n        return \"三天前\";\r\n      } else {\r\n        return date.toLocaleDateString(\"zh-CN\", {\r\n          year: \"numeric\",\r\n          month: \"long\",\r\n          day: \"numeric\",\r\n        });\r\n      }\r\n    },\r\n\r\n    // 加载历史记录项\r\n    loadHistoryItem(item) {\r\n      try {\r\n        const historyData = JSON.parse(item.data);\r\n        \r\n        // 恢复AI选择配置，但重新设置知乎直答的图标路径\r\n        if (historyData.aiList) {\r\n          const updatedAiList = historyData.aiList.map(ai => {\r\n            if (ai.name === '知乎直答') {\r\n              return { ...ai, avatar: require('../../../assets/ai/zhihu.png') };\r\n            }\r\n            return ai;\r\n          });\r\n          this.aiList = updatedAiList;\r\n        } else {\r\n          this.aiList = this.aiList;\r\n        }\r\n        \r\n        // 恢复提示词输入\r\n        this.promptInput = historyData.promptInput || \"\";\r\n        // 恢复任务流程\r\n        this.enabledAIs = historyData.enabledAIs || [];\r\n        // 恢复主机可视化\r\n        this.screenshots = historyData.screenshots || [];\r\n        // 恢复执行结果\r\n        this.results = historyData.results || [];\r\n        // 恢复chatId\r\n        this.chatId = item.chatId || this.chatId;\r\n        this.userInfoReq.toneChatId = item.toneChatId || '';\r\n        this.userInfoReq.ybDsChatId = item.ybDsChatId || '';\r\n        this.userInfoReq.dbChatId = item.dbChatId || '';\r\n        this.userInfoReq.zhChatId = item.zhChatId || '';\r\n        this.userInfoReq.maxChatId = item.maxChatId || \"\";\r\n        this.userInfoReq.isNewChat = false;\r\n\r\n        // 展开相关区域\r\n        this.activeCollapses = [\"ai-selection\", \"prompt-input\"];\r\n        this.taskStarted = true;\r\n\r\n        this.$message.success(\"历史记录加载成功\");\r\n        this.historyDrawerVisible = false;\r\n      } catch (error) {\r\n        console.error(\"加载历史记录失败:\", error);\r\n        this.$message.error(\"加载历史记录失败\");\r\n      }\r\n    },\r\n\r\n    // 保存历史记录\r\n    async saveHistory() {\r\n      // if (!this.taskStarted || this.enabledAIs.some(ai => ai.status === 'running')) {\r\n      //   return;\r\n      // }\r\n\r\n      const historyData = {\r\n        aiList: this.aiList,\r\n        promptInput: this.promptInput,\r\n        enabledAIs: this.enabledAIs,\r\n        screenshots: this.screenshots,\r\n        results: this.results,\r\n        chatId: this.chatId,\r\n        toneChatId: this.userInfoReq.toneChatId,\r\n        ybDsChatId: this.userInfoReq.ybDsChatId,\r\n        dbChatId: this.userInfoReq.dbChatId,\r\n        zhChatId: this.userInfoReq.zhChatId,\r\n        maxChatId: this.userInfoReq.maxChatId,\r\n      };\r\n\r\n      try {\r\n        await saveUserChatData({\r\n          userId: this.userId,\r\n          userPrompt: this.promptInput,\r\n          data: JSON.stringify(historyData),\r\n          chatId: this.chatId,\r\n          toneChatId: this.userInfoReq.toneChatId,\r\n          ybDsChatId: this.userInfoReq.ybDsChatId,\r\n          dbChatId: this.userInfoReq.dbChatId,\r\n          zhChatId: this.userInfoReq.zhChatId,\r\n          maxChatId: this.userInfoReq.maxChatId,\r\n        });\r\n      } catch (error) {\r\n        console.error(\"保存历史记录失败:\", error);\r\n        this.$message.error(\"保存历史记录失败\");\r\n      }\r\n    },\r\n\r\n    // 修改折叠切换方法\r\n    toggleHistoryExpansion(item) {\r\n      this.$set(\r\n        this.expandedHistoryItems,\r\n        item.chatId,\r\n        !this.expandedHistoryItems[item.chatId]\r\n      );\r\n    },\r\n\r\n    // 创建新对话\r\n    createNewChat() {\r\n      // 重置所有数据\r\n      this.chatId = uuidv4();\r\n      this.isNewChat = true;\r\n      this.promptInput = \"\";\r\n      this.taskStarted = false;\r\n      this.screenshots = [];\r\n      this.results = [];\r\n      this.enabledAIs = [];\r\n      this.userInfoReq = {\r\n        userPrompt: \"\",\r\n        userId: this.userId,\r\n        corpId: this.corpId,\r\n        taskId: '',\r\n        roles: '',\r\n        toneChatId: '',\r\n        ybDsChatId: '',\r\n        dbChatId: '',\r\n        zhChatId: '',\r\n        maxChatId: '',\r\n        isNewChat: true\r\n      };\r\n      // 重置AI列表为初始状态\r\n      this.aiList = [\r\n        {\r\n          name: 'DeepSeek',\r\n          avatar: require('../../../assets/logo/Deepseek.png'),\r\n          capabilities: [\r\n            { label: \"深度思考\", value: \"deep_thinking\" },\r\n            { label: \"联网搜索\", value: \"web_search\" },\r\n          ],\r\n          selectedCapabilities: ['deep_thinking', 'web_search'],\r\n          enabled: true,\r\n          status: \"idle\",\r\n          progressLogs: [],\r\n          isExpanded: true,\r\n        },\r\n        {\r\n          name: '知乎直答',\r\n          avatar: require('../../../assets/ai/zhihu.png'),\r\n          capabilities: [\r\n            { label: '深度思考', value: 'deep_thinking' }\r\n          ],\r\n          selectedCapabilities: ['deep_thinking'],\r\n          enabled: true,\r\n          status: 'idle',\r\n          progressLogs: [],\r\n          isExpanded: true\r\n        },\r\n        {\r\n          name: \"MiniMax Chat\",\r\n          avatar: require(\"../../../assets/ai/MiniMax.png\"),\r\n          capabilities: [\r\n            { label: \"深度思考\", value: \"deep_thinking\" },\r\n            { label: \"联网\", value: \"web_search\" },\r\n          ],\r\n          selectedCapabilities: [\"deep_thinking\", \"web_search\"],\r\n          enabled: true,\r\n          status: \"idle\",\r\n          progressLogs: [],\r\n          isExpanded: true,\r\n        },\r\n        {\r\n          name: '豆包',\r\n          avatar: require('../../../assets/ai/豆包.png'),\r\n          capabilities: [\r\n            { label: '深度思考', value: 'deep_thinking' }\r\n          ],\r\n          selectedCapabilities: ['deep_thinking'],\r\n          enabled: true,\r\n          status: 'idle',\r\n          progressLogs: [],\r\n          isExpanded: true\r\n        }\r\n      ];\r\n      // 展开相关区域\r\n      this.activeCollapses = [\"ai-selection\", \"prompt-input\"];\r\n\r\n      this.$message.success(\"已创建新对话\");\r\n    },\r\n\r\n    // 加载上次会话\r\n    async loadLastChat() {\r\n      try {\r\n        const res = await getChatHistory(this.userId, 0);\r\n        if (res.code === 200 && res.data && res.data.length > 0) {\r\n          // 获取最新的会话记录\r\n          const lastChat = res.data[0];\r\n          this.loadHistoryItem(lastChat);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"加载上次会话失败:\", error);\r\n      }\r\n    },\r\n\r\n    // 判断是否为图片文件\r\n    isImageFile(url) {\r\n      if (!url) return false;\r\n      const imageExtensions = [\r\n        \".jpg\",\r\n        \".jpeg\",\r\n        \".png\",\r\n        \".gif\",\r\n        \".bmp\",\r\n        \".webp\",\r\n        \".svg\",\r\n      ];\r\n      const urlLower = url.toLowerCase();\r\n      return imageExtensions.some((ext) => urlLower.includes(ext));\r\n    },\r\n\r\n    // 判断是否为PDF文件\r\n    isPdfFile(url) {\r\n      if (!url) return false;\r\n      return url.toLowerCase().includes(\".pdf\");\r\n    },\r\n\r\n    // 根据AI名称获取图片样式\r\n    getImageStyle(aiName) {\r\n      const widthMap = {\r\n        DeepSeek: \"700px\",\r\n        豆包: \"560px\",\r\n      };\r\n\r\n      const width = widthMap[aiName] || \"560px\"; // 默认宽度\r\n\r\n      return {\r\n        width: width,\r\n        height: \"auto\",\r\n      };\r\n    },\r\n\r\n    // 投递到公众号\r\n    handlePushToWechat(result) {\r\n      this.showLayoutDialog(result);\r\n    },\r\n\r\n    // 显示智能排版对话框\r\n    showLayoutDialog(result) {\r\n      this.currentLayoutResult = result;\r\n      this.layoutPrompt =\r\n        `请你对以下 HTML 内容进行排版优化，目标是用于微信公众号\"草稿箱接口\"的 content 字段，要求如下：\r\n\r\n1. 仅返回 <body> 内部可用的 HTML 内容片段（不要包含 <!DOCTYPE>、<html>、<head>、<meta>、<title> 等标签）。\r\n2. 所有样式必须以\"内联 style\"方式写入。\r\n3. 保持结构清晰、视觉友好，适配公众号图文排版。\r\n4. 请直接输出代码，不要添加任何注释或额外说明。\r\n5. 不得使用 emoji 表情符号或小图标字符。\r\n6. 不要显示为问答形式，以一篇文章的格式去调整 \\n\\n以下为需要进行排版优化的内容：\\n` +\r\n        result.content;\r\n      this.layoutDialogVisible = true;\r\n    },\r\n\r\n    // 处理智能排版\r\n    handleLayout() {\r\n      if (!this.canLayout || !this.currentLayoutResult) return;\r\n\r\n      // 构建排版请求\r\n      const layoutRequest = {\r\n        jsonrpc: \"2.0\",\r\n        id: uuidv4(),\r\n        method: \"AI排版\",\r\n        params: {\r\n          taskId: uuidv4(),\r\n          userId: this.userId,\r\n          corpId: this.corpId,\r\n          userPrompt: this.layoutPrompt,\r\n          roles: \"\", // 默认使用豆包进行排版\r\n        },\r\n      };\r\n\r\n      // 发送排版请求\r\n      console.log(\"排版参数\", layoutRequest);\r\n      this.message(layoutRequest);\r\n      this.layoutDialogVisible = false;\r\n\r\n      // 创建智能排版AI节点\r\n      const znpbAI = {\r\n        name: \"智能排版\",\r\n        avatar: require(\"../../../assets/ai/yuanbao.png\"),\r\n        capabilities: [],\r\n        selectedCapabilities: [],\r\n        enabled: true,\r\n        status: \"running\",\r\n        progressLogs: [\r\n          {\r\n            content: \"智能排版任务已提交，正在排版...\",\r\n            timestamp: new Date(),\r\n            isCompleted: false,\r\n            type: \"智能排版\",\r\n          },\r\n        ],\r\n        isExpanded: true,\r\n      };\r\n\r\n      // 检查是否已存在智能排版\r\n      const existIndex = this.enabledAIs.findIndex(\r\n        (ai) => ai.name === \"智能排版\"\r\n      );\r\n      if (existIndex === -1) {\r\n        // 如果不存在，添加到数组开头\r\n        this.enabledAIs.unshift(znpbAI);\r\n      } else {\r\n        // 如果已存在，更新状态和日志\r\n        this.enabledAIs[existIndex] = znpbAI;\r\n        // 将智能排版移到数组开头\r\n        const znpb = this.enabledAIs.splice(existIndex, 1)[0];\r\n        this.enabledAIs.unshift(znpb);\r\n      }\r\n\r\n      this.$forceUpdate();\r\n      this.$message.success(\"排版请求已发送，请等待结果\");\r\n    },\r\n\r\n    // 实际投递到公众号\r\n    pushToWechatWithContent(contentText) {\r\n      if (this.pushingToWechat) return;\r\n      this.$message.success(\"开始投递公众号！\");\r\n      this.pushingToWechat = true;\r\n      this.pushOfficeNum += 1;\r\n\r\n      const params = {\r\n        contentText: contentText,\r\n        shareUrl: this.currentLayoutResult.shareUrl,\r\n        userId: this.userId,\r\n        num: this.pushOfficeNum,\r\n        aiName: this.currentLayoutResult.aiName,\r\n      };\r\n\r\n      pushAutoOffice(params)\r\n        .then((res) => {\r\n          if (res.code === 200) {\r\n            this.$message.success(\"投递到公众号成功！\");\r\n          } else {\r\n            this.$message.error(res.msg || \"投递失败，请重试\");\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.error(\"投递到公众号失败:\", error);\r\n          this.$message.error(\"投递失败，请重试\");\r\n        })\r\n        .finally(() => {\r\n          this.pushingToWechat = false;\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.ai-management-platform {\r\n  min-height: 100vh;\r\n  background-color: #f5f7fa;\r\n  padding-bottom: 30px;\r\n}\r\n\r\n.top-nav {\r\n  background-color: #fff;\r\n  padding: 15px 20px;\r\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\r\n  margin-bottom: 20px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.logo-area {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.logo {\r\n  height: 36px;\r\n  margin-right: 10px;\r\n}\r\n\r\n.platform-title {\r\n  margin: 0;\r\n  font-size: 20px;\r\n  color: #303133;\r\n}\r\n\r\n.main-content {\r\n  padding: 0 30px;\r\n  width: 90%;\r\n  margin: 0 auto;\r\n}\r\n::v-deep .el-collapse-item__header {\r\n  font-size: 16px;\r\n  color: #333;\r\n  padding-left: 20px;\r\n}\r\n.section-title {\r\n  font-size: 18px;\r\n  color: #606266;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.ai-cards {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 20px;\r\n  margin-bottom: 0px;\r\n  margin-left: 20px;\r\n  margin-top: 10px;\r\n}\r\n\r\n.ai-card {\r\n  width: calc(25% - 20px);\r\n  box-sizing: border-box;\r\n}\r\n\r\n.ai-card-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.ai-left {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.ai-avatar {\r\n  margin-right: 10px;\r\n}\r\n\r\n.ai-avatar img {\r\n  width: 30px;\r\n  height: 30px;\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n}\r\n\r\n.ai-name {\r\n  font-weight: bold;\r\n  font-size: 12px;\r\n}\r\n\r\n.ai-status {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.ai-capabilities {\r\n  margin: 15px 0;\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.button-capability-group {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: center;\r\n  gap: 8px;\r\n}\r\n\r\n.button-capability-group .el-button {\r\n  margin: 0;\r\n  border-radius: 16px;\r\n  padding: 6px 12px;\r\n}\r\n\r\n.button-capability-group .el-button.is-plain:hover,\r\n.button-capability-group .el-button.is-plain:focus {\r\n  background: #ecf5ff;\r\n  border-color: #b3d8ff;\r\n  color: #409eff;\r\n}\r\n\r\n.prompt-input-section {\r\n  margin-bottom: 30px;\r\n  padding: 0 20px 0 0px;\r\n}\r\n\r\n.prompt-input {\r\n  margin-bottom: 10px;\r\n  margin-left: 20px;\r\n  width: 99%;\r\n}\r\n\r\n.prompt-footer {\r\n  display: flex;\r\n  margin-bottom: -30px;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.word-count {\r\n  font-size: 12px;\r\n  padding-left: 20px;\r\n}\r\n\r\n.send-button {\r\n  padding: 10px 20px;\r\n}\r\n\r\n.execution-status-section {\r\n  margin-bottom: 30px;\r\n  padding: 20px 0px 0px 0px;\r\n}\r\n\r\n.task-flow-card,\r\n.screenshots-card {\r\n  height: 800px;\r\n}\r\n\r\n.card-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.task-flow {\r\n  padding: 15px;\r\n  height: 800px;\r\n  overflow-y: auto;\r\n  background-color: #f5f7fa;\r\n  border-radius: 4px;\r\n}\r\n\r\n.task-flow::-webkit-scrollbar {\r\n  width: 6px;\r\n}\r\n\r\n.task-flow::-webkit-scrollbar-thumb {\r\n  background-color: #c0c4cc;\r\n  border-radius: 3px;\r\n}\r\n\r\n.task-flow::-webkit-scrollbar-track {\r\n  background-color: #f5f7fa;\r\n}\r\n\r\n.task-item {\r\n  margin-bottom: 15px;\r\n  border-radius: 4px;\r\n  background-color: #fff;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n  overflow: hidden;\r\n}\r\n\r\n.task-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 12px 15px;\r\n  cursor: pointer;\r\n  transition: background-color 0.3s;\r\n  border-bottom: 1px solid #ebeef5;\r\n}\r\n\r\n.task-header:hover {\r\n  background-color: #f5f7fa;\r\n}\r\n\r\n.header-left {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n.header-left .el-icon-arrow-right {\r\n  transition: transform 0.3s;\r\n  font-size: 14px;\r\n  color: #909399;\r\n}\r\n\r\n.header-left .el-icon-arrow-right.is-expanded {\r\n  transform: rotate(90deg);\r\n}\r\n\r\n.progress-timeline {\r\n  position: relative;\r\n  margin: 0;\r\n  padding: 15px 0;\r\n}\r\n\r\n.timeline-scroll {\r\n  max-height: 200px;\r\n  overflow-y: auto;\r\n  padding: 0 15px;\r\n}\r\n\r\n.timeline-scroll::-webkit-scrollbar {\r\n  width: 4px;\r\n}\r\n\r\n.timeline-scroll::-webkit-scrollbar-thumb {\r\n  background-color: #c0c4cc;\r\n  border-radius: 2px;\r\n}\r\n\r\n.timeline-scroll::-webkit-scrollbar-track {\r\n  background-color: #f5f7fa;\r\n}\r\n\r\n.progress-item {\r\n  position: relative;\r\n  padding: 8px 0 8px 20px;\r\n  display: flex;\r\n  align-items: flex-start;\r\n  border-bottom: 1px solid #f0f0f0;\r\n}\r\n\r\n.progress-item:last-child {\r\n  border-bottom: none;\r\n}\r\n\r\n.progress-dot {\r\n  position: absolute;\r\n  left: 0;\r\n  top: 12px;\r\n  width: 10px;\r\n  height: 10px;\r\n  border-radius: 50%;\r\n  background-color: #e0e0e0;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.progress-line {\r\n  position: absolute;\r\n  left: 4px;\r\n  top: 22px;\r\n  bottom: -8px;\r\n  width: 2px;\r\n  background-color: #e0e0e0;\r\n}\r\n\r\n.progress-content {\r\n  flex: 1;\r\n  min-width: 0;\r\n}\r\n\r\n.progress-time {\r\n  font-size: 12px;\r\n  color: #909399;\r\n  margin-bottom: 4px;\r\n}\r\n\r\n.progress-text {\r\n  font-size: 13px;\r\n  color: #606266;\r\n  line-height: 1.4;\r\n  word-break: break-all;\r\n}\r\n\r\n.progress-item.completed .progress-dot {\r\n  background-color: #67c23a;\r\n}\r\n\r\n.progress-item.completed .progress-line {\r\n  background-color: #67c23a;\r\n}\r\n\r\n.progress-item.current .progress-dot {\r\n  background-color: #409eff;\r\n  animation: pulse 1.5s infinite;\r\n}\r\n\r\n.progress-item.current .progress-line {\r\n  background-color: #409eff;\r\n}\r\n\r\n.ai-name {\r\n  font-weight: 600;\r\n  font-size: 14px;\r\n  color: #303133;\r\n}\r\n\r\n.header-right {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n.status-text {\r\n  font-size: 13px;\r\n  color: #606266;\r\n}\r\n\r\n.status-icon {\r\n  font-size: 16px;\r\n}\r\n\r\n.success-icon {\r\n  color: #67c23a;\r\n}\r\n\r\n.error-icon {\r\n  color: #f56c6c;\r\n}\r\n\r\n@keyframes pulse {\r\n  0% {\r\n    box-shadow: 0 0 0 0 rgba(64, 158, 255, 0.4);\r\n  }\r\n  70% {\r\n    box-shadow: 0 0 0 6px rgba(64, 158, 255, 0);\r\n  }\r\n  100% {\r\n    box-shadow: 0 0 0 0 rgba(64, 158, 255, 0);\r\n  }\r\n}\r\n\r\n.screenshot-image {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: contain;\r\n  cursor: pointer;\r\n  transition: transform 0.3s;\r\n}\r\n\r\n.screenshot-image:hover {\r\n  transform: scale(1.05);\r\n}\r\n\r\n.results-section {\r\n  margin-top: 20px;\r\n  padding: 0 10px;\r\n}\r\n\r\n.result-content {\r\n  padding: 20px 30px;\r\n}\r\n\r\n.result-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 15px;\r\n  padding-bottom: 10px;\r\n  border-bottom: 1px solid #ebeef5;\r\n}\r\n\r\n.result-title {\r\n  font-size: 16px;\r\n  font-weight: 600;\r\n  color: #303133;\r\n}\r\n\r\n.result-buttons {\r\n  display: flex;\r\n  gap: 10px;\r\n  align-items: center;\r\n}\r\n\r\n.share-link-btn,\r\n.push-wechat-btn {\r\n  border-radius: 16px;\r\n  padding: 6px 12px;\r\n}\r\n\r\n.markdown-content {\r\n  margin-bottom: 20px;\r\n  max-height: 400px;\r\n  overflow-y: auto;\r\n  padding: 15px 20px;\r\n  border: 1px solid #ebeef5;\r\n  border-radius: 4px;\r\n  background-color: #fff;\r\n}\r\n\r\n.action-buttons {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 10px;\r\n  padding: 0 10px;\r\n}\r\n\r\n@media (max-width: 1200px) {\r\n  .ai-card {\r\n    width: calc(33.33% - 14px);\r\n  }\r\n}\r\n\r\n@media (max-width: 992px) {\r\n  .ai-card {\r\n    width: calc(50% - 10px);\r\n  }\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .ai-card {\r\n    width: 100%;\r\n  }\r\n}\r\n\r\n.el-collapse {\r\n  border-top: none;\r\n  border-bottom: none;\r\n}\r\n\r\n.el-collapse-item__content {\r\n  padding: 15px 0;\r\n}\r\n\r\n.ai-selection-section {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.prompt-input-section {\r\n  margin-bottom: 30px;\r\n  padding: 0 20px 0 0px;\r\n}\r\n\r\n.image-dialog .el-dialog__body {\r\n  padding: 0;\r\n}\r\n\r\n.large-image-container {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: #000;\r\n}\r\n\r\n.large-image {\r\n  max-width: 100%;\r\n  max-height: 80vh;\r\n  object-fit: contain;\r\n}\r\n\r\n.image-dialog .el-carousel {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n.image-dialog .el-carousel__container {\r\n  height: 80vh;\r\n}\r\n\r\n.image-dialog .el-carousel__item {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: #000;\r\n}\r\n\r\n.section-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.score-dialog-content {\r\n  padding: 20px;\r\n}\r\n\r\n.selected-results {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.result-checkbox {\r\n  margin-right: 20px;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.score-prompt-section {\r\n  margin-top: 20px;\r\n}\r\n\r\n.score-prompt-input {\r\n  margin-top: 10px;\r\n}\r\n\r\n.score-prompt-input .el-textarea__inner {\r\n  min-height: 500px !important;\r\n}\r\n\r\n.dialog-footer {\r\n  text-align: right;\r\n}\r\n\r\n.score-dialog .el-dialog {\r\n  height: 95vh;\r\n  margin-top: 2.5vh !important;\r\n}\r\n\r\n.score-dialog .el-dialog__body {\r\n  height: calc(95vh - 120px);\r\n  overflow-y: auto;\r\n  padding: 20px;\r\n}\r\n\r\n.layout-dialog-content {\r\n  padding: 20px;\r\n}\r\n\r\n.layout-prompt-section {\r\n  margin-top: 20px;\r\n}\r\n\r\n.layout-prompt-input {\r\n  margin-top: 10px;\r\n}\r\n\r\n.layout-prompt-input .el-textarea__inner {\r\n  min-height: 500px !important;\r\n}\r\n\r\n.layout-dialog .el-dialog {\r\n  height: 95vh;\r\n  margin-top: 2.5vh !important;\r\n}\r\n\r\n.layout-dialog .el-dialog__body {\r\n  height: calc(95vh - 120px);\r\n  overflow-y: auto;\r\n  padding: 20px;\r\n}\r\n\r\n.nav-buttons {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 20px;\r\n}\r\n\r\n.history-button {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.history-icon {\r\n  width: 24px;\r\n  height: 24px;\r\n  vertical-align: middle;\r\n}\r\n\r\n.history-content {\r\n  padding: 20px;\r\n}\r\n\r\n.history-group {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.history-date {\r\n  font-size: 14px;\r\n  color: #909399;\r\n  margin-bottom: 10px;\r\n  padding: 5px 0;\r\n  border-bottom: 1px solid #ebeef5;\r\n}\r\n\r\n.history-list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 10px;\r\n}\r\n\r\n.history-item {\r\n  margin-bottom: 15px;\r\n  border-radius: 4px;\r\n  background-color: #f5f7fa;\r\n  overflow: hidden;\r\n}\r\n\r\n.history-parent {\r\n  padding: 10px;\r\n  cursor: pointer;\r\n  transition: background-color 0.3s;\r\n  border-bottom: 1px solid #ebeef5;\r\n}\r\n\r\n.history-parent:hover {\r\n  background-color: #ecf5ff;\r\n}\r\n\r\n.history-children {\r\n  padding-left: 20px;\r\n  background-color: #fff;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.history-child-item {\r\n  padding: 8px 10px;\r\n  cursor: pointer;\r\n  transition: background-color 0.3s;\r\n  border-bottom: 1px solid #f0f0f0;\r\n}\r\n\r\n.history-child-item:last-child {\r\n  border-bottom: none;\r\n}\r\n\r\n.history-child-item:hover {\r\n  background-color: #f5f7fa;\r\n}\r\n\r\n.history-header {\r\n  display: flex;\r\n  align-items: flex-start;\r\n  gap: 8px;\r\n}\r\n\r\n.history-header .el-icon-arrow-right {\r\n  font-size: 14px;\r\n  color: #909399;\r\n  transition: transform 0.3s;\r\n  cursor: pointer;\r\n  margin-top: 3px;\r\n}\r\n\r\n.history-header .el-icon-arrow-right.is-expanded {\r\n  transform: rotate(90deg);\r\n}\r\n\r\n.history-prompt {\r\n  font-size: 14px;\r\n  color: #303133;\r\n  margin-bottom: 5px;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  display: -webkit-box;\r\n  -webkit-line-clamp: 2;\r\n  -webkit-box-orient: vertical;\r\n  flex: 1;\r\n}\r\n\r\n.history-time {\r\n  font-size: 12px;\r\n  color: #909399;\r\n}\r\n\r\n.capability-button {\r\n  transition: all 0.3s;\r\n}\r\n\r\n.capability-button.el-button--primary {\r\n  background-color: #409eff;\r\n  border-color: #409eff;\r\n  color: #fff;\r\n}\r\n\r\n.capability-button.el-button--info {\r\n  background-color: #fff;\r\n  border-color: #dcdfe6;\r\n  color: #606266;\r\n}\r\n\r\n.capability-button.el-button--info:hover {\r\n  color: #409eff;\r\n  border-color: #c6e2ff;\r\n  background-color: #ecf5ff;\r\n}\r\n\r\n.capability-button.el-button--primary:hover {\r\n  background-color: #66b1ff;\r\n  border-color: #66b1ff;\r\n  color: #fff;\r\n}\r\n\r\n/* 分享内容样式 */\r\n.share-content {\r\n  margin-bottom: 20px;\r\n  padding: 15px 20px;\r\n  border: 1px solid #ebeef5;\r\n  border-radius: 4px;\r\n  background-color: #fff;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: flex-start;\r\n  min-height: 600px;\r\n  max-height: 800px;\r\n  overflow: auto;\r\n}\r\n\r\n.share-image {\r\n  object-fit: contain;\r\n  display: block;\r\n}\r\n\r\n.share-pdf {\r\n  width: 100%;\r\n  height: 600px;\r\n  border: none;\r\n  border-radius: 4px;\r\n}\r\n\r\n.share-file {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 200px;\r\n  flex-direction: column;\r\n  color: #909399;\r\n}\r\n\r\n.single-image-container {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 100%;\r\n  height: 80vh;\r\n}\r\n\r\n.single-image-container .large-image {\r\n  max-width: 100%;\r\n  max-height: 100%;\r\n  object-fit: contain;\r\n}\r\n\r\n/* 用于处理DeepSeek特殊格式的样式 */\r\n.deepseek-format-container {\r\n  margin: 20px 0;\r\n  padding: 15px;\r\n  background-color: #f9f9f9;\r\n  border-radius: 5px;\r\n  border: 1px solid #eaeaea;\r\n}\r\n\r\n/* DeepSeek响应内容的特定样式 */\r\n::v-deep .deepseek-response {\r\n  max-width: 800px;\r\n  margin: 0 auto;\r\n  background-color: #fff;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\r\n  padding: 20px;\r\n  font-family: Arial, sans-serif;\r\n}\r\n\r\n::v-deep .deepseek-response pre {\r\n  background-color: #f5f5f5;\r\n  padding: 10px;\r\n  border-radius: 4px;\r\n  font-family: monospace;\r\n  overflow-x: auto;\r\n  display: block;\r\n  margin: 10px 0;\r\n}\r\n\r\n::v-deep .deepseek-response code {\r\n  background-color: #f5f5f5;\r\n  padding: 2px 4px;\r\n  border-radius: 3px;\r\n  font-family: monospace;\r\n}\r\n\r\n::v-deep .deepseek-response table {\r\n  border-collapse: collapse;\r\n  width: 100%;\r\n  margin: 15px 0;\r\n}\r\n\r\n::v-deep .deepseek-response th,\r\n::v-deep .deepseek-response td {\r\n  border: 1px solid #ddd;\r\n  padding: 8px;\r\n  text-align: left;\r\n}\r\n\r\n::v-deep .deepseek-response th {\r\n  background-color: #f2f2f2;\r\n  font-weight: bold;\r\n}\r\n\r\n::v-deep .deepseek-response h1,\r\n::v-deep .deepseek-response h2,\r\n::v-deep .deepseek-response h3,\r\n::v-deep .deepseek-response h4,\r\n::v-deep .deepseek-response h5,\r\n::v-deep .deepseek-response h6 {\r\n  margin-top: 20px;\r\n  margin-bottom: 10px;\r\n  font-weight: bold;\r\n  color: #222;\r\n}\r\n\r\n::v-deep .deepseek-response a {\r\n  color: #0066cc;\r\n  text-decoration: none;\r\n}\r\n\r\n::v-deep .deepseek-response blockquote {\r\n  border-left: 4px solid #ddd;\r\n  padding-left: 15px;\r\n  margin: 15px 0;\r\n  color: #555;\r\n}\r\n\r\n::v-deep .deepseek-response ul,\r\n::v-deep .deepseek-response ol {\r\n  padding-left: 20px;\r\n  margin: 10px 0;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]}]}