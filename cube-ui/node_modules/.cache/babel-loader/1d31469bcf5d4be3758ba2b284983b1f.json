{"remainingRequest":"D:\\U3W-AIProject\\U3W-AI\\cube-ui\\node_modules\\babel-loader\\lib\\index.js!D:\\U3W-AIProject\\U3W-AI\\cube-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\U3W-AIProject\\U3W-AI\\cube-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\U3W-AIProject\\U3W-AI\\cube-ui\\src\\views\\tool\\gen\\importTable.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\U3W-AIProject\\U3W-AI\\cube-ui\\src\\views\\tool\\gen\\importTable.vue","mtime":1752382983667},{"path":"D:\\U3W-AIProject\\U3W-AI\\cube-ui\\babel.config.js","mtime":1752382983593},{"path":"D:\\U3W-AIProject\\U3W-AI\\cube-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1752387764959},{"path":"D:\\U3W-AIProject\\U3W-AI\\cube-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1752387764613},{"path":"D:\\U3W-AIProject\\U3W-AI\\cube-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1752387764959},{"path":"D:\\U3W-AIProject\\U3W-AI\\cube-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1752387756652}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC5pdGVyYXRvci5jb25zdHJ1Y3Rvci5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXNuZXh0Lml0ZXJhdG9yLm1hcC5qcyIpOwp2YXIgX2dlbiA9IHJlcXVpcmUoIkAvYXBpL3Rvb2wvZ2VuIik7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCnZhciBfZGVmYXVsdCA9IGV4cG9ydHMuZGVmYXVsdCA9IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy8g6YGu572p5bGCCiAgICAgIHZpc2libGU6IGZhbHNlLAogICAgICAvLyDpgInkuK3mlbDnu4TlgLwKICAgICAgdGFibGVzOiBbXSwKICAgICAgLy8g5oC75p2h5pWwCiAgICAgIHRvdGFsOiAwLAogICAgICAvLyDooajmlbDmja4KICAgICAgZGJUYWJsZUxpc3Q6IFtdLAogICAgICAvLyDmn6Xor6Llj4LmlbAKICAgICAgcXVlcnlQYXJhbXM6IHsKICAgICAgICBwYWdlTnVtOiAxLAogICAgICAgIHBhZ2VTaXplOiAxMCwKICAgICAgICB0YWJsZU5hbWU6IHVuZGVmaW5lZCwKICAgICAgICB0YWJsZUNvbW1lbnQ6IHVuZGVmaW5lZAogICAgICB9CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgLy8g5pi+56S65by55qGGCiAgICBzaG93OiBmdW5jdGlvbiBzaG93KCkgewogICAgICB0aGlzLmdldExpc3QoKTsKICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZTsKICAgIH0sCiAgICBjbGlja1JvdzogZnVuY3Rpb24gY2xpY2tSb3cocm93KSB7CiAgICAgIHRoaXMuJHJlZnMudGFibGUudG9nZ2xlUm93U2VsZWN0aW9uKHJvdyk7CiAgICB9LAogICAgLy8g5aSa6YCJ5qGG6YCJ5Lit5pWw5o2uCiAgICBoYW5kbGVTZWxlY3Rpb25DaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZVNlbGVjdGlvbkNoYW5nZShzZWxlY3Rpb24pIHsKICAgICAgdGhpcy50YWJsZXMgPSBzZWxlY3Rpb24ubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0udGFibGVOYW1lOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDmn6Xor6LooajmlbDmja4KICAgIGdldExpc3Q6IGZ1bmN0aW9uIGdldExpc3QoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgICgwLCBfZ2VuLmxpc3REYlRhYmxlKSh0aGlzLnF1ZXJ5UGFyYW1zKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgX3RoaXMuZGJUYWJsZUxpc3QgPSByZXMucm93czsKICAgICAgICAgIF90aGlzLnRvdGFsID0gcmVzLnRvdGFsOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLyoqIOaQnOe0ouaMiemSruaTjeS9nCAqL2hhbmRsZVF1ZXJ5OiBmdW5jdGlvbiBoYW5kbGVRdWVyeSgpIHsKICAgICAgdGhpcy5xdWVyeVBhcmFtcy5wYWdlTnVtID0gMTsKICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICB9LAogICAgLyoqIOmHjee9ruaMiemSruaTjeS9nCAqL3Jlc2V0UXVlcnk6IGZ1bmN0aW9uIHJlc2V0UXVlcnkoKSB7CiAgICAgIHRoaXMucmVzZXRGb3JtKCJxdWVyeUZvcm0iKTsKICAgICAgdGhpcy5oYW5kbGVRdWVyeSgpOwogICAgfSwKICAgIC8qKiDlr7zlhaXmjInpkq7mk43kvZwgKi9oYW5kbGVJbXBvcnRUYWJsZTogZnVuY3Rpb24gaGFuZGxlSW1wb3J0VGFibGUoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICB2YXIgdGFibGVOYW1lcyA9IHRoaXMudGFibGVzLmpvaW4oIiwiKTsKICAgICAgaWYgKHRhYmxlTmFtZXMgPT0gIiIpIHsKICAgICAgICB0aGlzLiRtb2RhbC5tc2dFcnJvcigi6K+36YCJ5oup6KaB5a+85YWl55qE6KGoIik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgICgwLCBfZ2VuLmltcG9ydFRhYmxlKSh7CiAgICAgICAgdGFibGVzOiB0YWJsZU5hbWVzCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMi4kbW9kYWwubXNnU3VjY2VzcyhyZXMubXNnKTsKICAgICAgICBpZiAocmVzLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgX3RoaXMyLnZpc2libGUgPSBmYWxzZTsKICAgICAgICAgIF90aGlzMi4kZW1pdCgib2siKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"names":["_gen","require","data","visible","tables","total","dbTableList","queryParams","pageNum","pageSize","tableName","undefined","tableComment","methods","show","getList","clickRow","row","$refs","table","toggleRowSelection","handleSelectionChange","selection","map","item","_this","listDbTable","then","res","code","rows","handleQuery","resetQuery","resetForm","handleImportTable","_this2","tableNames","join","$modal","msgError","importTable","msgSuccess","msg","$emit"],"sources":["src/views/tool/gen/importTable.vue"],"sourcesContent":["<template>\r\n  <!-- 导入表 -->\r\n  <el-dialog title=\"导入表\" :visible.sync=\"visible\" width=\"800px\" top=\"5vh\" append-to-body>\r\n    <el-form :model=\"queryParams\" ref=\"queryForm\" size=\"small\" :inline=\"true\">\r\n      <el-form-item label=\"表名称\" prop=\"tableName\">\r\n        <el-input\r\n          v-model=\"queryParams.tableName\"\r\n          placeholder=\"请输入表名称\"\r\n          clearable\r\n          @keyup.enter.native=\"handleQuery\"\r\n        />\r\n      </el-form-item>\r\n      <el-form-item label=\"表描述\" prop=\"tableComment\">\r\n        <el-input\r\n          v-model=\"queryParams.tableComment\"\r\n          placeholder=\"请输入表描述\"\r\n          clearable\r\n          @keyup.enter.native=\"handleQuery\"\r\n        />\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" icon=\"el-icon-search\" size=\"mini\" @click=\"handleQuery\">搜索</el-button>\r\n        <el-button icon=\"el-icon-refresh\" size=\"mini\" @click=\"resetQuery\">重置</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n    <el-row>\r\n      <el-table @row-click=\"clickRow\" ref=\"table\" :data=\"dbTableList\" @selection-change=\"handleSelectionChange\" height=\"260px\">\r\n        <el-table-column type=\"selection\" width=\"55\"></el-table-column>\r\n        <el-table-column prop=\"tableName\" label=\"表名称\" :show-overflow-tooltip=\"true\"></el-table-column>\r\n        <el-table-column prop=\"tableComment\" label=\"表描述\" :show-overflow-tooltip=\"true\"></el-table-column>\r\n        <el-table-column prop=\"createTime\" label=\"创建时间\"></el-table-column>\r\n        <el-table-column prop=\"updateTime\" label=\"更新时间\"></el-table-column>\r\n      </el-table>\r\n      <pagination\r\n        v-show=\"total>0\"\r\n        :total=\"total\"\r\n        :page.sync=\"queryParams.pageNum\"\r\n        :limit.sync=\"queryParams.pageSize\"\r\n        @pagination=\"getList\"\r\n      />\r\n    </el-row>\r\n    <div slot=\"footer\" class=\"dialog-footer\">\r\n      <el-button type=\"primary\" @click=\"handleImportTable\">确 定</el-button>\r\n      <el-button @click=\"visible = false\">取 消</el-button>\r\n    </div>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport { listDbTable, importTable } from \"@/api/tool/gen\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      // 遮罩层\r\n      visible: false,\r\n      // 选中数组值\r\n      tables: [],\r\n      // 总条数\r\n      total: 0,\r\n      // 表数据\r\n      dbTableList: [],\r\n      // 查询参数\r\n      queryParams: {\r\n        pageNum: 1,\r\n        pageSize: 10,\r\n        tableName: undefined,\r\n        tableComment: undefined\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    // 显示弹框\r\n    show() {\r\n      this.getList();\r\n      this.visible = true;\r\n    },\r\n    clickRow(row) {\r\n      this.$refs.table.toggleRowSelection(row);\r\n    },\r\n    // 多选框选中数据\r\n    handleSelectionChange(selection) {\r\n      this.tables = selection.map(item => item.tableName);\r\n    },\r\n    // 查询表数据\r\n    getList() {\r\n      listDbTable(this.queryParams).then(res => {\r\n        if (res.code === 200) {\r\n          this.dbTableList = res.rows;\r\n          this.total = res.total;\r\n        }\r\n      });\r\n    },\r\n    /** 搜索按钮操作 */\r\n    handleQuery() {\r\n      this.queryParams.pageNum = 1;\r\n      this.getList();\r\n    },\r\n    /** 重置按钮操作 */\r\n    resetQuery() {\r\n      this.resetForm(\"queryForm\");\r\n      this.handleQuery();\r\n    },\r\n    /** 导入按钮操作 */\r\n    handleImportTable() {\r\n      const tableNames = this.tables.join(\",\");\r\n      if (tableNames == \"\") {\r\n        this.$modal.msgError(\"请选择要导入的表\");\r\n        return;\r\n      }\r\n      importTable({ tables: tableNames }).then(res => {\r\n        this.$modal.msgSuccess(res.msg);\r\n        if (res.code === 200) {\r\n          this.visible = false;\r\n          this.$emit(\"ok\");\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n"],"mappings":";;;;;;;;;;;AAiDA,IAAAA,IAAA,GAAAC,OAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;iCACA;EACAC,IAAA,WAAAA,KAAA;IACA;MACA;MACAC,OAAA;MACA;MACAC,MAAA;MACA;MACAC,KAAA;MACA;MACAC,WAAA;MACA;MACAC,WAAA;QACAC,OAAA;QACAC,QAAA;QACAC,SAAA,EAAAC,SAAA;QACAC,YAAA,EAAAD;MACA;IACA;EACA;EACAE,OAAA;IACA;IACAC,IAAA,WAAAA,KAAA;MACA,KAAAC,OAAA;MACA,KAAAZ,OAAA;IACA;IACAa,QAAA,WAAAA,SAAAC,GAAA;MACA,KAAAC,KAAA,CAAAC,KAAA,CAAAC,kBAAA,CAAAH,GAAA;IACA;IACA;IACAI,qBAAA,WAAAA,sBAAAC,SAAA;MACA,KAAAlB,MAAA,GAAAkB,SAAA,CAAAC,GAAA,WAAAC,IAAA;QAAA,OAAAA,IAAA,CAAAd,SAAA;MAAA;IACA;IACA;IACAK,OAAA,WAAAA,QAAA;MAAA,IAAAU,KAAA;MACA,IAAAC,gBAAA,OAAAnB,WAAA,EAAAoB,IAAA,WAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,IAAA;UACAJ,KAAA,CAAAnB,WAAA,GAAAsB,GAAA,CAAAE,IAAA;UACAL,KAAA,CAAApB,KAAA,GAAAuB,GAAA,CAAAvB,KAAA;QACA;MACA;IACA;IACA,aACA0B,WAAA,WAAAA,YAAA;MACA,KAAAxB,WAAA,CAAAC,OAAA;MACA,KAAAO,OAAA;IACA;IACA,aACAiB,UAAA,WAAAA,WAAA;MACA,KAAAC,SAAA;MACA,KAAAF,WAAA;IACA;IACA,aACAG,iBAAA,WAAAA,kBAAA;MAAA,IAAAC,MAAA;MACA,IAAAC,UAAA,QAAAhC,MAAA,CAAAiC,IAAA;MACA,IAAAD,UAAA;QACA,KAAAE,MAAA,CAAAC,QAAA;QACA;MACA;MACA,IAAAC,gBAAA;QAAApC,MAAA,EAAAgC;MAAA,GAAAT,IAAA,WAAAC,GAAA;QACAO,MAAA,CAAAG,MAAA,CAAAG,UAAA,CAAAb,GAAA,CAAAc,GAAA;QACA,IAAAd,GAAA,CAAAC,IAAA;UACAM,MAAA,CAAAhC,OAAA;UACAgC,MAAA,CAAAQ,KAAA;QACA;MACA;IACA;EACA;AACA","ignoreList":[]}]}